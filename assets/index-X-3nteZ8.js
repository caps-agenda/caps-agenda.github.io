(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var cm={exports:{}},Ol={};var O_;function lS(){if(O_)return Ol;O_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=e,Ol.jsx=n,Ol.jsxs=n,Ol}var M_;function uS(){return M_||(M_=1,cm.exports=lS()),cm.exports}var v=uS(),hm={exports:{}},Ne={};var V_;function cS(){if(V_)return Ne;V_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,F={};function W(O,X,ae){this.props=O,this.context=X,this.refs=F,this.updater=ae||$}W.prototype.isReactComponent={},W.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},W.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ie(){}ie.prototype=W.prototype;function re(O,X,ae){this.props=O,this.context=X,this.refs=F,this.updater=ae||$}var ge=re.prototype=new ie;ge.constructor=re,Y(ge,W.prototype),ge.isPureReactComponent=!0;var ke=Array.isArray;function Ie(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(O,X,ae){var le=ae.ref;return{$$typeof:r,type:O,key:X,ref:le!==void 0?le:null,props:ae}}function V(O,X){return R(O.type,X,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return X[ae]})}var C=/\/+/g;function at(O,X){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):X.toString(36)}function mt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ie,Ie):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function P(O,X,ae,le,Se){var Re=typeof O;(Re==="undefined"||Re==="boolean")&&(O=null);var Le=!1;if(O===null)Le=!0;else switch(Re){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(O.$$typeof){case r:case e:Le=!0;break;case E:return Le=O._init,P(Le(O._payload),X,ae,le,Se)}}if(Le)return Se=Se(O),Le=le===""?"."+at(O,0):le,ke(Se)?(ae="",Le!=null&&(ae=Le.replace(C,"$&/")+"/"),P(Se,X,ae,"",function($i){return $i})):Se!=null&&(D(Se)&&(Se=V(Se,ae+(Se.key==null||O&&O.key===Se.key?"":(""+Se.key).replace(C,"$&/")+"/")+Le)),X.push(Se)),1;Le=0;var At=le===""?".":le+":";if(ke(O))for(var ht=0;ht<O.length;ht++)le=O[ht],Re=At+at(le,ht),Le+=P(le,X,ae,Re,Se);else if(ht=j(O),typeof ht=="function")for(O=ht.call(O),ht=0;!(le=O.next()).done;)le=le.value,Re=At+at(le,ht++),Le+=P(le,X,ae,Re,Se);else if(Re==="object"){if(typeof O.then=="function")return P(mt(O),X,ae,le,Se);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ne(O,X,ae){if(O==null)return O;var le=[],Se=0;return P(O,le,"","",function(Re){return X.call(ae,Re,Se++)}),le}function he(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var de=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},xe={map:ne,forEach:function(O,X,ae){ne(O,function(){X.apply(this,arguments)},ae)},count:function(O){var X=0;return ne(O,function(){X++}),X},toArray:function(O){return ne(O,function(X){return X})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ne.Activity=T,Ne.Children=xe,Ne.Component=W,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=re,Ne.StrictMode=s,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Ne.cache=function(O){return function(){return O.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(O,X,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=Y({},O.props),Se=O.key;if(X!=null)for(Re in X.key!==void 0&&(Se=""+X.key),X)!x.call(X,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&X.ref===void 0||(le[Re]=X[Re]);var Re=arguments.length-2;if(Re===1)le.children=ae;else if(1<Re){for(var Le=Array(Re),At=0;At<Re;At++)Le[At]=arguments[At+2];le.children=Le}return R(O.type,Se,le)},Ne.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ne.createElement=function(O,X,ae){var le,Se={},Re=null;if(X!=null)for(le in X.key!==void 0&&(Re=""+X.key),X)x.call(X,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Se[le]=X[le]);var Le=arguments.length-2;if(Le===1)Se.children=ae;else if(1<Le){for(var At=Array(Le),ht=0;ht<Le;ht++)At[ht]=arguments[ht+2];Se.children=At}if(O&&O.defaultProps)for(le in Le=O.defaultProps,Le)Se[le]===void 0&&(Se[le]=Le[le]);return R(O,Re,Se)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(O){return{$$typeof:m,render:O}},Ne.isValidElement=D,Ne.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:he}},Ne.memo=function(O,X){return{$$typeof:g,type:O,compare:X===void 0?null:X}},Ne.startTransition=function(O){var X=I.T,ae={};I.T=ae;try{var le=O(),Se=I.S;Se!==null&&Se(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ie,de)}catch(Re){de(Re)}finally{X!==null&&ae.types!==null&&(X.types=ae.types),I.T=X}},Ne.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ne.use=function(O){return I.H.use(O)},Ne.useActionState=function(O,X,ae){return I.H.useActionState(O,X,ae)},Ne.useCallback=function(O,X){return I.H.useCallback(O,X)},Ne.useContext=function(O){return I.H.useContext(O)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(O,X){return I.H.useDeferredValue(O,X)},Ne.useEffect=function(O,X){return I.H.useEffect(O,X)},Ne.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Ne.useId=function(){return I.H.useId()},Ne.useImperativeHandle=function(O,X,ae){return I.H.useImperativeHandle(O,X,ae)},Ne.useInsertionEffect=function(O,X){return I.H.useInsertionEffect(O,X)},Ne.useLayoutEffect=function(O,X){return I.H.useLayoutEffect(O,X)},Ne.useMemo=function(O,X){return I.H.useMemo(O,X)},Ne.useOptimistic=function(O,X){return I.H.useOptimistic(O,X)},Ne.useReducer=function(O,X,ae){return I.H.useReducer(O,X,ae)},Ne.useRef=function(O){return I.H.useRef(O)},Ne.useState=function(O){return I.H.useState(O)},Ne.useSyncExternalStore=function(O,X,ae){return I.H.useSyncExternalStore(O,X,ae)},Ne.useTransition=function(){return I.H.useTransition()},Ne.version="19.2.0",Ne}var k_;function up(){return k_||(k_=1,hm.exports=cS()),hm.exports}var U=up(),fm={exports:{}},Ml={},dm={exports:{}},mm={};var j_;function hS(){return j_||(j_=1,(function(r){function e(P,ne){var he=P.length;P.push(ne);e:for(;0<he;){var de=he-1>>>1,xe=P[de];if(0<o(xe,ne))P[de]=ne,P[he]=xe,he=de;else break e}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var ne=P[0],he=P.pop();if(he!==ne){P[0]=he;e:for(var de=0,xe=P.length,O=xe>>>1;de<O;){var X=2*(de+1)-1,ae=P[X],le=X+1,Se=P[le];if(0>o(ae,he))le<xe&&0>o(Se,ae)?(P[de]=Se,P[le]=he,de=le):(P[de]=ae,P[X]=he,de=X);else if(le<xe&&0>o(Se,he))P[de]=Se,P[le]=he,de=le;else break e}}return ne}function o(P,ne){var he=P.sortIndex-ne.sortIndex;return he!==0?he:P.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,A=3,j=!1,$=!1,Y=!1,F=!1,W=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ge(P){for(var ne=n(g);ne!==null;){if(ne.callback===null)s(g);else if(ne.startTime<=P)s(g),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=n(g)}}function ke(P){if(Y=!1,ge(P),!$)if(n(p)!==null)$=!0,Ie||(Ie=!0,k());else{var ne=n(g);ne!==null&&mt(ke,ne.startTime-P)}}var Ie=!1,I=-1,x=5,R=-1;function V(){return F?!0:!(r.unstable_now()-R<x)}function D(){if(F=!1,Ie){var P=r.unstable_now();R=P;var ne=!0;try{e:{$=!1,Y&&(Y=!1,ie(I),I=-1),j=!0;var he=A;try{t:{for(ge(P),T=n(p);T!==null&&!(T.expirationTime>P&&V());){var de=T.callback;if(typeof de=="function"){T.callback=null,A=T.priorityLevel;var xe=de(T.expirationTime<=P);if(P=r.unstable_now(),typeof xe=="function"){T.callback=xe,ge(P),ne=!0;break t}T===n(p)&&s(p),ge(P)}else s(p);T=n(p)}if(T!==null)ne=!0;else{var O=n(g);O!==null&&mt(ke,O.startTime-P),ne=!1}}break e}finally{T=null,A=he,j=!1}ne=void 0}}finally{ne?k():Ie=!1}}}var k;if(typeof re=="function")k=function(){re(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,at=C.port2;C.port1.onmessage=D,k=function(){at.postMessage(null)}}else k=function(){W(D,0)};function mt(P,ne){I=W(function(){P(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(P){P.callback=null},r.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<P?Math.floor(1e3/P):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(P){switch(A){case 1:case 2:case 3:var ne=3;break;default:ne=A}var he=A;A=ne;try{return P()}finally{A=he}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(P,ne){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var he=A;A=P;try{return ne()}finally{A=he}},r.unstable_scheduleCallback=function(P,ne,he){var de=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?de+he:de):he=de,P){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=he+xe,P={id:E++,callback:ne,priorityLevel:P,startTime:he,expirationTime:xe,sortIndex:-1},he>de?(P.sortIndex=he,e(g,P),n(p)===null&&P===n(g)&&(Y?(ie(I),I=-1):Y=!0,mt(ke,he-de))):(P.sortIndex=xe,e(p,P),$||j||($=!0,Ie||(Ie=!0,k()))),P},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(P){var ne=A;return function(){var he=A;A=ne;try{return P.apply(this,arguments)}finally{A=he}}}})(mm)),mm}var P_;function fS(){return P_||(P_=1,dm.exports=hS()),dm.exports}var pm={exports:{}},on={};var L_;function dS(){if(L_)return on;L_=1;var r=up();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},on.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},on.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},on.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},on.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:j}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},on.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},on.requestFormReset=function(p){s.d.r(p)},on.unstable_batchedUpdates=function(p,g){return p(g)},on.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},on.useFormStatus=function(){return f.H.useHostTransitionStatus()},on.version="19.2.0",on}var U_;function mS(){if(U_)return pm.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pm.exports=dS(),pm.exports}var z_;function pS(){if(z_)return Ml;z_=1;var r=fS(),e=up(),n=mS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,w=h.child;w;){if(w===a){_=!0,a=h,l=d;break}if(w===l){_=!0,l=h,a=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===a){_=!0,a=d,l=h;break}if(w===l){_=!0,l=d,a=h;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case W:return"Profiler";case F:return"StrictMode";case ke:return"Suspense";case Ie:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case re:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:at(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return at(t(i))}catch{}}return null}var mt=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},de=[],xe=-1;function O(t){return{current:t}}function X(t){0>xe||(t.current=de[xe],de[xe]=null,xe--)}function ae(t,i){xe++,de[xe]=t.current,t.current=i}var le=O(null),Se=O(null),Re=O(null),Le=O(null);function At(t,i){switch(ae(Re,i),ae(Se,t),ae(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?t_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=t_(i),t=n_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(le),ae(le,t)}function ht(){X(le),X(Se),X(Re)}function $i(t){t.memoizedState!==null&&ae(Le,t);var i=le.current,a=n_(i,t.type);i!==a&&(ae(Se,t),ae(le,a))}function Er(t){Se.current===t&&(X(le),X(Se)),Le.current===t&&(X(Le),Cl._currentValue=he)}var Tr,ue;function ye(t){if(Tr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Tr=i&&i[1]||"",ue=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tr+t+ue}var Pe=!1;function Be(t,i){if(!t||Pe)return"";Pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var H=Q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Q){H=Q}t.call(Z.prototype)}}else{try{throw Error()}catch(Q){H=Q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var N=_.split(`
`),q=w.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===q.length)for(l=N.length-1,h=q.length-1;1<=l&&0<=h&&N[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==q[h]){var K=`
`+N[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Pe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ye(a):""}function be(t,i){switch(t.tag){case 26:case 27:case 5:return ye(t.type);case 16:return ye("Lazy");case 13:return t.child!==i&&i!==null?ye("Suspense Fallback"):ye("Suspense");case 19:return ye("SuspenseList");case 0:case 15:return Be(t.type,!1);case 11:return Be(t.type.render,!1);case 1:return Be(t.type,!0);case 31:return ye("Activity");default:return""}}function Xe(t){try{var i="",a=null;do i+=be(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,Ae=r.unstable_cancelCallback,_t=r.unstable_shouldYield,Tt=r.unstable_requestPaint,qe=r.unstable_now,mn=r.unstable_getCurrentPriorityLevel,jn=r.unstable_ImmediatePriority,xs=r.unstable_UserBlockingPriority,wr=r.unstable_NormalPriority,df=r.unstable_LowPriority,Tu=r.unstable_IdlePriority,wu=r.log,Su=r.unstable_setDisableYieldValue,Zn=null,Jt=null;function Pn(t){if(typeof wu=="function"&&Su(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Zn,t)}catch{}}var Rt=Math.clz32?Math.clz32:Au,xu=Math.log,da=Math.LN2;function Au(t){return t>>>=0,t===0?32:31-(xu(t)/da|0)|0}var pi=256,As=262144,Vt=4194304;function gi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=gi(l):(_&=w,_!==0?h=gi(_):a||(a=w&~t,a!==0&&(h=gi(a))))):(w=l&~d,w!==0?h=gi(w):_!==0?h=gi(_):a||(a=l&~t,a!==0&&(h=gi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Wn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function mf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var t=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),t}function _i(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Rs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function pf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,N=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-Rt(a),Z=1<<K;w[K]=0,N[K]=-1;var H=q[K];if(H!==null)for(q[K]=null,K=0;K<H.length;K++){var Q=H[K];Q!==null&&(Q.lane&=-536870913)}a&=~Z}l!==0&&Cs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Cs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Rt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Mo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Rt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Vo(t,i){var a=i&-i;return a=(a&42)!==0?1:Is(a),(a&(t.suspendedLanes|i))!==0?0:a}function Is(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Cu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:x_(t.type))}function ei(t,i){var a=ne.p;try{return ne.p=t,i()}finally{ne.p=a}}var ti=Math.random().toString(36).slice(2),kt="__reactFiber$"+ti,Qt="__reactProps$"+ti,vi="__reactContainer$"+ti,ma="__reactEvents$"+ti,gf="__reactListeners$"+ti,Iu="__reactHandles$"+ti,Nu="__reactResources$"+ti,bi="__reactMarker$"+ti;function pa(t){delete t[kt],delete t[Qt],delete t[ma],delete t[gf],delete t[Iu]}function Ei(t){var i=t[kt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[vi]||a[kt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=u_(t);t!==null;){if(a=t[kt])return a;t=u_(t)}return i}t=a,a=t.parentNode}return null}function Ln(t){if(t=t[kt]||t[vi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function An(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ti(t){var i=t[Nu];return i||(i=t[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function jt(t){t[bi]=!0}var ko=new Set,jo={};function wi(t,i){Si(t,i),Si(t+"Capture",i)}function Si(t,i){for(jo[t]=i,t=0;t<i.length;t++)ko.add(i[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},Uo={};function Du(t){return pe.call(Uo,t)?!0:pe.call(Lo,t)?!1:Po.test(t)?Uo[t]=!0:(Lo[t]=!0,!1)}function ga(t,i,a){if(Du(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Rn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Pt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function it(t){if(!t._valueTracker){var i=Sr(t)?"checked":"value";t._valueTracker=zo(t,i,""+t[i])}}function Ns(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Sr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ds=/[\n"\\]/g;function pn(t){return t.replace(Ds,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ya(t,i,a,l,h,d,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Kt(i)):t.value!==""+Kt(i)&&(t.value=""+Kt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Bo(t,_,Kt(i)):a!=null?Bo(t,_,Kt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Kt(w):t.removeAttribute("name")}function Ou(t,i,a,l,h,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){it(t);return}a=a!=null?""+Kt(a):"",i=i!=null?""+Kt(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),it(t)}function Bo(t,i,a){i==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Kt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Mu(t,i,a){if(i!=null&&(i=""+Kt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Kt(a):""}function Ar(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Kt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),it(t)}function gn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Vu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ho(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&qo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&qo(t,d,i[d])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return Rr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ni(){}var Fo=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,Ai=null;function Os(t){var i=Ln(t);if(i&&(t=i.stateNode)){var a=t[Qt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ya(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Qt]||null;if(!h)throw Error(s(90));ya(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ns(l)}break e;case"textarea":Mu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&xr(t,!!a.multiple,i,!1)}}}var ba=!1;function Ir(t,i,a){if(ba)return t(i,a);ba=!0;try{var l=t(i);return l}finally{if(ba=!1,(Cr!==null||Ai!==null)&&(Cc(),Cr&&(i=Cr,t=Ai,Ai=Cr=null,Os(i),t)))for(i=0;i<t.length;i++)Os(t[i])}}function ii(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Qt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ms=!1;if(zn)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Ms=!1}var Ri=null,Go=null,Vs=null;function $o(){if(Vs)return Vs;var t,i=Go,a=i.length,l,h="value"in Ri?Ri.value:Ri.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Vs=h.slice(t,1<l?1-l:void 0)}function ks(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function ri(){return!1}function Zt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ki:ri,this.isPropagationStopped=ri,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),i}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Zt(Yi),Nr=T({},Yi,{view:0,detail:0}),Qo=Zt(Nr),Dr,Ea,Ii,Ta=T({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Dr=t.screenX-Ii.screenX,Ea=t.screenY-Ii.screenY):Ea=Dr=0,Ii=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),Ko=Zt(Ta),js=T({},Ta,{dataTransfer:0}),ju=Zt(js),Pu=T({},Nr,{relatedTarget:0}),Ps=Zt(Pu),Yo=T({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Lu=Zt(Yo),wa=T({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uu=Zt(wa),zu=T({},Yi,{data:0}),Ni=Zt(zu),Bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Hu[t])?!!i[t]:!1}function Or(){return Fu}var fn=T({},Nr,{key:function(t){if(t.key){var i=Bu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(t){return t.type==="keypress"?ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gu=Zt(fn),$u=T({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Zt($u),c=T({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),y=Zt(c),b=T({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Zt(b),z=T({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Zt(z),se=T({},Yi,{newState:0,oldState:0}),Me=Zt(se),Ct=[9,13,27,32],We=zn&&"CompositionEvent"in window,vt=null;zn&&"documentMode"in document&&(vt=document.documentMode);var Bn=zn&&"TextEvent"in window&&!vt,Di=zn&&(!We||vt&&8<vt&&11>=vt),si=" ",ai=!1;function Ls(t,i){switch(t){case"keyup":return Ct.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function O1(t,i){switch(t){case"compositionend":return Sa(i);case"keypress":return i.which!==32?null:(ai=!0,si);case"textInput":return t=i.data,t===si&&ai?null:t;default:return null}}function M1(t,i){if(xa)return t==="compositionend"||!We&&Ls(t,i)?(t=$o(),Vs=Go=Ri=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Di&&i.locale!=="ko"?null:i.data;default:return null}}var V1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!V1[t.type]:i==="textarea"}function dg(t,i,a,l){Cr?Ai?Ai.push(l):Ai=[l]:Cr=l,i=kc(i,"onChange"),0<i.length&&(a=new Ci("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Xo=null,Jo=null;function k1(t){Y0(t,0)}function Qu(t){var i=An(t);if(Ns(i))return t}function mg(t,i){if(t==="change")return i}var pg=!1;if(zn){var yf;if(zn){var _f="oninput"in document;if(!_f){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),_f=typeof gg.oninput=="function"}yf=_f}else yf=!1;pg=yf&&(!document.documentMode||9<document.documentMode)}function yg(){Xo&&(Xo.detachEvent("onpropertychange",_g),Jo=Xo=null)}function _g(t){if(t.propertyName==="value"&&Qu(Jo)){var i=[];dg(i,Jo,t,Un(t)),Ir(k1,i)}}function j1(t,i,a){t==="focusin"?(yg(),Xo=i,Jo=a,Xo.attachEvent("onpropertychange",_g)):t==="focusout"&&yg()}function P1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qu(Jo)}function L1(t,i){if(t==="click")return Qu(i)}function U1(t,i){if(t==="input"||t==="change")return Qu(i)}function z1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Cn=typeof Object.is=="function"?Object.is:z1;function Zo(t,i){if(Cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!pe.call(i,h)||!Cn(t[h],i[h]))return!1}return!0}function vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bg(t,i){var a=vg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vg(a)}}function Eg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Eg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Tg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=xi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=xi(t.document)}return i}function vf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var B1=zn&&"documentMode"in document&&11>=document.documentMode,Aa=null,bf=null,Wo=null,Ef=!1;function wg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ef||Aa==null||Aa!==xi(l)||(l=Aa,"selectionStart"in l&&vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Zo(Wo,l)||(Wo=l,l=kc(bf,"onSelect"),0<l.length&&(i=new Ci("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Aa)))}function Us(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ra={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},Tf={},Sg={};zn&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function zs(t){if(Tf[t])return Tf[t];if(!Ra[t])return t;var i=Ra[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Sg)return Tf[t]=i[a];return t}var xg=zs("animationend"),Ag=zs("animationiteration"),Rg=zs("animationstart"),q1=zs("transitionrun"),H1=zs("transitionstart"),F1=zs("transitioncancel"),Cg=zs("transitionend"),Ig=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function oi(t,i){Ig.set(t,i),wi(i,[t])}var Ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],Ca=0,Sf=0;function Yu(){for(var t=Ca,i=Sf=Ca=0;i<t;){var a=qn[i];qn[i++]=null;var l=qn[i];qn[i++]=null;var h=qn[i];qn[i++]=null;var d=qn[i];if(qn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Ng(a,h,d)}}function Xu(t,i,a,l){qn[Ca++]=t,qn[Ca++]=i,qn[Ca++]=a,qn[Ca++]=l,Sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xf(t,i,a,l){return Xu(t,i,a,l),Ju(t)}function Bs(t,i){return Xu(t,null,null,i),Ju(t)}function Ng(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Rt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ju(t){if(50<El)throw El=0,Vd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ia={};function G1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,i,a,l){return new G1(t,i,a,l)}function Af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,i){var a=t.alternate;return a===null?(a=In(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Dg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Zu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Af(t)&&(_=1);else if(typeof t=="string")_=Xw(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=In(31,a,i,h),t.elementType=R,t.lanes=d,t;case Y:return qs(a.children,h,d,i);case F:_=8,h|=24;break;case W:return t=In(12,a,i,h|2),t.elementType=W,t.lanes=d,t;case ke:return t=In(13,a,i,h),t.elementType=ke,t.lanes=d,t;case Ie:return t=In(19,a,i,h),t.elementType=Ie,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ie:_=9;break e;case ge:_=11;break e;case I:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=In(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function qs(t,i,a,l){return t=In(7,t,l,i),t.lanes=a,t}function Rf(t,i,a){return t=In(6,t,null,i),t.lanes=a,t}function Og(t){var i=In(18,null,null,0);return i.stateNode=t,i}function Cf(t,i,a){return i=In(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Mg=new WeakMap;function Hn(t,i){if(typeof t=="object"&&t!==null){var a=Mg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Xe(i)},Mg.set(t,i),i)}return{value:t,source:i,stack:Xe(i)}}var Na=[],Da=0,Wu=null,el=0,Fn=[],Gn=0,Mr=null,Oi=1,Mi="";function Zi(t,i){Na[Da++]=el,Na[Da++]=Wu,Wu=t,el=i}function Vg(t,i,a){Fn[Gn++]=Oi,Fn[Gn++]=Mi,Fn[Gn++]=Mr,Mr=t;var l=Oi;t=Mi;var h=32-Rt(l)-1;l&=~(1<<h),a+=1;var d=32-Rt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Oi=1<<32-Rt(i)+h|a<<h|l,Mi=d+t}else Oi=1<<d|a<<h|l,Mi=t}function If(t){t.return!==null&&(Zi(t,1),Vg(t,1,0))}function Nf(t){for(;t===Wu;)Wu=Na[--Da],Na[Da]=null,el=Na[--Da],Na[Da]=null;for(;t===Mr;)Mr=Fn[--Gn],Fn[Gn]=null,Mi=Fn[--Gn],Fn[Gn]=null,Oi=Fn[--Gn],Fn[Gn]=null}function kg(t,i){Fn[Gn++]=Oi,Fn[Gn++]=Mi,Fn[Gn++]=Mr,Oi=i.id,Mi=i.overflow,Mr=t}var Wt=null,pt=null,Ke=!1,Vr=null,$n=!1,Df=Error(s(519));function kr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Hn(i,t)),Df}function jg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[kt]=t,i[Qt]=l,a){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(a=0;a<wl.length;a++)ze(wl[a],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),Ou(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),Ar(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||W0(i.textContent,a)?(l.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),l.onScroll!=null&&ze("scroll",i),l.onScrollEnd!=null&&ze("scrollend",i),l.onClick!=null&&(i.onclick=ni),i=!0):i=!1,i||kr(t,!0)}function Pg(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Wt=Wt.return}}function Oa(t){if(t!==Wt)return!1;if(!Ke)return Pg(t),Ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Yd(t.type,t.memoizedProps)),a=!a),a&&pt&&kr(t),Pg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));pt=l_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));pt=l_(t)}else i===27?(i=pt,Yr(t.type)?(t=em,em=null,pt=t):pt=i):pt=Wt?Kn(t.stateNode.nextSibling):null;return!0}function Hs(){pt=Wt=null,Ke=!1}function Of(){var t=Vr;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Vr=null),t}function tl(t){Vr===null?Vr=[t]:Vr.push(t)}var Mf=O(null),Fs=null,Wi=null;function jr(t,i,a){ae(Mf,i._currentValue),i._currentValue=a}function er(t){t._currentValue=Mf.current,X(Mf)}function Vf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function kf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var N=0;N<i.length;N++)if(w.context===i[N]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),Vf(d.return,a,t),l||(_=null);break e}d=w.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Vf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ma(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=h.type;Cn(h.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(h===Le.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&kf(i,t,a,l),i.flags|=262144}function ec(t){for(t=t.firstContext;t!==null;){if(!Cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gs(t){Fs=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return Lg(Fs,t)}function tc(t,i){return Fs===null&&Gs(t),Lg(t,i)}function Lg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(s(308));Wi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Wi=Wi.next=i;return a}var $1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Q1=r.unstable_scheduleCallback,K1=r.unstable_NormalPriority,Lt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new $1,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&Q1(K1,function(){t.controller.abort()})}var il=null,Pf=0,Va=0,ka=null;function Y1(t,i){if(il===null){var a=il=[];Pf=0,Va=zd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pf++,i.then(Ug,Ug),i}function Ug(){if(--Pf===0&&il!==null){ka!==null&&(ka.status="fulfilled");var t=il;il=null,Va=0,ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function X1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var zg=P.S;P.S=function(t,i){w0=qe(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Y1(t,i),zg!==null&&zg(t,i)};var $s=O(null);function Lf(){var t=$s.current;return t!==null?t:ft.pooledCache}function nc(t,i){i===null?ae($s,$s.current):ae($s,i.pool)}function Bg(){var t=Lf();return t===null?null:{parent:Lt._currentValue,pool:t}}var ja=Error(s(460)),Uf=Error(s(474)),ic=Error(s(542)),rc={then:function(){}};function qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ni,ni),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Gg(t),t;default:if(typeof i.status=="string")i.then(ni,ni);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Gg(t),t}throw Ks=i,ja}}function Qs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ks=a,ja):a}}var Ks=null;function Fg(){if(Ks===null)throw Error(s(459));var t=Ks;return Ks=null,t}function Gg(t){if(t===ja||t===ic)throw Error(s(483))}var Pa=null,rl=0;function sc(t){var i=rl;return rl+=1,Pa===null&&(Pa=[]),Hg(Pa,t,i)}function sl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ac(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function $g(t){function i(L,M){if(t){var B=L.deletions;B===null?(L.deletions=[M],L.flags|=16):B.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=Ji(L,M),L.index=0,L.sibling=null,L}function d(L,M,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<M?(L.flags|=67108866,M):B):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function w(L,M,B,J){return M===null||M.tag!==6?(M=Rf(B,L.mode,J),M.return=L,M):(M=h(M,B),M.return=L,M)}function N(L,M,B,J){var _e=B.type;return _e===Y?K(L,M,B.props.children,J,B.key):M!==null&&(M.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===x&&Qs(_e)===M.type)?(M=h(M,B.props),sl(M,B),M.return=L,M):(M=Zu(B.type,B.key,B.props,null,L.mode,J),sl(M,B),M.return=L,M)}function q(L,M,B,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Cf(B,L.mode,J),M.return=L,M):(M=h(M,B.children||[]),M.return=L,M)}function K(L,M,B,J,_e){return M===null||M.tag!==7?(M=qs(B,L.mode,J,_e),M.return=L,M):(M=h(M,B),M.return=L,M)}function Z(L,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Rf(""+M,L.mode,B),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case j:return B=Zu(M.type,M.key,M.props,null,L.mode,B),sl(B,M),B.return=L,B;case $:return M=Cf(M,L.mode,B),M.return=L,M;case x:return M=Qs(M),Z(L,M,B)}if(mt(M)||k(M))return M=qs(M,L.mode,B,null),M.return=L,M;if(typeof M.then=="function")return Z(L,sc(M),B);if(M.$$typeof===re)return Z(L,tc(L,M),B);ac(L,M)}return null}function H(L,M,B,J){var _e=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return _e!==null?null:w(L,M,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===_e?N(L,M,B,J):null;case $:return B.key===_e?q(L,M,B,J):null;case x:return B=Qs(B),H(L,M,B,J)}if(mt(B)||k(B))return _e!==null?null:K(L,M,B,J,null);if(typeof B.then=="function")return H(L,M,sc(B),J);if(B.$$typeof===re)return H(L,M,tc(L,B),J);ac(L,B)}return null}function Q(L,M,B,J,_e){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(B)||null,w(M,L,""+J,_e);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return L=L.get(J.key===null?B:J.key)||null,N(M,L,J,_e);case $:return L=L.get(J.key===null?B:J.key)||null,q(M,L,J,_e);case x:return J=Qs(J),Q(L,M,B,J,_e)}if(mt(J)||k(J))return L=L.get(B)||null,K(M,L,J,_e,null);if(typeof J.then=="function")return Q(L,M,B,sc(J),_e);if(J.$$typeof===re)return Q(L,M,B,tc(M,J),_e);ac(M,J)}return null}function fe(L,M,B,J){for(var _e=null,Je=null,me=M,je=M=0,Fe=null;me!==null&&je<B.length;je++){me.index>je?(Fe=me,me=null):Fe=me.sibling;var Ze=H(L,me,B[je],J);if(Ze===null){me===null&&(me=Fe);break}t&&me&&Ze.alternate===null&&i(L,me),M=d(Ze,M,je),Je===null?_e=Ze:Je.sibling=Ze,Je=Ze,me=Fe}if(je===B.length)return a(L,me),Ke&&Zi(L,je),_e;if(me===null){for(;je<B.length;je++)me=Z(L,B[je],J),me!==null&&(M=d(me,M,je),Je===null?_e=me:Je.sibling=me,Je=me);return Ke&&Zi(L,je),_e}for(me=l(me);je<B.length;je++)Fe=Q(me,L,je,B[je],J),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?je:Fe.key),M=d(Fe,M,je),Je===null?_e=Fe:Je.sibling=Fe,Je=Fe);return t&&me.forEach(function(es){return i(L,es)}),Ke&&Zi(L,je),_e}function Ee(L,M,B,J){if(B==null)throw Error(s(151));for(var _e=null,Je=null,me=M,je=M=0,Fe=null,Ze=B.next();me!==null&&!Ze.done;je++,Ze=B.next()){me.index>je?(Fe=me,me=null):Fe=me.sibling;var es=H(L,me,Ze.value,J);if(es===null){me===null&&(me=Fe);break}t&&me&&es.alternate===null&&i(L,me),M=d(es,M,je),Je===null?_e=es:Je.sibling=es,Je=es,me=Fe}if(Ze.done)return a(L,me),Ke&&Zi(L,je),_e;if(me===null){for(;!Ze.done;je++,Ze=B.next())Ze=Z(L,Ze.value,J),Ze!==null&&(M=d(Ze,M,je),Je===null?_e=Ze:Je.sibling=Ze,Je=Ze);return Ke&&Zi(L,je),_e}for(me=l(me);!Ze.done;je++,Ze=B.next())Ze=Q(me,L,je,Ze.value,J),Ze!==null&&(t&&Ze.alternate!==null&&me.delete(Ze.key===null?je:Ze.key),M=d(Ze,M,je),Je===null?_e=Ze:Je.sibling=Ze,Je=Ze);return t&&me.forEach(function(oS){return i(L,oS)}),Ke&&Zi(L,je),_e}function ct(L,M,B,J){if(typeof B=="object"&&B!==null&&B.type===Y&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:e:{for(var _e=B.key;M!==null;){if(M.key===_e){if(_e=B.type,_e===Y){if(M.tag===7){a(L,M.sibling),J=h(M,B.props.children),J.return=L,L=J;break e}}else if(M.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===x&&Qs(_e)===M.type){a(L,M.sibling),J=h(M,B.props),sl(J,B),J.return=L,L=J;break e}a(L,M);break}else i(L,M);M=M.sibling}B.type===Y?(J=qs(B.props.children,L.mode,J,B.key),J.return=L,L=J):(J=Zu(B.type,B.key,B.props,null,L.mode,J),sl(J,B),J.return=L,L=J)}return _(L);case $:e:{for(_e=B.key;M!==null;){if(M.key===_e)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(L,M.sibling),J=h(M,B.children||[]),J.return=L,L=J;break e}else{a(L,M);break}else i(L,M);M=M.sibling}J=Cf(B,L.mode,J),J.return=L,L=J}return _(L);case x:return B=Qs(B),ct(L,M,B,J)}if(mt(B))return fe(L,M,B,J);if(k(B)){if(_e=k(B),typeof _e!="function")throw Error(s(150));return B=_e.call(B),Ee(L,M,B,J)}if(typeof B.then=="function")return ct(L,M,sc(B),J);if(B.$$typeof===re)return ct(L,M,tc(L,B),J);ac(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(L,M.sibling),J=h(M,B),J.return=L,L=J):(a(L,M),J=Rf(B,L.mode,J),J.return=L,L=J),_(L)):a(L,M)}return function(L,M,B,J){try{rl=0;var _e=ct(L,M,B,J);return Pa=null,_e}catch(me){if(me===ja||me===ic)throw me;var Je=In(29,me,null,L.mode);return Je.lanes=J,Je.return=L,Je}finally{}}}var Ys=$g(!0),Qg=$g(!1),Pr=!1;function zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ju(t),Ng(t,null,a),i}return Xu(t,l,i,a),Ju(t)}function al(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Mo(t,a)}}function qf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Hf=!1;function ol(){if(Hf){var t=ka;if(t!==null)throw t}}function ll(t,i,a,l){Hf=!1;var h=t.updateQueue;Pr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var N=w,q=N.next;N.next=null,_===null?d=q:_.next=q,_=N;var K=t.alternate;K!==null&&(K=K.updateQueue,w=K.lastBaseUpdate,w!==_&&(w===null?K.firstBaseUpdate=q:w.next=q,K.lastBaseUpdate=N))}if(d!==null){var Z=h.baseState;_=0,K=q=N=null,w=d;do{var H=w.lane&-536870913,Q=H!==w.lane;if(Q?(He&H)===H:(l&H)===H){H!==0&&H===Va&&(Hf=!0),K!==null&&(K=K.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var fe=t,Ee=w;H=i;var ct=a;switch(Ee.tag){case 1:if(fe=Ee.payload,typeof fe=="function"){Z=fe.call(ct,Z,H);break e}Z=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ee.payload,H=typeof fe=="function"?fe.call(ct,Z,H):fe,H==null)break e;Z=T({},Z,H);break e;case 2:Pr=!0}}H=w.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},K===null?(q=K=Q,N=Z):K=K.next=Q,_|=H;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);K===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=q,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Fr|=_,t.lanes=_,t.memoizedState=Z}}function Kg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Yg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Kg(a[t],i)}var La=O(null),oc=O(0);function Xg(t,i){t=ur,ae(oc,t),ae(La,i),ur=t|i.baseLanes}function Ff(){ae(oc,ur),ae(La,La.current)}function Gf(){ur=oc.current,X(La),X(oc)}var Nn=O(null),Qn=null;function zr(t){var i=t.alternate;ae(It,It.current&1),ae(Nn,t),Qn===null&&(i===null||La.current!==null||i.memoizedState!==null)&&(Qn=t)}function $f(t){ae(It,It.current),ae(Nn,t),Qn===null&&(Qn=t)}function Jg(t){t.tag===22?(ae(It,It.current),ae(Nn,t),Qn===null&&(Qn=t)):Br()}function Br(){ae(It,It.current),ae(Nn,Nn.current)}function Dn(t){X(Nn),Qn===t&&(Qn=null),X(It)}var It=O(0);function lc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zd(a)||Wd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var tr=0,Ve=null,lt=null,Ut=null,uc=!1,Ua=!1,Xs=!1,cc=0,ul=0,za=null,J1=0;function St(){throw Error(s(321))}function Qf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Cn(t[a],i[a]))return!1;return!0}function Kf(t,i,a,l,h,d){return tr=d,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=t===null||t.memoizedState===null?Vy:ud,Xs=!1,d=a(l,h),Xs=!1,Ua&&(d=Wg(i,a,l,h)),Zg(t),d}function Zg(t){P.H=fl;var i=lt!==null&&lt.next!==null;if(tr=0,Ut=lt=Ve=null,uc=!1,ul=0,za=null,i)throw Error(s(300));t===null||zt||(t=t.dependencies,t!==null&&ec(t)&&(zt=!0))}function Wg(t,i,a,l){Ve=t;var h=0;do{if(Ua&&(za=null),ul=0,Ua=!1,25<=h)throw Error(s(301));if(h+=1,Ut=lt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=ky,d=i(a,l)}while(Ua);return d}function Z1(){var t=P.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Ve.flags|=1024),i}function Yf(){var t=cc!==0;return cc=0,t}function Xf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Jf(t){if(uc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uc=!1}tr=0,Ut=lt=Ve=null,Ua=!1,ul=cc=0,za=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Ve.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function Nt(){if(lt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var i=Ut===null?Ve.memoizedState:Ut.next;if(i!==null)Ut=i,lt=t;else{if(t===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Ut===null?Ve.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var i=ul;return ul+=1,za===null&&(za=[]),t=Hg(za,t,i),i=Ve,(Ut===null?i.memoizedState:Ut.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?Vy:ud),t}function fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===re)return en(t)}throw Error(s(438,String(t)))}function Zf(t){var i=null,a=Ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hc(),Ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function nr(t,i){return typeof i=="function"?i(t):i}function dc(t){var i=Nt();return Wf(i,lt,t)}function Wf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var w=_=null,N=null,q=i,K=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(He&Z)===Z:(tr&Z)===Z){var H=q.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Va&&(K=!0);else if((tr&H)===H){q=q.next,H===Va&&(K=!0);continue}else Z={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(w=N=Z,_=d):N=N.next=Z,Ve.lanes|=H,Fr|=H;Z=q.action,Xs&&a(d,Z),d=q.hasEagerState?q.eagerState:a(d,Z)}else H={lane:Z,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(w=N=H,_=d):N=N.next=H,Ve.lanes|=Z,Fr|=Z;q=q.next}while(q!==null&&q!==i);if(N===null?_=d:N.next=w,!Cn(d,t.memoizedState)&&(zt=!0,K&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ed(t){var i=Nt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Cn(d,i.memoizedState)||(zt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ey(t,i,a){var l=Ve,h=Nt(),d=Ke;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Cn((lt||h).memoizedState,a);if(_&&(h.memoizedState=a,zt=!0),h=h.queue,id(iy.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Ut!==null&&Ut.memoizedState.tag&1){if(l.flags|=2048,Ba(9,{destroy:void 0},ny.bind(null,l,h,a,i),null),ft===null)throw Error(s(349));d||(tr&127)!==0||ty(l,i,a)}return a}function ty(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ve.updateQueue,i===null?(i=hc(),Ve.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ny(t,i,a,l){i.value=a,i.getSnapshot=l,ry(i)&&sy(t)}function iy(t,i,a){return a(function(){ry(i)&&sy(t)})}function ry(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Cn(t,a)}catch{return!0}}function sy(t){var i=Bs(t,2);i!==null&&En(i,t,2)}function td(t){var i=dn();if(typeof t=="function"){var a=t;if(t=a(),Xs){Pn(!0);try{a()}finally{Pn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:t},i}function ay(t,i,a,l){return t.baseState=a,Wf(t,lt,typeof l=="function"?l:nr)}function W1(t,i,a,l,h){if(gc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};P.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,oy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function oy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=P.T,_={};P.T=_;try{var w=a(h,l),N=P.S;N!==null&&N(_,w),ly(t,i,w)}catch(q){nd(t,i,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),P.T=d}}else try{d=a(h,l),ly(t,i,d)}catch(q){nd(t,i,q)}}function ly(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){uy(t,i,l)},function(l){return nd(t,i,l)}):uy(t,i,a)}function uy(t,i,a){i.status="fulfilled",i.value=a,cy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,oy(t,a)))}function nd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,cy(i),i=i.next;while(i!==l)}t.action=null}function cy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function hy(t,i){return i}function fy(t,i){if(Ke){var a=ft.formState;if(a!==null){e:{var l=Ve;if(Ke){if(pt){t:{for(var h=pt,d=$n;h.nodeType!==8;){if(!d){h=null;break t}if(h=Kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){pt=Kn(h.nextSibling),l=h.data==="F!";break e}}kr(l)}l=!1}l&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hy,lastRenderedState:i},a.queue=l,a=Dy.bind(null,Ve,l),l.dispatch=a,l=td(!1),d=ld.bind(null,Ve,!1,l.queue),l=dn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=W1.bind(null,Ve,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function dy(t){var i=Nt();return my(i,lt,t)}function my(t,i,a){if(i=Wf(t,i,hy)[0],t=dc(nr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=cl(i)}catch(_){throw _===ja?ic:_}else l=i;i=Nt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ve.flags|=2048,Ba(9,{destroy:void 0},ew.bind(null,h,a),null)),[l,d,t]}function ew(t,i){t.action=i}function py(t){var i=Nt(),a=lt;if(a!==null)return my(i,a,t);Nt(),i=i.memoizedState,a=Nt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ba(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=hc(),Ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function gy(){return Nt().memoizedState}function mc(t,i,a,l){var h=dn();Ve.flags|=t,h.memoizedState=Ba(1|i,{destroy:void 0},a,l===void 0?null:l)}function pc(t,i,a,l){var h=Nt();l=l===void 0?null:l;var d=h.memoizedState.inst;lt!==null&&l!==null&&Qf(l,lt.memoizedState.deps)?h.memoizedState=Ba(i,d,a,l):(Ve.flags|=t,h.memoizedState=Ba(1|i,d,a,l))}function yy(t,i){mc(8390656,8,t,i)}function id(t,i){pc(2048,8,t,i)}function tw(t){Ve.flags|=4;var i=Ve.updateQueue;if(i===null)i=hc(),Ve.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function _y(t){var i=Nt().memoizedState;return tw({ref:i,nextImpl:t}),function(){if((et&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function vy(t,i){return pc(4,2,t,i)}function by(t,i){return pc(4,4,t,i)}function Ey(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ty(t,i,a){a=a!=null?a.concat([t]):null,pc(4,4,Ey.bind(null,i,t),a)}function rd(){}function wy(t,i){var a=Nt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Qf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Sy(t,i){var a=Nt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Qf(i,l[1]))return l[0];if(l=t(),Xs){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,i],l}function sd(t,i,a){return a===void 0||(tr&1073741824)!==0&&(He&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=x0(),Ve.lanes|=t,Fr|=t,a)}function xy(t,i,a,l){return Cn(a,i)?a:La.current!==null?(t=sd(t,a,l),Cn(t,i)||(zt=!0),t):(tr&42)===0||(tr&1073741824)!==0&&(He&261930)===0?(zt=!0,t.memoizedState=a):(t=x0(),Ve.lanes|=t,Fr|=t,i)}function Ay(t,i,a,l,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var _=P.T,w={};P.T=w,ld(t,!1,i,a);try{var N=h(),q=P.S;if(q!==null&&q(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=X1(N,l);hl(t,i,K,Vn(t))}else hl(t,i,l,Vn(t))}catch(Z){hl(t,i,{then:function(){},status:"rejected",reason:Z},Vn())}finally{ne.p=d,_!==null&&w.types!==null&&(_.types=w.types),P.T=_}}function nw(){}function ad(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ry(t).queue;Ay(t,h,i,he,a===null?nw:function(){return Cy(t),a(l)})}function Ry(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Cy(t){var i=Ry(t);i.next===null&&(i=t.alternate.memoizedState),hl(t,i.next.queue,{},Vn())}function od(){return en(Cl)}function Iy(){return Nt().memoizedState}function Ny(){return Nt().memoizedState}function iw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Vn();t=Lr(a);var l=Ur(i,t,a);l!==null&&(En(l,i,a),al(l,i,a)),i={cache:jf()},t.payload=i;return}i=i.return}}function rw(t,i,a){var l=Vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gc(t)?Oy(i,a):(a=xf(t,i,a,l),a!==null&&(En(a,t,l),My(a,i,l)))}function Dy(t,i,a){var l=Vn();hl(t,i,a,l)}function hl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(t))Oy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,w=d(_,a);if(h.hasEagerState=!0,h.eagerState=w,Cn(w,_))return Xu(t,i,h,0),ft===null&&Yu(),!1}catch{}finally{}if(a=xf(t,i,h,l),a!==null)return En(a,t,l),My(a,i,l),!0}return!1}function ld(t,i,a,l){if(l={lane:2,revertLane:zd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gc(t)){if(i)throw Error(s(479))}else i=xf(t,a,l,2),i!==null&&En(i,t,2)}function gc(t){var i=t.alternate;return t===Ve||i!==null&&i===Ve}function Oy(t,i){Ua=uc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function My(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Mo(t,a)}}var fl={readContext:en,use:fc,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};fl.useEffectEvent=St;var Vy={readContext:en,use:fc,useCallback:function(t,i){return dn().memoizedState=[t,i===void 0?null:i],t},useContext:en,useEffect:yy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,mc(4194308,4,Ey.bind(null,i,t),a)},useLayoutEffect:function(t,i){return mc(4194308,4,t,i)},useInsertionEffect:function(t,i){mc(4,2,t,i)},useMemo:function(t,i){var a=dn();i=i===void 0?null:i;var l=t();if(Xs){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=dn();if(a!==void 0){var h=a(i);if(Xs){Pn(!0);try{a(i)}finally{Pn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=rw.bind(null,Ve,t),[l.memoizedState,t]},useRef:function(t){var i=dn();return t={current:t},i.memoizedState=t},useState:function(t){t=td(t);var i=t.queue,a=Dy.bind(null,Ve,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(t,i){var a=dn();return sd(a,t,i)},useTransition:function(){var t=td(!1);return t=Ay.bind(null,Ve,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ve,h=dn();if(Ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ft===null)throw Error(s(349));(He&127)!==0||ty(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,yy(iy.bind(null,l,d,t),[t]),l.flags|=2048,Ba(9,{destroy:void 0},ny.bind(null,l,d,a,i),null),a},useId:function(){var t=dn(),i=ft.identifierPrefix;if(Ke){var a=Mi,l=Oi;a=(l&~(1<<32-Rt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=cc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=J1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:od,useFormState:fy,useActionState:fy,useOptimistic:function(t){var i=dn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ld.bind(null,Ve,!0,a),a.dispatch=i,[t,i]},useMemoCache:Zf,useCacheRefresh:function(){return dn().memoizedState=iw.bind(null,Ve)},useEffectEvent:function(t){var i=dn(),a={impl:t};return i.memoizedState=a,function(){if((et&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ud={readContext:en,use:fc,useCallback:wy,useContext:en,useEffect:id,useImperativeHandle:Ty,useInsertionEffect:vy,useLayoutEffect:by,useMemo:Sy,useReducer:dc,useRef:gy,useState:function(){return dc(nr)},useDebugValue:rd,useDeferredValue:function(t,i){var a=Nt();return xy(a,lt.memoizedState,t,i)},useTransition:function(){var t=dc(nr)[0],i=Nt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:ey,useId:Iy,useHostTransitionStatus:od,useFormState:dy,useActionState:dy,useOptimistic:function(t,i){var a=Nt();return ay(a,lt,t,i)},useMemoCache:Zf,useCacheRefresh:Ny};ud.useEffectEvent=_y;var ky={readContext:en,use:fc,useCallback:wy,useContext:en,useEffect:id,useImperativeHandle:Ty,useInsertionEffect:vy,useLayoutEffect:by,useMemo:Sy,useReducer:ed,useRef:gy,useState:function(){return ed(nr)},useDebugValue:rd,useDeferredValue:function(t,i){var a=Nt();return lt===null?sd(a,t,i):xy(a,lt.memoizedState,t,i)},useTransition:function(){var t=ed(nr)[0],i=Nt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:ey,useId:Iy,useHostTransitionStatus:od,useFormState:py,useActionState:py,useOptimistic:function(t,i){var a=Nt();return lt!==null?ay(a,lt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:Ny};ky.useEffectEvent=_y;function cd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Vn(),h=Lr(l);h.payload=i,a!=null&&(h.callback=a),i=Ur(t,h,l),i!==null&&(En(i,t,l),al(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Vn(),h=Lr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ur(t,h,l),i!==null&&(En(i,t,l),al(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Vn(),l=Lr(a);l.tag=2,i!=null&&(l.callback=i),i=Ur(t,l,a),i!==null&&(En(i,t,a),al(i,t,a))}};function jy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function Py(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&hd.enqueueReplaceState(i,i.state,null)}function Js(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ly(t){Ku(t)}function Uy(t){console.error(t)}function zy(t){Ku(t)}function yc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function By(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function fd(t,i,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){yc(t,i)},a}function qy(t){return t=Lr(t),t.tag=3,t}function Hy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){By(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){By(i,a,l),typeof h!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function sw(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ma(i,a,h,!0),a=Nn.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?Ic():a.alternate===null&&xt===0&&(xt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Pd(t,l,h)),!1;case 22:return a.flags|=65536,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Pd(t,l,h)),!1}throw Error(s(435,a.tag))}return Pd(t,l,h),Ic(),!1}if(Ke)return i=Nn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Df&&(t=Error(s(422),{cause:l}),tl(Hn(t,a)))):(l!==Df&&(i=Error(s(423),{cause:l}),tl(Hn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Hn(l,a),h=fd(t.stateNode,l,h),qf(t,h),xt!==4&&(xt=2)),!1;var d=Error(s(520),{cause:l});if(d=Hn(d,a),bl===null?bl=[d]:bl.push(d),xt!==4&&(xt=2),i===null)return!0;l=Hn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=fd(a.stateNode,l,t),qf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=qy(h),Hy(h,t,a,l),qf(a,h),!1}a=a.return}while(a!==null);return!1}var dd=Error(s(461)),zt=!1;function tn(t,i,a,l){i.child=t===null?Qg(i,null,a,l):Ys(i,t.child,a,l)}function Fy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Gs(i),l=Kf(t,i,a,_,d,h),w=Yf(),t!==null&&!zt?(Xf(t,i,h),ir(t,i,h)):(Ke&&w&&If(i),i.flags|=1,tn(t,i,l,h),i.child)}function Gy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Af(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,$y(t,i,d,l,h)):(t=Zu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Ed(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(_,l)&&t.ref===i.ref)return ir(t,i,h)}return i.flags|=1,t=Ji(d,l),t.ref=i.ref,t.return=i,i.child=t}function $y(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===i.ref)if(zt=!1,i.pendingProps=l=d,Ed(t,h))(t.flags&131072)!==0&&(zt=!0);else return i.lanes=t.lanes,ir(t,i,h)}return md(t,i,a,l,h)}function Qy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ky(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&nc(i,d!==null?d.cachePool:null),d!==null?Xg(i,d):Ff(),Jg(i);else return l=i.lanes=536870912,Ky(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(nc(i,d.cachePool),Xg(i,d),Br(),i.memoizedState=null):(t!==null&&nc(i,null),Ff(),Br());return tn(t,i,h,a),i.child}function dl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ky(t,i,a,l,h){var d=Lf();return d=d===null?null:{parent:Lt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&nc(i,null),Ff(),Jg(i),t!==null&&Ma(t,i,l,!0),i.childLanes=h,null}function _c(t,i){return i=bc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Yy(t,i,a){return Ys(i,t.child,null,a),t=_c(i,i.pendingProps),t.flags|=2,Dn(i),i.memoizedState=null,t}function aw(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ke){if(l.mode==="hidden")return t=_c(i,l),i.lanes=536870912,dl(null,t);if($f(i),(t=pt)?(t=o_(t,$n),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Og(t),a.return=i,i.child=a,Wt=i,pt=null)):t=null,t===null)throw kr(i);return i.lanes=536870912,null}return _c(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if($f(i),h)if(i.flags&256)i.flags&=-257,i=Yy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(zt||Ma(t,i,a,!1),h=(a&t.childLanes)!==0,zt||h){if(l=ft,l!==null&&(_=Vo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Bs(t,_),En(l,t,_),dd;Ic(),i=Yy(t,i,a)}else t=d.treeContext,pt=Kn(_.nextSibling),Wt=i,Ke=!0,Vr=null,$n=!1,t!==null&&kg(i,t),i=_c(i,l),i.flags|=4096;return i}return t=Ji(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function vc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function md(t,i,a,l,h){return Gs(i),a=Kf(t,i,a,l,void 0,h),l=Yf(),t!==null&&!zt?(Xf(t,i,h),ir(t,i,h)):(Ke&&l&&If(i),i.flags|=1,tn(t,i,a,h),i.child)}function Xy(t,i,a,l,h,d){return Gs(i),i.updateQueue=null,a=Wg(i,l,a,h),Zg(t),l=Yf(),t!==null&&!zt?(Xf(t,i,d),ir(t,i,d)):(Ke&&l&&If(i),i.flags|=1,tn(t,i,a,d),i.child)}function Jy(t,i,a,l,h){if(Gs(i),i.stateNode===null){var d=Ia,_=a.contextType;typeof _=="object"&&_!==null&&(d=en(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},zf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?en(_):Ia,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(cd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&hd.enqueueReplaceState(d,d.state,null),ll(i,l,d,h),ol(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var w=i.memoizedProps,N=Js(a,w);d.props=N;var q=d.context,K=a.contextType;_=Ia,typeof K=="object"&&K!==null&&(_=en(K));var Z=a.getDerivedStateFromProps;K=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||q!==_)&&Py(i,d,l,_),Pr=!1;var H=i.memoizedState;d.state=H,ll(i,l,d,h),ol(),q=i.memoizedState,w||H!==q||Pr?(typeof Z=="function"&&(cd(i,a,Z,l),q=i.memoizedState),(N=Pr||jy(i,a,N,l,H,q,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Bf(t,i),_=i.memoizedProps,K=Js(a,_),d.props=K,Z=i.pendingProps,H=d.context,q=a.contextType,N=Ia,typeof q=="object"&&q!==null&&(N=en(q)),w=a.getDerivedStateFromProps,(q=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||H!==N)&&Py(i,d,l,N),Pr=!1,H=i.memoizedState,d.state=H,ll(i,l,d,h),ol();var Q=i.memoizedState;_!==Z||H!==Q||Pr||t!==null&&t.dependencies!==null&&ec(t.dependencies)?(typeof w=="function"&&(cd(i,a,w,l),Q=i.memoizedState),(K=Pr||jy(i,a,K,l,H,Q,N)||t!==null&&t.dependencies!==null&&ec(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=K):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,vc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ys(i,t.child,null,h),i.child=Ys(i,null,a,h)):tn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=ir(t,i,h),t}function Zy(t,i,a,l){return Hs(),i.flags|=256,tn(t,i,a,l),i.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(t){return{baseLanes:t,cachePool:Bg()}}function yd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Mn),t}function Wy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ke){if(h?zr(i):Br(),(t=pt)?(t=o_(t,$n),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Og(t),a.return=i,i.child=a,Wt=i,pt=null)):t=null,t===null)throw kr(i);return Wd(t)?i.lanes=32:i.lanes=536870912,null}var w=l.children;return l=l.fallback,h?(Br(),h=i.mode,w=bc({mode:"hidden",children:w},h),l=qs(l,h,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,l=i.child,l.memoizedState=gd(a),l.childLanes=yd(t,_,a),i.memoizedState=pd,dl(null,l)):(zr(i),_d(i,w))}var N=t.memoizedState;if(N!==null&&(w=N.dehydrated,w!==null)){if(d)i.flags&256?(zr(i),i.flags&=-257,i=vd(t,i,a)):i.memoizedState!==null?(Br(),i.child=t.child,i.flags|=128,i=null):(Br(),w=l.fallback,h=i.mode,l=bc({mode:"visible",children:l.children},h),w=qs(w,h,a,null),w.flags|=2,l.return=i,w.return=i,l.sibling=w,i.child=l,Ys(i,t.child,null,a),l=i.child,l.memoizedState=gd(a),l.childLanes=yd(t,_,a),i.memoizedState=pd,i=dl(null,l));else if(zr(i),Wd(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,tl({value:l,source:null,stack:null}),i=vd(t,i,a)}else if(zt||Ma(t,i,a,!1),_=(a&t.childLanes)!==0,zt||_){if(_=ft,_!==null&&(l=Vo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Bs(t,l),En(_,t,l),dd;Zd(w)||Ic(),i=vd(t,i,a)}else Zd(w)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,pt=Kn(w.nextSibling),Wt=i,Ke=!0,Vr=null,$n=!1,t!==null&&kg(i,t),i=_d(i,l.children),i.flags|=4096);return i}return h?(Br(),w=l.fallback,h=i.mode,N=t.child,q=N.sibling,l=Ji(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?w=Ji(q,w):(w=qs(w,h,a,null),w.flags|=2),w.return=i,l.return=i,l.sibling=w,i.child=l,dl(null,l),l=i.child,w=t.child.memoizedState,w===null?w=gd(a):(h=w.cachePool,h!==null?(N=Lt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Bg(),w={baseLanes:w.baseLanes|a,cachePool:h}),l.memoizedState=w,l.childLanes=yd(t,_,a),i.memoizedState=pd,dl(t.child,l)):(zr(i),a=t.child,t=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function _d(t,i){return i=bc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function bc(t,i){return t=In(22,t,null,i),t.lanes=0,t}function vd(t,i,a){return Ys(i,t.child,null,a),t=_d(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function e0(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Vf(t.return,i,a)}function bd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function t0(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=It.current,w=(_&2)!==0;if(w?(_=_&1|2,i.flags|=128):_&=1,ae(It,_),tn(t,i,l,a),l=Ke?el:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e0(t,a,i);else if(t.tag===19)e0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&lc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),bd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&lc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}bd(i,!0,a,null,d,l);break;case"together":bd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ir(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Fr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ma(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ji(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ji(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Ed(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ec(t)))}function ow(t,i,a){switch(i.tag){case 3:At(i,i.stateNode.containerInfo),jr(i,Lt,t.memoizedState.cache),Hs();break;case 27:case 5:$i(i);break;case 4:At(i,i.stateNode.containerInfo);break;case 10:jr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,$f(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(zr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Wy(t,i,a):(zr(i),t=ir(t,i,a),t!==null?t.sibling:null);zr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ma(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return t0(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(It,It.current),l)break;return null;case 22:return i.lanes=0,Qy(t,i,a,i.pendingProps);case 24:jr(i,Lt,t.memoizedState.cache)}return ir(t,i,a)}function n0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)zt=!0;else{if(!Ed(t,a)&&(i.flags&128)===0)return zt=!1,ow(t,i,a);zt=(t.flags&131072)!==0}else zt=!1,Ke&&(i.flags&1048576)!==0&&Vg(i,el,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Qs(i.elementType),i.type=t,typeof t=="function")Af(t)?(l=Js(t,l),i.tag=1,i=Jy(null,i,t,l,a)):(i.tag=0,i=md(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ge){i.tag=11,i=Fy(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=Gy(null,i,t,l,a);break e}}throw i=at(t)||t,Error(s(306,i,""))}}return i;case 0:return md(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Js(l,i.pendingProps),Jy(t,i,l,h,a);case 3:e:{if(At(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Bf(t,i),ll(i,l,null,a);var _=i.memoizedState;if(l=_.cache,jr(i,Lt,l),l!==d.cache&&kf(i,[Lt],a,!0),ol(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Zy(t,i,l,a);break e}else if(l!==h){h=Hn(Error(s(424)),i),tl(h),i=Zy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=Kn(t.firstChild),Wt=i,Ke=!0,Vr=null,$n=!0,a=Qg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hs(),l===h){i=ir(t,i,a);break e}tn(t,i,l,a)}i=i.child}return i;case 26:return vc(t,i),t===null?(a=d_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ke||(a=i.type,t=i.pendingProps,l=jc(Re.current).createElement(a),l[kt]=i,l[Qt]=t,nn(l,a,t),jt(l),i.stateNode=l):i.memoizedState=d_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return $i(i),t===null&&Ke&&(l=i.stateNode=c_(i.type,i.pendingProps,Re.current),Wt=i,$n=!0,h=pt,Yr(i.type)?(em=h,pt=Kn(l.firstChild)):pt=h),tn(t,i,i.pendingProps.children,a),vc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ke&&((h=l=pt)&&(l=Pw(l,i.type,i.pendingProps,$n),l!==null?(i.stateNode=l,Wt=i,pt=Kn(l.firstChild),$n=!1,h=!0):h=!1),h||kr(i)),$i(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Yd(h,d)?l=null:_!==null&&Yd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Kf(t,i,Z1,null,null,a),Cl._currentValue=h),vc(t,i),tn(t,i,l,a),i.child;case 6:return t===null&&Ke&&((t=a=pt)&&(a=Lw(a,i.pendingProps,$n),a!==null?(i.stateNode=a,Wt=i,pt=null,t=!0):t=!1),t||kr(i)),null;case 13:return Wy(t,i,a);case 4:return At(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ys(i,null,l,a):tn(t,i,l,a),i.child;case 11:return Fy(t,i,i.type,i.pendingProps,a);case 7:return tn(t,i,i.pendingProps,a),i.child;case 8:return tn(t,i,i.pendingProps.children,a),i.child;case 12:return tn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,jr(i,i.type,l.value),tn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Gs(i),h=en(h),l=l(h),i.flags|=1,tn(t,i,l,a),i.child;case 14:return Gy(t,i,i.type,i.pendingProps,a);case 15:return $y(t,i,i.type,i.pendingProps,a);case 19:return t0(t,i,a);case 31:return aw(t,i,a);case 22:return Qy(t,i,a,i.pendingProps);case 24:return Gs(i),l=en(Lt),t===null?(h=Lf(),h===null&&(h=ft,d=jf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},zf(i),jr(i,Lt,h)):((t.lanes&a)!==0&&(Bf(t,i),ll(i,null,null,a),ol()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),jr(i,Lt,l)):(l=d.cache,jr(i,Lt,l),l!==h.cache&&kf(i,[Lt],a,!0))),tn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function rr(t){t.flags|=4}function Td(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(I0())t.flags|=8192;else throw Ks=rc,Uf}else t.flags&=-16777217}function i0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!__(i))if(I0())t.flags|=8192;else throw Ks=rc,Uf}function Ec(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ru():536870912,t.lanes|=i,Ga|=i)}function ml(t,i){if(!Ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function gt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function lw(t,i,a){var l=i.pendingProps;switch(Nf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),er(Lt),ht(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Oa(i)?rr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Of())),gt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(rr(i),d!==null?(gt(i),i0(i,d)):(gt(i),Td(i,h,null,l,a))):d?d!==t.memoizedState?(rr(i),gt(i),i0(i,d)):(gt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&rr(i),gt(i),Td(i,h,t,l,a)),null;case 27:if(Er(i),a=Re.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&rr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return gt(i),null}t=le.current,Oa(i)?jg(i):(t=c_(h,l,a),i.stateNode=t,rr(i))}return gt(i),null;case 5:if(Er(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&rr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return gt(i),null}if(d=le.current,Oa(i))jg(i);else{var _=jc(Re.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[kt]=i,d[Qt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(nn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rr(i)}}return gt(i),Td(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&rr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,Oa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Wt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[kt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||W0(t.nodeValue,a)),t||kr(i,!0)}else t=jc(t).createTextNode(l),t[kt]=i,i.stateNode=t}return gt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Oa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[kt]=i}else Hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),t=!1}else a=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Dn(i),i):(Dn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return gt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[kt]=i}else Hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),h=!1}else h=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Dn(i),i):(Dn(i),null)}return Dn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ec(i,i.updateQueue),gt(i),null);case 4:return ht(),t===null&&Fd(i.stateNode.containerInfo),gt(i),null;case 10:return er(i.type),gt(i),null;case 19:if(X(It),l=i.memoizedState,l===null)return gt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ml(l,!1);else{if(xt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=lc(t),d!==null){for(i.flags|=128,ml(l,!1),t=d.updateQueue,i.updateQueue=t,Ec(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Dg(a,t),a=a.sibling;return ae(It,It.current&1|2),Ke&&Zi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&qe()>Ac&&(i.flags|=128,h=!0,ml(l,!1),i.lanes=4194304)}else{if(!h)if(t=lc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Ec(i,t),ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ke)return gt(i),null}else 2*qe()-l.renderingStartTime>Ac&&a!==536870912&&(i.flags|=128,h=!0,ml(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=qe(),t.sibling=null,a=It.current,ae(It,h?a&1|2:a&1),Ke&&Zi(i,l.treeForkCount),t):(gt(i),null);case 22:case 23:return Dn(i),Gf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),a=i.updateQueue,a!==null&&Ec(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&X($s),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),er(Lt),gt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function uw(t,i){switch(Nf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return er(Lt),ht(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Er(i),null;case 31:if(i.memoizedState!==null){if(Dn(i),i.alternate===null)throw Error(s(340));Hs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Dn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Hs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(It),null;case 4:return ht(),null;case 10:return er(i.type),null;case 22:case 23:return Dn(i),Gf(),t!==null&&X($s),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return er(Lt),null;case 25:return null;default:return null}}function r0(t,i){switch(Nf(i),i.tag){case 3:er(Lt),ht();break;case 26:case 27:case 5:Er(i);break;case 4:ht();break;case 31:i.memoizedState!==null&&Dn(i);break;case 13:Dn(i);break;case 19:X(It);break;case 10:er(i.type);break;case 22:case 23:Dn(i),Gf(),t!==null&&X($s);break;case 24:er(Lt)}}function pl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(w){st(i,i.return,w)}}function qr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,h=i;var N=a,q=w;try{q()}catch(K){st(h,N,K)}}}l=l.next}while(l!==d)}}catch(K){st(i,i.return,K)}}function s0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Yg(i,a)}catch(l){st(t,t.return,l)}}}function a0(t,i,a){a.props=Js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){st(t,i,l)}}function gl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){st(t,i,h)}}function Vi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){st(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,i,h)}else a.current=null}function o0(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function wd(t,i,a){try{var l=t.stateNode;Dw(l,t.type,a,i),l[Qt]=i}catch(h){st(t,t.return,h)}}function l0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yr(t.type)||t.tag===4}function Sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||l0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ni));else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(xd(t,i,a),t=t.sibling;t!==null;)xd(t,i,a),t=t.sibling}function Tc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Tc(t,i,a),t=t.sibling;t!==null;)Tc(t,i,a),t=t.sibling}function u0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);nn(i,l,a),i[kt]=t,i[Qt]=a}catch(d){st(t,t.return,d)}}var sr=!1,Bt=!1,Ad=!1,c0=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function cw(t,i){if(t=t.containerInfo,Qd=Hc,t=Tg(t),vf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,w=-1,N=-1,q=0,K=0,Z=t,H=null;t:for(;;){for(var Q;Z!==a||h!==0&&Z.nodeType!==3||(w=_+h),Z!==d||l!==0&&Z.nodeType!==3||(N=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)H=Z,Z=Q;for(;;){if(Z===t)break t;if(H===a&&++q===h&&(w=_),H===d&&++K===l&&(N=_),(Q=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=Q}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kd={focusedElem:t,selectionRange:a},Hc=!1,Yt=i;Yt!==null;)if(i=Yt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Yt=t;else for(;Yt!==null;){switch(i=Yt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Js(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){st(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Yt=t;break}Yt=i.return}}function h0(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:or(t,a),l&4&&pl(5,a);break;case 1:if(or(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){st(a,a.return,_)}else{var h=Js(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){st(a,a.return,_)}}l&64&&s0(a),l&512&&gl(a,a.return);break;case 3:if(or(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Yg(t,i)}catch(_){st(a,a.return,_)}}break;case 27:i===null&&l&4&&u0(a);case 26:case 5:or(t,a),i===null&&l&4&&o0(a),l&512&&gl(a,a.return);break;case 12:or(t,a);break;case 31:or(t,a),l&4&&m0(t,a);break;case 13:or(t,a),l&4&&p0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=vw.bind(null,a),Uw(t,a))));break;case 22:if(l=a.memoizedState!==null||sr,!l){i=i!==null&&i.memoizedState!==null||Bt,h=sr;var d=Bt;sr=l,(Bt=i)&&!d?lr(t,a,(a.subtreeFlags&8772)!==0):or(t,a),sr=h,Bt=d}break;case 30:break;default:or(t,a)}}function f0(t){var i=t.alternate;i!==null&&(t.alternate=null,f0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&pa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,yn=!1;function ar(t,i,a){for(a=a.child;a!==null;)d0(t,i,a),a=a.sibling}function d0(t,i,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Zn,a)}catch{}switch(a.tag){case 26:Bt||Vi(a,i),ar(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Bt||Vi(a,i);var l=bt,h=yn;Yr(a.type)&&(bt=a.stateNode,yn=!1),ar(t,i,a),xl(a.stateNode),bt=l,yn=h;break;case 5:Bt||Vi(a,i);case 6:if(l=bt,h=yn,bt=null,ar(t,i,a),bt=l,yn=h,bt!==null)if(yn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(a.stateNode)}catch(d){st(a,i,d)}else try{bt.removeChild(a.stateNode)}catch(d){st(a,i,d)}break;case 18:bt!==null&&(yn?(t=bt,s_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Wa(t)):s_(bt,a.stateNode));break;case 4:l=bt,h=yn,bt=a.stateNode.containerInfo,yn=!0,ar(t,i,a),bt=l,yn=h;break;case 0:case 11:case 14:case 15:qr(2,a,i),Bt||qr(4,a,i),ar(t,i,a);break;case 1:Bt||(Vi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&a0(a,i,l)),ar(t,i,a);break;case 21:ar(t,i,a);break;case 22:Bt=(l=Bt)||a.memoizedState!==null,ar(t,i,a),Bt=l;break;default:ar(t,i,a)}}function m0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(a){st(i,i.return,a)}}}function p0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(a){st(i,i.return,a)}}function hw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new c0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new c0),i;default:throw Error(s(435,t.tag))}}function wc(t,i){var a=hw(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=bw.bind(null,t,l);l.then(h,h)}})}function _n(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(Yr(w.type)){bt=w.stateNode,yn=!1;break e}break;case 5:bt=w.stateNode,yn=!1;break e;case 3:case 4:bt=w.stateNode.containerInfo,yn=!0;break e}w=w.return}if(bt===null)throw Error(s(160));d0(d,_,h),bt=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)g0(i,t),i=i.sibling}var li=null;function g0(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(i,t),vn(t),l&4&&(qr(3,t,t.return),pl(3,t),qr(5,t,t.return));break;case 1:_n(i,t),vn(t),l&512&&(Bt||a===null||Vi(a,a.return)),l&64&&sr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=li;if(_n(i,t),vn(t),l&512&&(Bt||a===null||Vi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[bi]||d[kt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),nn(d,l,a),d[kt]=t,jt(d),l=d;break e;case"link":var _=g_("link","href",h).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}d=h.createElement(l),nn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=g_("meta","content",h).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}d=h.createElement(l),nn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[kt]=t,jt(d),l=d}t.stateNode=l}else y_(h,t.type,t.stateNode);else t.stateNode=p_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?y_(h,t.type,t.stateNode):p_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wd(t,t.memoizedProps,a.memoizedProps)}break;case 27:_n(i,t),vn(t),l&512&&(Bt||a===null||Vi(a,a.return)),a!==null&&l&4&&wd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_n(i,t),vn(t),l&512&&(Bt||a===null||Vi(a,a.return)),t.flags&32){h=t.stateNode;try{gn(h,"")}catch(fe){st(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,wd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ad=!0);break;case 6:if(_n(i,t),vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){st(t,t.return,fe)}}break;case 3:if(Uc=null,h=li,li=Pc(i.containerInfo),_n(i,t),li=h,vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Wa(i.containerInfo)}catch(fe){st(t,t.return,fe)}Ad&&(Ad=!1,y0(t));break;case 4:l=li,li=Pc(t.stateNode.containerInfo),_n(i,t),vn(t),li=l;break;case 12:_n(i,t),vn(t);break;case 31:_n(i,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 13:_n(i,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xc=qe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,q=sr,K=Bt;if(sr=q||h,Bt=K||N,_n(i,t),Bt=K,sr=q,vn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||sr||Bt||Zs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=N.stateNode;var Z=N.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(fe){st(N,N.return,fe)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(fe){st(N,N.return,fe)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;h?a_(Q,!0):a_(N.stateNode,!1)}catch(fe){st(N,N.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wc(t,a))));break;case 19:_n(i,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 30:break;case 21:break;default:_n(i,t),vn(t)}}function vn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(l0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Sd(t);Tc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(gn(_,""),a.flags&=-33);var w=Sd(t);Tc(t,w,_);break;case 3:case 4:var N=a.stateNode.containerInfo,q=Sd(t);xd(t,q,N);break;default:throw Error(s(161))}}catch(K){st(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function y0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;y0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function or(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)h0(t,i.alternate,i),i=i.sibling}function Zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qr(4,i,i.return),Zs(i);break;case 1:Vi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&a0(i,i.return,a),Zs(i);break;case 27:xl(i.stateNode);case 26:case 5:Vi(i,i.return),Zs(i);break;case 22:i.memoizedState===null&&Zs(i);break;case 30:Zs(i);break;default:Zs(i)}t=t.sibling}}function lr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:lr(h,d,a),pl(4,d);break;case 1:if(lr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){st(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Kg(N[h],w)}catch(q){st(l,l.return,q)}}a&&_&64&&s0(d),gl(d,d.return);break;case 27:u0(d);case 26:case 5:lr(h,d,a),a&&l===null&&_&4&&o0(d),gl(d,d.return);break;case 12:lr(h,d,a);break;case 31:lr(h,d,a),a&&_&4&&m0(h,d);break;case 13:lr(h,d,a),a&&_&4&&p0(h,d);break;case 22:d.memoizedState===null&&lr(h,d,a),gl(d,d.return);break;case 30:break;default:lr(h,d,a)}i=i.sibling}}function Rd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function Cd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function ui(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_0(t,i,a,l),i=i.sibling}function _0(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ui(t,i,a,l),h&2048&&pl(9,i);break;case 1:ui(t,i,a,l);break;case 3:ui(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){ui(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){st(i,i.return,N)}}else ui(t,i,a,l);break;case 31:ui(t,i,a,l);break;case 13:ui(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ui(t,i,a,l):yl(t,i):d._visibility&2?ui(t,i,a,l):(d._visibility|=2,qa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Rd(_,i);break;case 24:ui(t,i,a,l),h&2048&&Cd(i.alternate,i);break;default:ui(t,i,a,l)}}function qa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,w=a,N=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:qa(d,_,w,N,h),pl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?qa(d,_,w,N,h):yl(d,_):(K._visibility|=2,qa(d,_,w,N,h)),h&&q&2048&&Rd(_.alternate,_);break;case 24:qa(d,_,w,N,h),h&&q&2048&&Cd(_.alternate,_);break;default:qa(d,_,w,N,h)}i=i.sibling}}function yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:yl(a,l),h&2048&&Rd(l.alternate,l);break;case 24:yl(a,l),h&2048&&Cd(l.alternate,l);break;default:yl(a,l)}i=i.sibling}}var _l=8192;function Ha(t,i,a){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)v0(t,i,a),t=t.sibling}function v0(t,i,a){switch(t.tag){case 26:Ha(t,i,a),t.flags&_l&&t.memoizedState!==null&&Jw(a,li,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,i,a);break;case 3:case 4:var l=li;li=Pc(t.stateNode.containerInfo),Ha(t,i,a),li=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=_l,_l=16777216,Ha(t,i,a),_l=l):Ha(t,i,a));break;default:Ha(t,i,a)}}function b0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function vl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Yt=l,T0(l,t)}b0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)E0(t),t=t.sibling}function E0(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&qr(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Sc(t)):vl(t);break;default:vl(t)}}function Sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Yt=l,T0(l,t)}b0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qr(8,i,i.return),Sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Sc(i));break;default:Sc(i)}t=t.sibling}}function T0(t,i){for(;Yt!==null;){var a=Yt;switch(a.tag){case 0:case 11:case 15:qr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Yt=l;else e:for(a=t;Yt!==null;){l=Yt;var h=l.sibling,d=l.return;if(f0(l),l===a){Yt=null;break e}if(h!==null){h.return=d,Yt=h;break e}Yt=d}}}var fw={getCacheForType:function(t){var i=en(Lt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return en(Lt).controller.signal}},dw=typeof WeakMap=="function"?WeakMap:Map,et=0,ft=null,Ue=null,He=0,rt=0,On=null,Hr=!1,Fa=!1,Id=!1,ur=0,xt=0,Fr=0,Ws=0,Nd=0,Mn=0,Ga=0,bl=null,bn=null,Dd=!1,xc=0,w0=0,Ac=1/0,Rc=null,Gr=null,Gt=0,$r=null,$a=null,cr=0,Od=0,Md=null,S0=null,El=0,Vd=null;function Vn(){return(et&2)!==0&&He!==0?He&-He:P.T!==null?zd():Cu()}function x0(){if(Mn===0)if((He&536870912)===0||Ke){var t=As;As<<=1,(As&3932160)===0&&(As=262144),Mn=t}else Mn=536870912;return t=Nn.current,t!==null&&(t.flags|=32),Mn}function En(t,i,a){(t===ft&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),Qr(t,He,Mn,!1)),Rs(t,a),((et&2)===0||t!==ft)&&(t===ft&&((et&2)===0&&(Ws|=a),xt===4&&Qr(t,He,Mn,!1)),ki(t))}function A0(t,i,a){if((et&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Wn(t,i),h=l?gw(t,i):jd(t,i,!0),d=l;do{if(h===0){Fa&&!l&&Qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!mw(a)){h=jd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var w=t;h=bl;var N=w.current.memoizedState.isDehydrated;if(N&&(Qa(w,_).flags|=256),_=jd(w,_,!1),_!==2){if(Id&&!N){w.errorRecoveryDisabledLanes|=d,Ws|=d,h=4;break e}d=bn,bn=h,d!==null&&(bn===null?bn=d:bn.push.apply(bn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Qa(t,0),Qr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Qr(l,i,Mn,!Hr);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=xc+300-qe(),10<h)){if(Qr(l,i,Mn,!Hr),yi(l,0,!0)!==0)break e;cr=i,l.timeoutHandle=i_(R0.bind(null,l,a,bn,Rc,Dd,i,Mn,Ws,Ga,Hr,d,"Throttled",-0,0),h);break e}R0(l,a,bn,Rc,Dd,i,Mn,Ws,Ga,Hr,d,null,-0,0)}}break}while(!0);ki(t)}function R0(t,i,a,l,h,d,_,w,N,q,K,Z,H,Q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},v0(i,d,Z);var fe=(d&62914560)===d?xc-qe():(d&4194048)===d?w0-qe():0;if(fe=Zw(Z,fe),fe!==null){cr=d,t.cancelPendingCommit=fe(k0.bind(null,t,i,d,a,l,h,_,w,N,K,Z,null,H,Q)),Qr(t,d,_,!q);return}}k0(t,i,d,a,l,h,_,w,N)}function mw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qr(t,i,a,l){i&=~Nd,i&=~Ws,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Rt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Cs(t,a,i)}function Cc(){return(et&6)===0?(Tl(0),!1):!0}function kd(){if(Ue!==null){if(rt===0)var t=Ue.return;else t=Ue,Wi=Fs=null,Jf(t),Pa=null,rl=0,t=Ue;for(;t!==null;)r0(t.alternate,t),t=t.return;Ue=null}}function Qa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Vw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cr=0,kd(),ft=t,Ue=a=Ji(t.current,null),He=i,rt=0,On=null,Hr=!1,Fa=Wn(t,i),Id=!1,Ga=Mn=Nd=Ws=Fr=xt=0,bn=bl=null,Dd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Rt(l),d=1<<h;i|=t[h],l&=~d}return ur=i,Yu(),a}function C0(t,i){Ve=null,P.H=fl,i===ja||i===ic?(i=Fg(),rt=3):i===Uf?(i=Fg(),rt=4):rt=i===dd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,On=i,Ue===null&&(xt=1,yc(t,Hn(i,t.current)))}function I0(){var t=Nn.current;return t===null?!0:(He&4194048)===He?Qn===null:(He&62914560)===He||(He&536870912)!==0?t===Qn:!1}function N0(){var t=P.H;return P.H=fl,t===null?fl:t}function D0(){var t=P.A;return P.A=fw,t}function Ic(){xt=4,Hr||(He&4194048)!==He&&Nn.current!==null||(Fa=!0),(Fr&134217727)===0&&(Ws&134217727)===0||ft===null||Qr(ft,He,Mn,!1)}function jd(t,i,a){var l=et;et|=2;var h=N0(),d=D0();(ft!==t||He!==i)&&(Rc=null,Qa(t,i)),i=!1;var _=xt;e:do try{if(rt!==0&&Ue!==null){var w=Ue,N=On;switch(rt){case 8:kd(),_=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(i=!0);var q=rt;if(rt=0,On=null,Ka(t,w,N,q),a&&Fa){_=0;break e}break;default:q=rt,rt=0,On=null,Ka(t,w,N,q)}}pw(),_=xt;break}catch(K){C0(t,K)}while(!0);return i&&t.shellSuspendCounter++,Wi=Fs=null,et=l,P.H=h,P.A=d,Ue===null&&(ft=null,He=0,Yu()),_}function pw(){for(;Ue!==null;)O0(Ue)}function gw(t,i){var a=et;et|=2;var l=N0(),h=D0();ft!==t||He!==i?(Rc=null,Ac=qe()+500,Qa(t,i)):Fa=Wn(t,i);e:do try{if(rt!==0&&Ue!==null){i=Ue;var d=On;t:switch(rt){case 1:rt=0,On=null,Ka(t,i,d,1);break;case 2:case 9:if(qg(d)){rt=0,On=null,M0(i);break}i=function(){rt!==2&&rt!==9||ft!==t||(rt=7),ki(t)},d.then(i,i);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:qg(d)?(rt=0,On=null,M0(i)):(rt=0,On=null,Ka(t,i,d,7));break;case 5:var _=null;switch(Ue.tag){case 26:_=Ue.memoizedState;case 5:case 27:var w=Ue;if(_?__(_):w.stateNode.complete){rt=0,On=null;var N=w.sibling;if(N!==null)Ue=N;else{var q=w.return;q!==null?(Ue=q,Nc(q)):Ue=null}break t}}rt=0,On=null,Ka(t,i,d,5);break;case 6:rt=0,On=null,Ka(t,i,d,6);break;case 8:kd(),xt=6;break e;default:throw Error(s(462))}}yw();break}catch(K){C0(t,K)}while(!0);return Wi=Fs=null,P.H=l,P.A=h,et=a,Ue!==null?0:(ft=null,He=0,Yu(),xt)}function yw(){for(;Ue!==null&&!_t();)O0(Ue)}function O0(t){var i=n0(t.alternate,t,ur);t.memoizedProps=t.pendingProps,i===null?Nc(t):Ue=i}function M0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Xy(a,i,i.pendingProps,i.type,void 0,He);break;case 11:i=Xy(a,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:Jf(i);default:r0(a,i),i=Ue=Dg(i,ur),i=n0(a,i,ur)}t.memoizedProps=t.pendingProps,i===null?Nc(t):Ue=i}function Ka(t,i,a,l){Wi=Fs=null,Jf(i),Pa=null,rl=0;var h=i.return;try{if(sw(t,h,i,a,He)){xt=1,yc(t,Hn(a,t.current)),Ue=null;return}}catch(d){if(h!==null)throw Ue=h,d;xt=1,yc(t,Hn(a,t.current)),Ue=null;return}i.flags&32768?(Ke||l===1?t=!0:Fa||(He&536870912)!==0?t=!1:(Hr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),V0(i,t)):Nc(i)}function Nc(t){var i=t;do{if((i.flags&32768)!==0){V0(i,Hr);return}t=i.return;var a=lw(i.alternate,i,ur);if(a!==null){Ue=a;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=t}while(i!==null);xt===0&&(xt=5)}function V0(t,i){do{var a=uw(t.alternate,t);if(a!==null){a.flags&=32767,Ue=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=a}while(t!==null);xt=6,Ue=null}function k0(t,i,a,l,h,d,_,w,N){t.cancelPendingCommit=null;do Dc();while(Gt!==0);if((et&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Sf,pf(t,a,d,_,w,N),t===ft&&(Ue=ft=null,He=0),$a=i,$r=t,cr=a,Od=d,Md=h,S0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ew(wr,function(){return z0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,h=ne.p,ne.p=2,_=et,et|=4;try{cw(t,i,a)}finally{et=_,ne.p=h,P.T=l}}Gt=1,j0(),P0(),L0()}}function j0(){if(Gt===1){Gt=0;var t=$r,i=$a,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var l=ne.p;ne.p=2;var h=et;et|=4;try{g0(i,t);var d=Kd,_=Tg(t.containerInfo),w=d.focusedElem,N=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&Eg(w.ownerDocument.documentElement,w)){if(N!==null&&vf(w)){var q=N.start,K=N.end;if(K===void 0&&(K=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min(K,w.value.length);else{var Z=w.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var Q=H.getSelection(),fe=w.textContent.length,Ee=Math.min(N.start,fe),ct=N.end===void 0?Ee:Math.min(N.end,fe);!Q.extend&&Ee>ct&&(_=ct,ct=Ee,Ee=_);var L=bg(w,Ee),M=bg(w,ct);if(L&&M&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var B=Z.createRange();B.setStart(L.node,L.offset),Q.removeAllRanges(),Ee>ct?(Q.addRange(B),Q.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),Q.addRange(B))}}}}for(Z=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Z.length;w++){var J=Z[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Hc=!!Qd,Kd=Qd=null}finally{et=h,ne.p=l,P.T=a}}t.current=i,Gt=2}}function P0(){if(Gt===2){Gt=0;var t=$r,i=$a,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var l=ne.p;ne.p=2;var h=et;et|=4;try{h0(t,i.alternate,i)}finally{et=h,ne.p=l,P.T=a}}Gt=3}}function L0(){if(Gt===4||Gt===3){Gt=0,Tt();var t=$r,i=$a,a=cr,l=S0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Gt=5:(Gt=0,$a=$r=null,U0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gr=null),Qi(a),i=i.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Zn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=P.T,h=ne.p,ne.p=2,P.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{P.T=i,ne.p=h}}(cr&3)!==0&&Dc(),ki(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Vd?El++:(El=0,Vd=t):El=0,Tl(0)}}function U0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function Dc(){return j0(),P0(),L0(),z0()}function z0(){if(Gt!==5)return!1;var t=$r,i=Od;Od=0;var a=Qi(cr),l=P.T,h=ne.p;try{ne.p=32>a?32:a,P.T=null,a=Md,Md=null;var d=$r,_=cr;if(Gt=0,$a=$r=null,cr=0,(et&6)!==0)throw Error(s(331));var w=et;if(et|=4,E0(d.current),_0(d,d.current,_,a),et=w,Tl(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Zn,d)}catch{}return!0}finally{ne.p=h,P.T=l,U0(t,i)}}function B0(t,i,a){i=Hn(a,i),i=fd(t.stateNode,i,2),t=Ur(t,i,2),t!==null&&(Rs(t,2),ki(t))}function st(t,i,a){if(t.tag===3)B0(t,t,a);else for(;i!==null;){if(i.tag===3){B0(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){t=Hn(a,t),a=qy(2),l=Ur(i,a,2),l!==null&&(Hy(a,l,i,t),Rs(l,2),ki(l));break}}i=i.return}}function Pd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new dw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Id=!0,h.add(a),t=_w.bind(null,t,i,a),i.then(t,t))}function _w(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ft===t&&(He&a)===a&&(xt===4||xt===3&&(He&62914560)===He&&300>qe()-xc?(et&2)===0&&Qa(t,0):Nd|=a,Ga===He&&(Ga=0)),ki(t)}function q0(t,i){i===0&&(i=Ru()),t=Bs(t,i),t!==null&&(Rs(t,i),ki(t))}function vw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),q0(t,a)}function bw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),q0(t,a)}function Ew(t,i){return Oe(t,i)}var Oc=null,Ya=null,Ld=!1,Mc=!1,Ud=!1,Kr=0;function ki(t){t!==Ya&&t.next===null&&(Ya===null?Oc=Ya=t:Ya=Ya.next=t),Mc=!0,Ld||(Ld=!0,ww())}function Tl(t,i){if(!Ud&&Mc){Ud=!0;do for(var a=!1,l=Oc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Rt(42|t)+1)-1,d&=h&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,$0(l,d))}else d=He,d=yi(l,l===ft?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,$0(l,d));l=l.next}while(a);Ud=!1}}function Tw(){H0()}function H0(){Mc=Ld=!1;var t=0;Kr!==0&&Mw()&&(t=Kr);for(var i=qe(),a=null,l=Oc;l!==null;){var h=l.next,d=F0(l,i);d===0?(l.next=null,a===null?Oc=h:a.next=h,h===null&&(Ya=a)):(a=l,(t!==0||(d&3)!==0)&&(Mc=!0)),l=h}Gt!==0&&Gt!==5||Tl(t),Kr!==0&&(Kr=0)}function F0(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Rt(d),w=1<<_,N=h[_];N===-1?((w&a)===0||(w&l)!==0)&&(h[_]=mf(w,i)):N<=i&&(t.expiredLanes|=w),d&=~w}if(i=ft,a=He,a=yi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ae(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ae(l),Qi(a)){case 2:case 8:a=xs;break;case 32:a=wr;break;case 268435456:a=Tu;break;default:a=wr}return l=G0.bind(null,t),a=Oe(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ae(l),t.callbackPriority=2,t.callbackNode=null,2}function G0(t,i){if(Gt!==0&&Gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Dc()&&t.callbackNode!==a)return null;var l=He;return l=yi(t,t===ft?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(A0(t,l,i),F0(t,qe()),t.callbackNode!=null&&t.callbackNode===a?G0.bind(null,t):null)}function $0(t,i){if(Dc())return null;A0(t,i,!0)}function ww(){kw(function(){(et&6)!==0?Oe(jn,Tw):H0()})}function zd(){if(Kr===0){var t=Va;t===0&&(t=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Kr=t}return Kr}function Q0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function K0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Sw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Q0((h[Qt]||null).action),_=l.submitter;_&&(i=(i=_[Qt]||null)?Q0(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var w=new Ci("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Kr!==0){var N=_?K0(h,_):new FormData(h);ad(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(w.preventDefault(),N=_?K0(h,_):new FormData(h),ad(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Bd=0;Bd<wf.length;Bd++){var qd=wf[Bd],xw=qd.toLowerCase(),Aw=qd[0].toUpperCase()+qd.slice(1);oi(xw,"on"+Aw)}oi(xg,"onAnimationEnd"),oi(Ag,"onAnimationIteration"),oi(Rg,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(q1,"onTransitionRun"),oi(H1,"onTransitionStart"),oi(F1,"onTransitionCancel"),oi(Cg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function Y0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var w=l[_],N=w.instance,q=w.currentTarget;if(w=w.listener,N!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=q;try{d(h)}catch(K){Ku(K)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(w=l[_],N=w.instance,q=w.currentTarget,w=w.listener,N!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=q;try{d(h)}catch(K){Ku(K)}h.currentTarget=null,d=N}}}}function ze(t,i){var a=i[ma];a===void 0&&(a=i[ma]=new Set);var l=t+"__bubble";a.has(l)||(X0(i,t,2,!1),a.add(l))}function Hd(t,i,a){var l=0;i&&(l|=4),X0(a,t,l,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Fd(t){if(!t[Vc]){t[Vc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(Rw.has(a)||Hd(a,!1,t),Hd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,Hd("selectionchange",!1,i))}}function X0(t,i,a,l){switch(x_(i)){case 2:var h=tS;break;case 8:h=nS;break;default:h=sm}a=h.bind(null,i,a,t),h=void 0,!Ms||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Gd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;w!==null;){if(_=Ei(w),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}w=w.parentNode}}l=l.return}Ir(function(){var q=d,K=Un(a),Z=[];e:{var H=Ig.get(t);if(H!==void 0){var Q=Ci,fe=t;switch(t){case"keypress":if(ks(a)===0)break e;case"keydown":case"keyup":Q=Gu;break;case"focusin":fe="focus",Q=Ps;break;case"focusout":fe="blur",Q=Ps;break;case"beforeblur":case"afterblur":Q=Ps;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case xg:case Ag:case Rg:Q=Lu;break;case Cg:Q=S;break;case"scroll":case"scrollend":Q=Qo;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Xi;break;case"toggle":case"beforetoggle":Q=Me}var Ee=(i&4)!==0,ct=!Ee&&(t==="scroll"||t==="scrollend"),L=Ee?H!==null?H+"Capture":null:H;Ee=[];for(var M=q,B;M!==null;){var J=M;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||L===null||(J=ii(M,L),J!=null&&Ee.push(Sl(M,J,B))),ct)break;M=M.return}0<Ee.length&&(H=new Q(H,fe,null,a,K),Z.push({event:H,listeners:Ee}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&a!==Fo&&(fe=a.relatedTarget||a.fromElement)&&(Ei(fe)||fe[vi]))break e;if((Q||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=q,fe=fe?Ei(fe):null,fe!==null&&(ct=u(fe),Ee=fe.tag,fe!==ct||Ee!==5&&Ee!==27&&Ee!==6)&&(fe=null)):(Q=null,fe=q),Q!==fe)){if(Ee=Ko,J="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Xi,J="onPointerLeave",L="onPointerEnter",M="pointer"),ct=Q==null?H:An(Q),B=fe==null?H:An(fe),H=new Ee(J,M+"leave",Q,a,K),H.target=ct,H.relatedTarget=B,J=null,Ei(K)===q&&(Ee=new Ee(L,M+"enter",fe,a,K),Ee.target=B,Ee.relatedTarget=ct,J=Ee),ct=J,Q&&fe)t:{for(Ee=Cw,L=Q,M=fe,B=0,J=L;J;J=Ee(J))B++;J=0;for(var _e=M;_e;_e=Ee(_e))J++;for(;0<B-J;)L=Ee(L),B--;for(;0<J-B;)M=Ee(M),J--;for(;B--;){if(L===M||M!==null&&L===M.alternate){Ee=L;break t}L=Ee(L),M=Ee(M)}Ee=null}else Ee=null;Q!==null&&J0(Z,H,Q,Ee,!1),fe!==null&&ct!==null&&J0(Z,ct,fe,Ee,!0)}}e:{if(H=q?An(q):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var Je=mg;else if(fg(H))if(pg)Je=U1;else{Je=P1;var me=j1}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&_a(q.elementType)&&(Je=mg):Je=L1;if(Je&&(Je=Je(t,q))){dg(Z,Je,a,K);break e}me&&me(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Bo(H,"number",H.value)}switch(me=q?An(q):window,t){case"focusin":(fg(me)||me.contentEditable==="true")&&(Aa=me,bf=q,Wo=null);break;case"focusout":Wo=bf=Aa=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,wg(Z,a,K);break;case"selectionchange":if(B1)break;case"keydown":case"keyup":wg(Z,a,K)}var je;if(We)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else xa?Ls(t,a)&&(Fe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(Di&&a.locale!=="ko"&&(xa||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&xa&&(je=$o()):(Ri=K,Go="value"in Ri?Ri.value:Ri.textContent,xa=!0)),me=kc(q,Fe),0<me.length&&(Fe=new Ni(Fe,t,null,a,K),Z.push({event:Fe,listeners:me}),je?Fe.data=je:(je=Sa(a),je!==null&&(Fe.data=je)))),(je=Bn?O1(t,a):M1(t,a))&&(Fe=kc(q,"onBeforeInput"),0<Fe.length&&(me=new Ni("onBeforeInput","beforeinput",null,a,K),Z.push({event:me,listeners:Fe}),me.data=je)),Sw(Z,t,q,a,K)}Y0(Z,i)})}function Sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function kc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ii(t,a),h!=null&&l.unshift(Sl(t,h,d)),h=ii(t,i),h!=null&&l.push(Sl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Cw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function J0(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var w=a,N=w.alternate,q=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||q===null||(N=q,h?(q=ii(a,d),q!=null&&_.unshift(Sl(a,q,N))):h||(q=ii(a,d),q!=null&&_.push(Sl(a,q,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Iw=/\r\n?/g,Nw=/\u0000|\uFFFD/g;function Z0(t){return(typeof t=="string"?t:""+t).replace(Iw,`
`).replace(Nw,"")}function W0(t,i){return i=Z0(i),Z0(t)===i}function ut(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&gn(t,""+l);break;case"className":Rn(t,"class",l);break;case"tabIndex":Rn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(t,a,l);break;case"style":Ho(t,l,d);break;case"data":if(i!=="object"){Rn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ut(t,i,"name",h.name,h,null),ut(t,i,"formEncType",h.formEncType,h,null),ut(t,i,"formMethod",h.formMethod,h,null),ut(t,i,"formTarget",h.formTarget,h,null)):(ut(t,i,"encType",h.encType,h,null),ut(t,i,"method",h.method,h,null),ut(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ni);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),ga(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ga(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ku.get(a)||a,ga(t,a,l))}}function $d(t,i,a,l,h,d){switch(a){case"style":Ho(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Qt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ga(t,a,l)}}}function nn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(t,i,d,_,a,null)}}h&&ut(t,i,"srcSet",a.srcSet,a,null),l&&ut(t,i,"src",a.src,a,null);return;case"input":ze("invalid",t);var w=d=_=h=null,N=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":N=K;break;case"defaultChecked":q=K;break;case"value":d=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:ut(t,i,l,K,a,null)}}Ou(t,d,w,N,q,_,h,!1);return;case"select":ze("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:ut(t,i,h,w,a,null)}i=d,a=_,t.multiple=!!l,i!=null?xr(t,!!l,i,!1):a!=null&&xr(t,!!l,a,!0);return;case"textarea":ze("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:ut(t,i,_,w,a,null)}Ar(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(t,i,N,l,a,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)ze(wl[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(t,i,q,l,a,null)}return;default:if(_a(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&$d(t,i,K,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&ut(t,i,w,l,a,null))}function Dw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,w=null,N=null,q=null,K=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(Q)||ut(t,i,Q,null,l,Z)}}for(var H in l){var Q=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(Q!=null||Z!=null))switch(H){case"type":d=Q;break;case"name":h=Q;break;case"checked":q=Q;break;case"defaultChecked":K=Q;break;case"value":_=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==Z&&ut(t,i,H,Q,l,Z)}}ya(t,_,w,N,q,K,d,h);return;case"select":Q=_=w=H=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||ut(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":H=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==N&&ut(t,i,h,d,l,N)}i=w,a=_,l=Q,H!=null?xr(t,!!a,H,!1):!!l!=!!a&&(i!=null?xr(t,!!a,i,!0):xr(t,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ut(t,i,w,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ut(t,i,_,h,l,d)}Mu(t,H,Q);return;case"option":for(var fe in a)if(H=a[fe],a.hasOwnProperty(fe)&&H!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:ut(t,i,fe,null,l,H)}for(N in l)if(H=l[N],Q=a[N],l.hasOwnProperty(N)&&H!==Q&&(H!=null||Q!=null))switch(N){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:ut(t,i,N,H,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)H=a[Ee],a.hasOwnProperty(Ee)&&H!=null&&!l.hasOwnProperty(Ee)&&ut(t,i,Ee,null,l,H);for(q in l)if(H=l[q],Q=a[q],l.hasOwnProperty(q)&&H!==Q&&(H!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:ut(t,i,q,H,l,Q)}return;default:if(_a(i)){for(var ct in a)H=a[ct],a.hasOwnProperty(ct)&&H!==void 0&&!l.hasOwnProperty(ct)&&$d(t,i,ct,void 0,l,H);for(K in l)H=l[K],Q=a[K],!l.hasOwnProperty(K)||H===Q||H===void 0&&Q===void 0||$d(t,i,K,H,l,Q);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&ut(t,i,L,null,l,H);for(Z in l)H=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||H===Q||H==null&&Q==null||ut(t,i,Z,H,l,Q)}function e_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ow(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,w=h.duration;if(d&&w&&e_(_)){for(_=0,w=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],q=N.startTime;if(q>w)break;var K=N.transferSize,Z=N.initiatorType;K&&e_(Z)&&(N=N.responseEnd,_+=K*(N<w?1:(w-q)/(N-q)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qd=null,Kd=null;function jc(t){return t.nodeType===9?t:t.ownerDocument}function t_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Yd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xd=null;function Mw(){var t=window.event;return t&&t.type==="popstate"?t===Xd?!1:(Xd=t,!0):(Xd=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,Vw=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,kw=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(t){return r_.resolve(null).then(t).catch(jw)}:i_;function jw(t){setTimeout(function(){throw t})}function Yr(t){return t==="head"}function s_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Wa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")xl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,xl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[bi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&xl(t.ownerDocument.body);a=h}while(a);Wa(i)}function a_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Jd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jd(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Pw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[bi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function Lw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function o_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Kn(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$?"||t.data==="$~"}function Wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Uw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var em=null;function l_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function u_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function c_(t,i,a){switch(i=jc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pa(t)}var Yn=new Map,h_=new Set;function Pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hr=ne.d;ne.d={f:zw,r:Bw,D:qw,C:Hw,L:Fw,m:Gw,X:Qw,S:$w,M:Kw};function zw(){var t=hr.f(),i=Cc();return t||i}function Bw(t){var i=Ln(t);i!==null&&i.tag===5&&i.type==="form"?Cy(i):hr.r(t)}var Xa=typeof document>"u"?null:document;function f_(t,i,a){var l=Xa;if(l&&typeof i=="string"&&i){var h=pn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),h_.has(h)||(h_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),nn(i,"link",t),jt(i),l.head.appendChild(i)))}}function qw(t){hr.D(t),f_("dns-prefetch",t,null)}function Hw(t,i){hr.C(t,i),f_("preconnect",t,i)}function Fw(t,i,a){hr.L(t,i,a);var l=Xa;if(l&&t&&i){var h='link[rel="preload"][as="'+pn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pn(a.imageSizes)+'"]')):h+='[href="'+pn(t)+'"]';var d=h;switch(i){case"style":d=Ja(t);break;case"script":d=Za(t)}Yn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Yn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Al(d))||i==="script"&&l.querySelector(Rl(d))||(i=l.createElement("link"),nn(i,"link",t),jt(i),l.head.appendChild(i)))}}function Gw(t,i){hr.m(t,i);var a=Xa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!Yn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Yn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(d)))return}l=a.createElement("link"),nn(l,"link",t),jt(l),a.head.appendChild(l)}}}function $w(t,i,a){hr.S(t,i,a);var l=Xa;if(l&&t){var h=Ti(l).hoistableStyles,d=Ja(t);i=i||"default";var _=h.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(Al(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Yn.get(d))&&tm(t,a);var N=_=l.createElement("link");jt(N),nn(N,"link",t),N._p=new Promise(function(q,K){N.onload=q,N.onerror=K}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Lc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:w},h.set(d,_)}}}function Qw(t,i){hr.X(t,i);var a=Xa;if(a&&t){var l=Ti(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(t=T({src:t,async:!0},i),(i=Yn.get(h))&&nm(t,i),d=a.createElement("script"),jt(d),nn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Kw(t,i){hr.M(t,i);var a=Xa;if(a&&t){var l=Ti(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Yn.get(h))&&nm(t,i),d=a.createElement("script"),jt(d),nn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function d_(t,i,a,l){var h=(h=Re.current)?Pc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=Ti(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=Ti(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Al(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Yn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(t,a),d||Yw(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=Ti(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ja(t){return'href="'+pn(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function m_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Yw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),nn(i,"link",a),jt(i),t.head.appendChild(i))}function Za(t){return'[src="'+pn(t)+'"]'}function Rl(t){return"script[async]"+t}function p_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pn(a.href)+'"]');if(l)return i.instance=l,jt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),jt(l),nn(l,"style",h),Lc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ja(a.href);var d=t.querySelector(Al(h));if(d)return i.state.loading|=4,i.instance=d,jt(d),d;l=m_(a),(h=Yn.get(h))&&tm(l,h),d=(t.ownerDocument||t).createElement("link"),jt(d);var _=d;return _._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),nn(d,"link",l),i.state.loading|=4,Lc(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(h=t.querySelector(Rl(d)))?(i.instance=h,jt(h),h):(l=a,(h=Yn.get(d))&&(l=T({},a),nm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),jt(h),nn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Lc(l,a.precedence,t));return i.instance}function Lc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===i)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function tm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Uc=null;function g_(t,i,a){if(Uc===null){var l=new Map,h=Uc=new Map;h.set(a,l)}else h=Uc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[bi]||d[kt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function y_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Xw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function __(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Jw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ja(l.href),d=i.querySelector(Al(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=zc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,jt(d);return}d=i.ownerDocument||i,l=m_(l),(h=Yn.get(h))&&tm(l,h),d=d.createElement("link"),jt(d);var _=d;_._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),nn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=zc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var im=0;function Zw(t,i){return t.stylesheets&&t.count===0&&qc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&qc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&im===0&&(im=62500*Ow());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&qc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>im?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bc=null;function qc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bc=new Map,i.forEach(Ww,t),Bc=null,zc.call(t))}function Ww(t,i){if(!(i.state.loading&4)){var a=Bc.get(t);if(a)var l=a.get(null);else{a=new Map,Bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=zc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Cl={$$typeof:re,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function eS(t,i,a,l,h,d,_,w,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function v_(t,i,a,l,h,d,_,w,N,q,K,Z){return t=new eS(t,i,a,_,N,q,K,Z,w),i=1,d===!0&&(i|=24),d=In(3,null,null,i),t.current=d,d.stateNode=t,i=jf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},zf(d),t}function b_(t){return t?(t=Ia,t):Ia}function E_(t,i,a,l,h,d){h=b_(h),l.context===null?l.context=h:l.pendingContext=h,l=Lr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ur(t,l,i),a!==null&&(En(a,t,i),al(a,t,i))}function T_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function rm(t,i){T_(t,i),(t=t.alternate)&&T_(t,i)}function w_(t){if(t.tag===13||t.tag===31){var i=Bs(t,67108864);i!==null&&En(i,t,67108864),rm(t,67108864)}}function S_(t){if(t.tag===13||t.tag===31){var i=Vn();i=Is(i);var a=Bs(t,i);a!==null&&En(a,t,i),rm(t,i)}}var Hc=!0;function tS(t,i,a,l){var h=P.T;P.T=null;var d=ne.p;try{ne.p=2,sm(t,i,a,l)}finally{ne.p=d,P.T=h}}function nS(t,i,a,l){var h=P.T;P.T=null;var d=ne.p;try{ne.p=8,sm(t,i,a,l)}finally{ne.p=d,P.T=h}}function sm(t,i,a,l){if(Hc){var h=am(l);if(h===null)Gd(t,i,l,Fc,a),A_(t,l);else if(rS(h,t,i,a,l))l.stopPropagation();else if(A_(t,l),i&4&&-1<iS.indexOf(t)){for(;h!==null;){var d=Ln(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=gi(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var N=1<<31-Rt(_);w.entanglements[1]|=N,_&=~N}ki(d),(et&6)===0&&(Ac=qe()+500,Tl(0))}}break;case 31:case 13:w=Bs(d,2),w!==null&&En(w,d,2),Cc(),rm(d,2)}if(d=am(l),d===null&&Gd(t,i,l,Fc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Gd(t,i,l,null,a)}}function am(t){return t=Un(t),om(t)}var Fc=null;function om(t){if(Fc=null,t=Ei(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Fc=t,null}function x_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mn()){case jn:return 2;case xs:return 8;case wr:case df:return 32;case Tu:return 268435456;default:return 32}default:return 32}}var lm=!1,Xr=null,Jr=null,Zr=null,Il=new Map,Nl=new Map,Wr=[],iS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(t,i){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function Dl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ln(i),i!==null&&w_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function rS(t,i,a,l,h){switch(i){case"focusin":return Xr=Dl(Xr,t,i,a,l,h),!0;case"dragenter":return Jr=Dl(Jr,t,i,a,l,h),!0;case"mouseover":return Zr=Dl(Zr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Dl(Il.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Dl(Nl.get(d)||null,t,i,a,l,h)),!0}return!1}function R_(t){var i=Ei(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,ei(t.priority,function(){S_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,ei(t.priority,function(){S_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Fo=l,a.target.dispatchEvent(l),Fo=null}else return i=Ln(a),i!==null&&w_(i),t.blockedOn=a,!1;i.shift()}return!0}function C_(t,i,a){Gc(t)&&a.delete(i)}function sS(){lm=!1,Xr!==null&&Gc(Xr)&&(Xr=null),Jr!==null&&Gc(Jr)&&(Jr=null),Zr!==null&&Gc(Zr)&&(Zr=null),Il.forEach(C_),Nl.forEach(C_)}function $c(t,i){t.blockedOn===i&&(t.blockedOn=null,lm||(lm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,sS)))}var Qc=null;function I_(t){Qc!==t&&(Qc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qc===t&&(Qc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var d=Ln(a);d!==null&&(t.splice(i,3),i-=3,ad(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Wa(t){function i(N){return $c(N,t)}Xr!==null&&$c(Xr,t),Jr!==null&&$c(Jr,t),Zr!==null&&$c(Zr,t),Il.forEach(i),Nl.forEach(i);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)R_(a),a.blockedOn===null&&Wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Qt]||null;if(typeof d=="function")_||I_(a);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Qt]||null)w=_.formAction;else if(om(h)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),I_(a)}}}function N_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function um(t){this._internalRoot=t}Kc.prototype.render=um.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Vn();E_(a,l,t,i,null,null)},Kc.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;E_(t.current,2,null,t,null,null),Cc(),i[vi]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Cu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Wr.length&&i!==0&&i<Wr[a].priority;a++);Wr.splice(a,0,t),a===0&&R_(t)}};var D_=e.version;if(D_!=="19.2.0")throw Error(s(527,D_,"19.2.0"));ne.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var aS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{Zn=Yc.inject(aS),Jt=Yc}catch{}}return Ml.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ly,d=Uy,_=zy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=v_(t,1,!1,null,null,a,l,null,h,d,_,N_),t[vi]=i.current,Fd(t),new um(i)},Ml.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ly,_=Uy,w=zy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=v_(t,1,!0,i,a??null,l,h,N,d,_,w,N_),i.context=b_(null),a=i.current,l=Vn(),l=Is(l),h=Lr(l),h.callback=null,Ur(a,h,l),a=l,i.current.lanes=a,Rs(i,a),ki(i),t[vi]=i.current,Fd(t),new Kc(i)},Ml.version="19.2.0",Ml}var B_;function gS(){if(B_)return fm.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=pS(),fm.exports}var yS=gS();var q_="popstate";function _S(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Vm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Kl(o)}return bS(e,n,null,r)}function Et(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Jn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vS(){return Math.random().toString(36).substring(2,10)}function H_(r,e){return{usr:r.state,key:r.key,idx:e}}function Vm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||s||vS()}}function Kl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Eo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function bS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let F=E(),W=F==null?null:F-g;g=F,p&&p({action:m,location:Y.location,delta:W})}function A(F,W){m="PUSH";let ie=Vm(Y.location,F,W);g=E()+1;let re=H_(ie,g),ge=Y.createHref(ie);try{f.pushState(re,"",ge)}catch(ke){if(ke instanceof DOMException&&ke.name==="DataCloneError")throw ke;o.location.assign(ge)}u&&p&&p({action:m,location:Y.location,delta:1})}function j(F,W){m="REPLACE";let ie=Vm(Y.location,F,W);g=E();let re=H_(ie,g),ge=Y.createHref(ie);f.replaceState(re,"",ge),u&&p&&p({action:m,location:Y.location,delta:0})}function $(F){return ES(F)}let Y={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(q_,T),p=F,()=>{o.removeEventListener(q_,T),p=null}},createHref(F){return e(o,F)},createURL:$,encodeLocation(F){let W=$(F);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:A,replace:j,go(F){return f.go(F)}};return Y}function ES(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Kl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Ib(r,e,n="/"){return TS(r,e,n,!1)}function TS(r,e,n,s){let o=typeof e=="string"?Eo(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let f=Nb(r);wS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=VS(u);m=OS(f[p],g,s)}return m}function Nb(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;Et(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=mr([s,E.relativePath]),A=n.concat(E);f.children&&f.children.length>0&&(Et(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Nb(f.children,e,A,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:NS(T,f.index),routesMeta:A})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of Db(f.path))u(f,m,!0,p)}),e}function Db(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=Db(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function wS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:DS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var SS=/^:[\w-]+$/,xS=3,AS=2,RS=1,CS=10,IS=-2,F_=r=>r==="*";function NS(r,e){let n=r.split("/"),s=n.length;return n.some(F_)&&(s+=IS),e&&(s+=AS),n.filter(o=>!F_(o)).reduce((o,u)=>o+(SS.test(u)?xS:u===""?RS:CS),s)}function DS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function OS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=gh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=gh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:mr([u,T.pathname]),pathnameBase:US(mr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=mr([u,T.pathnameBase]))}return f}function gh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=MS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},A)=>{if(E==="*"){let $=m[A]||"";f=u.slice(0,u.length-$.length).replace(/(.)\/+$/,"$1")}const j=m[A];return T&&!j?g[E]=void 0:g[E]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function MS(r,e=!1,n=!0){Jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function VS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function pr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var kS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jS=r=>kS.test(r);function PS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Eo(r):r,u;if(n)if(jS(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Jn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=G_(n.substring(1),"/"):u=G_(n,e)}else u=e;return{pathname:u,search:zS(s),hash:BS(o)}}function G_(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cp(r){let e=LS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function hp(r,e,n,s=!1){let o;typeof r=="string"?o=Eo(r):(o={...r},Et(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=PS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var mr=r=>r.join("/").replace(/\/\/+/g,"/"),US=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),zS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,BS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function qS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ob=["POST","PUT","PATCH","DELETE"];new Set(Ob);var HS=["GET",...Ob];new Set(HS);var To=U.createContext(null);To.displayName="DataRouter";var Uh=U.createContext(null);Uh.displayName="DataRouterState";U.createContext(!1);var Mb=U.createContext({isTransitioning:!1});Mb.displayName="ViewTransition";var FS=U.createContext(new Map);FS.displayName="Fetchers";var GS=U.createContext(null);GS.displayName="Await";var mi=U.createContext(null);mi.displayName="Navigation";var au=U.createContext(null);au.displayName="Location";var Gi=U.createContext({outlet:null,matches:[],isDataRoute:!1});Gi.displayName="Route";var fp=U.createContext(null);fp.displayName="RouteError";function $S(r,{relative:e}={}){Et(wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(mi),{hash:o,pathname:u,search:f}=lu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:mr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function wo(){return U.useContext(au)!=null}function Es(){return Et(wo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(au).location}var Vb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kb(r){U.useContext(mi).static||U.useLayoutEffect(r)}function ou(){let{isDataRoute:r}=U.useContext(Gi);return r?sx():QS()}function QS(){Et(wo(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(To),{basename:e,navigator:n}=U.useContext(mi),{matches:s}=U.useContext(Gi),{pathname:o}=Es(),u=JSON.stringify(cp(s)),f=U.useRef(!1);return kb(()=>{f.current=!0}),U.useCallback((p,g={})=>{if(Jn(f.current,Vb),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=hp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:mr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}U.createContext(null);function lu(r,{relative:e}={}){let{matches:n}=U.useContext(Gi),{pathname:s}=Es(),o=JSON.stringify(cp(n));return U.useMemo(()=>hp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function KS(r,e){return jb(r,e)}function jb(r,e,n,s,o){Et(wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(mi),{matches:f}=U.useContext(Gi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let ie=T&&T.path||"";Pb(g,!T||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let A=Es(),j;if(e){let ie=typeof e=="string"?Eo(e):e;Et(E==="/"||ie.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),j=ie}else j=A;let $=j.pathname||"/",Y=$;if(E!=="/"){let ie=E.replace(/^\//,"").split("/");Y="/"+$.replace(/^\//,"").split("/").slice(ie.length).join("/")}let F=Ib(r,{pathname:Y});Jn(T||F!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Jn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=WS(F&&F.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:mr([E,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?E:mr([E,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,s,o);return e&&W?U.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},W):W}function YS(){let r=rx(),e=qS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var XS=U.createElement(YS,null),JS=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?U.createElement(Gi.Provider,{value:this.props.routeContext},U.createElement(fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZS({routeContext:r,match:e,children:n}){let s=U.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Gi.Provider,{value:r},n)}function WS(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);Et(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:A,errors:j}=n,$=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!j||j[T.route.id]===void 0);if(T.route.lazy||$){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:T})}:void 0;return u.reduceRight((E,T,A)=>{let j,$=!1,Y=null,F=null;n&&(j=f&&T.route.id?f[T.route.id]:void 0,Y=T.route.errorElement||XS,m&&(p<0&&A===0?(Pb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),$=!0,F=null):p===A&&($=!0,F=T.route.hydrateFallbackElement||null)));let W=e.concat(u.slice(0,A+1)),ie=()=>{let re;return j?re=Y:$?re=F:T.route.Component?re=U.createElement(T.route.Component,null):T.route.element?re=T.route.element:re=E,U.createElement(ZS,{match:T,routeContext:{outlet:E,matches:W,isDataRoute:n!=null},children:re})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?U.createElement(JS,{location:n.location,revalidation:n.revalidation,component:Y,error:j,children:ie(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:g}):ie()},null)}function dp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ex(r){let e=U.useContext(To);return Et(e,dp(r)),e}function tx(r){let e=U.useContext(Uh);return Et(e,dp(r)),e}function nx(r){let e=U.useContext(Gi);return Et(e,dp(r)),e}function mp(r){let e=nx(r),n=e.matches[e.matches.length-1];return Et(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function ix(){return mp("useRouteId")}function rx(){let r=U.useContext(fp),e=tx("useRouteError"),n=mp("useRouteError");return r!==void 0?r:e.errors?.[n]}function sx(){let{router:r}=ex("useNavigate"),e=mp("useNavigate"),n=U.useRef(!1);return kb(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{Jn(n.current,Vb),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var $_={};function Pb(r,e,n){!e&&!$_[r]&&($_[r]=!0,Jn(!1,n))}U.memo(ax);function ax({routes:r,future:e,state:n,unstable_onError:s}){return jb(r,void 0,n,s,e)}function Lb({to:r,replace:e,state:n,relative:s}){Et(wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(mi);Jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(Gi),{pathname:f}=Es(),m=ou(),p=hp(r,cp(u),f,s==="path"),g=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function kl(r){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ox({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Et(!wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Eo(n));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:A="default"}=n,j=U.useMemo(()=>{let $=pr(p,f);return $==null?null:{location:{pathname:$,search:g,hash:E,state:T,key:A},navigationType:s}},[f,p,g,E,T,A,s]);return Jn(j!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:U.createElement(mi.Provider,{value:m},U.createElement(au.Provider,{children:e,value:j}))}function lx({children:r,location:e}){return KS(km(r),e)}function km(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,km(s.props.children,u));return}Et(s.type===kl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=km(s.props.children,u)),n.push(f)}),n}var ih="get",rh="application/x-www-form-urlencoded";function zh(r){return r!=null&&typeof r.tagName=="string"}function ux(r){return zh(r)&&r.tagName.toLowerCase()==="button"}function cx(r){return zh(r)&&r.tagName.toLowerCase()==="form"}function hx(r){return zh(r)&&r.tagName.toLowerCase()==="input"}function fx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function dx(r,e){return r.button===0&&(!e||e==="_self")&&!fx(r)}var Xc=null;function mx(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var px=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(r){return r!=null&&!px.has(r)?(Jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):r}function gx(r,e){let n,s,o,u,f;if(cx(r)){let m=r.getAttribute("action");s=m?pr(m,e):null,n=r.getAttribute("method")||ih,o=ym(r.getAttribute("enctype"))||rh,u=new FormData(r)}else if(ux(r)||hx(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?pr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ih,o=ym(r.getAttribute("formenctype"))||ym(m.getAttribute("enctype"))||rh,u=new FormData(m,r),!mx()){let{name:g,type:E,value:T}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(zh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ih,s=null,o=rh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yx(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&pr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function _x(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vx(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function bx(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await _x(u,n);return f.links?f.links():[]}return[]}));return Sx(s.flat(1).filter(vx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Q_(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Ex(r,e,{includeHydrateFallback:n}={}){return Tx(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Tx(r){return[...new Set(r)]}function wx(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Sx(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(wx(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Ub(){let r=U.useContext(To);return pp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function xx(){let r=U.useContext(Uh);return pp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var gp=U.createContext(void 0);gp.displayName="FrameworkContext";function zb(){let r=U.useContext(gp);return pp(r,"You must render this element inside a <HydratedRouter> element"),r}function Ax(r,e){let n=U.useContext(gp),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,A=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=W=>{W.forEach(ie=>{f(ie.isIntersecting)})},F=new IntersectionObserver(Y,{threshold:.5});return A.current&&F.observe(A.current),()=>{F.disconnect()}}},[r]),U.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let j=()=>{o(!0)},$=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Vl(m,j),onBlur:Vl(p,$),onMouseEnter:Vl(g,j),onMouseLeave:Vl(E,$),onTouchStart:Vl(T,j)}]:[!1,A,{}]}function Vl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Rx({page:r,...e}){let{router:n}=Ub(),s=U.useMemo(()=>Ib(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(Ix,{page:r,matches:s,...e}):null}function Cx(r){let{manifest:e,routeModules:n}=zb(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return bx(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Ix({page:r,matches:e,...n}){let s=Es(),{manifest:o,routeModules:u}=zb(),{basename:f}=Ub(),{loaderData:m,matches:p}=xx(),g=U.useMemo(()=>Q_(r,e,p,o,s,"data"),[r,e,p,o,s]),E=U.useMemo(()=>Q_(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let $=new Set,Y=!1;if(e.forEach(W=>{let ie=o.routes[W.route.id];!ie||!ie.hasLoader||(!g.some(re=>re.route.id===W.route.id)&&W.route.id in m&&u[W.route.id]?.shouldRevalidate||ie.hasClientLoader?Y=!0:$.add(W.route.id))}),$.size===0)return[];let F=yx(r,f,"data");return Y&&$.size>0&&F.searchParams.set("_routes",e.filter(W=>$.has(W.route.id)).map(W=>W.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,g,e,r,u]),A=U.useMemo(()=>Ex(E,o),[E,o]),j=Cx(E);return U.createElement(U.Fragment,null,T.map($=>U.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),A.map($=>U.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),j.map(({key:$,link:Y})=>U.createElement("link",{key:$,nonce:n.nonce,...Y})))}function Nx(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Bb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bb&&(window.__reactRouterVersion="7.9.6")}catch{}function Dx({basename:r,children:e,window:n}){let s=U.useRef();s.current==null&&(s.current=_S({window:n,v5Compat:!0}));let o=s.current,[u,f]=U.useState({action:o.action,location:o.location}),m=U.useCallback(p=>{U.startTransition(()=>f(p))},[f]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(ox,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hb=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...A},j){let{basename:$}=U.useContext(mi),Y=typeof g=="string"&&qb.test(g),F,W=!1;if(typeof g=="string"&&Y&&(F=g,Bb))try{let R=new URL(window.location.href),V=g.startsWith("//")?new URL(R.protocol+g):new URL(g),D=pr(V.pathname,$);V.origin===R.origin&&D!=null?g=D+V.search+V.hash:W=!0}catch{Jn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=$S(g,{relative:o}),[re,ge,ke]=Ax(s,A),Ie=kx(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function I(R){e&&e(R),R.defaultPrevented||Ie(R)}let x=U.createElement("a",{...A,...ke,href:F||ie,onClick:W||u?e:I,ref:Nx(j,ge),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return re&&!Y?U.createElement(U.Fragment,null,x,U.createElement(Rx,{page:ie})):x});Hb.displayName="Link";var Ox=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=lu(f,{relative:g.relative}),A=Es(),j=U.useContext(Uh),{navigator:$,basename:Y}=U.useContext(mi),F=j!=null&&zx(T)&&m===!0,W=$.encodeLocation?$.encodeLocation(T).pathname:T.pathname,ie=A.pathname,re=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),re=re?re.toLowerCase():null,W=W.toLowerCase()),re&&Y&&(re=pr(re,Y)||re);const ge=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let ke=ie===W||!o&&ie.startsWith(W)&&ie.charAt(ge)==="/",Ie=re!=null&&(re===W||!o&&re.startsWith(W)&&re.charAt(W.length)==="/"),I={isActive:ke,isPending:Ie,isTransitioning:F},x=ke?e:void 0,R;typeof s=="function"?R=s(I):R=[s,ke?"active":null,Ie?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(I):u;return U.createElement(Hb,{...g,"aria-current":x,className:R,ref:E,style:V,to:f,viewTransition:m},typeof p=="function"?p(I):p)});Ox.displayName="NavLink";var Mx=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=ih,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...A},j)=>{let $=Lx(),Y=Ux(m,{relative:g}),F=f.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&qb.test(m),ie=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let ge=re.nativeEvent.submitter,ke=ge?.getAttribute("formmethod")||f;$(ge||re.currentTarget,{fetcherKey:e,method:ke,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return U.createElement("form",{ref:j,method:F,action:Y,onSubmit:s?p:ie,...A,"data-discover":!W&&r==="render"?"true":void 0})});Mx.displayName="Form";function Vx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fb(r){let e=U.useContext(To);return Et(e,Vx(r)),e}function kx(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=ou(),p=Es(),g=lu(r,{relative:u});return U.useCallback(E=>{if(dx(E,e)){E.preventDefault();let T=n!==void 0?n:Kl(p)===Kl(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var jx=0,Px=()=>`__${String(++jx)}__`;function Lx(){let{router:r}=Fb("useSubmit"),{basename:e}=U.useContext(mi),n=ix();return U.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=gx(s,e);if(o.navigate===!1){let E=o.fetcherKey||Px();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Ux(r,{relative:e}={}){let{basename:n}=U.useContext(mi),s=U.useContext(Gi);Et(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...lu(r||".",{relative:e})},f=Es();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:mr([n,u.pathname])),Kl(u)}function zx(r,{relative:e}={}){let n=U.useContext(Mb);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Fb("useViewTransitionState"),o=lu(r,{relative:e});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return gh(o.pathname,f)!=null||gh(o.pathname,u)!=null}const Bx=()=>{};var K_={};const Gb=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qx=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},$b={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,j=g&63;p||(j=64,f||(A=64)),s.push(n[E],n[T],n[A],n[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Gb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):qx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new Hx;const A=u<<2|m>>4;if(s.push(A),g!==64){const j=m<<4&240|g>>2;if(s.push(j),T!==64){const $=g<<6&192|T;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Hx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fx=function(r){const e=Gb(r);return $b.encodeByteArray(e,!0)},yh=function(r){return Fx(r).replace(/\./g,"")},Qb=function(r){try{return $b.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Gx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $x=()=>Gx().__FIREBASE_DEFAULTS__,Qx=()=>{if(typeof process>"u"||typeof K_>"u")return;const r=K_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Kx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Qb(r[1]);return e&&JSON.parse(e)},Bh=()=>{try{return Bx()||$x()||Qx()||Kx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Kb=r=>Bh()?.emulatorHosts?.[r],Yx=r=>{const e=Kb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Yb=()=>Bh()?.config,Xb=r=>Bh()?.[`_${r}`];class Xx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function So(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jb(r){return(await fetch(r,{credentials:"include"})).ok}function Jx(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[yh(JSON.stringify(n)),yh(JSON.stringify(f)),""].join(".")}const ql={};function Zx(){const r={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?r.emulator.push(e):r.prod.push(e);return r}function Wx(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Y_=!1;function Zb(r,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||ql[r]===e||ql[r]||Y_)return;ql[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=Zx().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,j){A.setAttribute("width","24"),A.setAttribute("id",j),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Y_=!0,f()},A}function E(A,j){A.setAttribute("id",j),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=Wx(s),j=n("text"),$=document.getElementById(j)||document.createElement("span"),Y=n("learnmore"),F=document.getElementById(Y)||document.createElement("a"),W=n("preprendIcon"),ie=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;m(re),E(F,Y);const ge=g();p(ie,W),re.append(ie,$,F,ge),document.body.appendChild(re)}u?($.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function tA(){const r=Bh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sA(){const r=hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function aA(){return!tA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oA(){try{return typeof indexedDB=="object"}catch{return!1}}function lA(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const uA="FirebaseError";class br extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=uA,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?cA(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new br(o,m,s)}}function cA(r,e){return r.replace(hA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hA=/\{\$([^}]+)}/g;function fA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ra(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(X_(u)&&X_(f)){if(!ra(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function X_(r){return r!==null&&typeof r=="object"}function cu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Pl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function dA(r,e){const n=new mA(r,e);return n.subscribe.bind(n)}class mA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=_m),o.error===void 0&&(o.error=_m),o.complete===void 0&&(o.complete=_m);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function _m(){}function Mt(r){return r&&r._delegate?r._delegate:r}class sa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class gA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Xx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_A(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yA(r){return r===ea?void 0:r}function _A(r){return r.instantiationMode==="EAGER"}class vA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ge||(Ge={}));const bA={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},EA=Ge.INFO,TA={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},wA=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=TA[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yp{constructor(e){this.name=e,this._logLevel=EA,this._logHandler=wA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const SA=(r,e)=>e.some(n=>r instanceof n);let J_,Z_;function xA(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AA(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wb=new WeakMap,jm=new WeakMap,eE=new WeakMap,vm=new WeakMap,_p=new WeakMap;function RA(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(us(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Wb.set(n,r)}).catch(()=>{}),_p.set(e,r),e}function CA(r){if(jm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});jm.set(r,e)}let Pm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return jm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||eE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function IA(r){Pm=r(Pm)}function NA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(bm(this),e,...n);return eE.set(s,e.sort?e.sort():[e]),us(s)}:AA().includes(r)?function(...e){return r.apply(bm(this),e),us(Wb.get(this))}:function(...e){return us(r.apply(bm(this),e))}}function DA(r){return typeof r=="function"?NA(r):(r instanceof IDBTransaction&&CA(r),SA(r,xA())?new Proxy(r,Pm):r)}function us(r){if(r instanceof IDBRequest)return RA(r);if(vm.has(r))return vm.get(r);const e=DA(r);return e!==r&&(vm.set(r,e),_p.set(e,r)),e}const bm=r=>_p.get(r);function OA(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=us(f);return s&&f.addEventListener("upgradeneeded",p=>{s(us(f.result),p.oldVersion,p.newVersion,us(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const MA=["get","getKey","getAll","getAllKeys","count"],VA=["put","add","delete","clear"],Em=new Map;function W_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=VA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||MA.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Em.set(e,u),u}IA(r=>({...r,get:(e,n,s)=>W_(e,n)||r.get(e,n,s),has:(e,n)=>!!W_(e,n)||r.has(e,n)}));class kA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function jA(r){return r.getComponent()?.type==="VERSION"}const Lm="@firebase/app",ev="0.14.6";const gr=new yp("@firebase/app"),PA="@firebase/app-compat",LA="@firebase/analytics-compat",UA="@firebase/analytics",zA="@firebase/app-check-compat",BA="@firebase/app-check",qA="@firebase/auth",HA="@firebase/auth-compat",FA="@firebase/database",GA="@firebase/data-connect",$A="@firebase/database-compat",QA="@firebase/functions",KA="@firebase/functions-compat",YA="@firebase/installations",XA="@firebase/installations-compat",JA="@firebase/messaging",ZA="@firebase/messaging-compat",WA="@firebase/performance",e2="@firebase/performance-compat",t2="@firebase/remote-config",n2="@firebase/remote-config-compat",i2="@firebase/storage",r2="@firebase/storage-compat",s2="@firebase/firestore",a2="@firebase/ai",o2="@firebase/firestore-compat",l2="firebase",u2="12.6.0";const Um="[DEFAULT]",c2={[Lm]:"fire-core",[PA]:"fire-core-compat",[UA]:"fire-analytics",[LA]:"fire-analytics-compat",[BA]:"fire-app-check",[zA]:"fire-app-check-compat",[qA]:"fire-auth",[HA]:"fire-auth-compat",[FA]:"fire-rtdb",[GA]:"fire-data-connect",[$A]:"fire-rtdb-compat",[QA]:"fire-fn",[KA]:"fire-fn-compat",[YA]:"fire-iid",[XA]:"fire-iid-compat",[JA]:"fire-fcm",[ZA]:"fire-fcm-compat",[WA]:"fire-perf",[e2]:"fire-perf-compat",[t2]:"fire-rc",[n2]:"fire-rc-compat",[i2]:"fire-gcs",[r2]:"fire-gcs-compat",[s2]:"fire-fst",[o2]:"fire-fst-compat",[a2]:"fire-vertex","fire-js":"fire-js",[l2]:"fire-js-all"};const _h=new Map,h2=new Map,zm=new Map;function tv(r,e){try{r.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ho(r){const e=r.name;if(zm.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,r);for(const n of _h.values())tv(n,r);for(const n of h2.values())tv(n,r);return!0}function vp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ci(r){return r==null?!1:r.settings!==void 0}const f2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new uu("app","Firebase",f2);class d2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}const xo=u2;function tE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Um,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(n||(n=Yb()),!n)throw cs.create("no-options");const u=_h.get(o);if(u){if(ra(n,u.options)&&ra(s,u.config))return u;throw cs.create("duplicate-app",{appName:o})}const f=new vA(o);for(const p of zm.values())f.addComponent(p);const m=new d2(n,s,f);return _h.set(o,m),m}function nE(r=Um){const e=_h.get(r);if(!e&&r===Um&&Yb())return tE();if(!e)throw cs.create("no-app",{appName:r});return e}function hs(r,e,n){let s=c2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(f.join(" "));return}ho(new sa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const m2="firebase-heartbeat-database",p2=1,Yl="firebase-heartbeat-store";let Tm=null;function iE(){return Tm||(Tm=OA(m2,p2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(r=>{throw cs.create("idb-open",{originalErrorMessage:r.message})})),Tm}async function g2(r){try{const n=(await iE()).transaction(Yl),s=await n.objectStore(Yl).get(rE(r));return await n.done,s}catch(e){if(e instanceof br)gr.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e?.message});gr.warn(n.message)}}}async function nv(r,e){try{const s=(await iE()).transaction(Yl,"readwrite");await s.objectStore(Yl).put(e,rE(r)),await s.done}catch(n){if(n instanceof br)gr.warn(n.message);else{const s=cs.create("idb-set",{originalErrorMessage:n?.message});gr.warn(s.message)}}}function rE(r){return`${r.name}!${r.options.appId}`}const y2=1024,_2=30;class v2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>_2){const o=T2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iv(),{heartbeatsToSend:n,unsentEntries:s}=b2(this._heartbeatsCache.heartbeats),o=yh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gr.warn(e),""}}}function iv(){return new Date().toISOString().substring(0,10)}function b2(r,e=y2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),rv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),rv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class E2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oA()?lA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function rv(r){return yh(JSON.stringify({version:2,heartbeats:r})).length}function T2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function w2(r){ho(new sa("platform-logger",e=>new kA(e),"PRIVATE")),ho(new sa("heartbeat",e=>new v2(e),"PRIVATE")),hs(Lm,ev,r),hs(Lm,ev,"esm2020"),hs("fire-js","")}w2("");function sE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S2=sE,aE=new uu("auth","Firebase",sE());const vh=new yp("@firebase/auth");function x2(r,...e){vh.logLevel<=Ge.WARN&&vh.warn(`Auth (${xo}): ${r}`,...e)}function sh(r,...e){vh.logLevel<=Ge.ERROR&&vh.error(`Auth (${xo}): ${r}`,...e)}function fi(r,...e){throw bp(r,...e)}function Pi(r,...e){return bp(r,...e)}function oE(r,e,n){const s={...S2(),[e]:n};return new uu("auth","Firebase",s).create(e,{appName:r.name})}function fs(r){return oE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return aE.create(r,...e)}function Te(r,e,...n){if(!r)throw bp(e,...n)}function fr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw sh(e),new Error(e)}function yr(r,e){r||fr(e)}function Bm(){return typeof self<"u"&&self.location?.href||""}function A2(){return sv()==="http:"||sv()==="https:"}function sv(){return typeof self<"u"&&self.location?.protocol||null}function R2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A2()||iA()||"connection"in navigator)?navigator.onLine:!0}function C2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=eA()||rA()}get(){return R2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ep(r,e){yr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class lE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const I2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const N2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D2=new hu(3e4,6e4);function ca(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ts(r,e,n,s,o={}){return uE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=cu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return nA()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&So(r.emulatorConfig.host)&&(g.credentials="include"),lE.fetch()(await cE(r,r.config.apiHost,n,m),g)})}async function uE(r,e,n){r._canInitEmulator=!1;const s={...I2,...e};try{const o=new M2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Jc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Jc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Jc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw oE(r,E,g);fi(r,E)}}catch(o){if(o instanceof br)throw o;fi(r,"network-request-failed",{message:String(o)})}}async function qh(r,e,n,s,o={}){const u=await Ts(r,e,n,s,o);return"mfaPendingCredential"in u&&fi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function cE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Ep(r.config,o):`${r.config.apiScheme}://${o}`;return N2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function O2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pi(this.auth,"network-request-failed")),D2.get())})}}function Jc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Pi(r,e,s);return o.customData._tokenResponse=n,o}function av(r){return r!==void 0&&r.enterprise!==void 0}class V2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return O2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function k2(r,e){return Ts(r,"GET","/v2/recaptchaConfig",ca(r,e))}async function j2(r,e){return Ts(r,"POST","/v1/accounts:delete",e)}async function bh(r,e){return Ts(r,"POST","/v1/accounts:lookup",e)}function Hl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P2(r,e=!1){const n=Mt(r),s=await n.getIdToken(e),o=Tp(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Hl(wm(o.auth_time)),issuedAtTime:Hl(wm(o.iat)),expirationTime:Hl(wm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function wm(r){return Number(r)*1e3}function Tp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Qb(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ov(r){const e=Tp(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Xl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof br&&L2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function L2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class U2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Eh(r){const e=r.auth,n=await r.getIdToken(),s=await Xl(r,bh(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?hE(o.providerUserInfo):[],f=B2(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function z2(r){const e=Mt(r);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function hE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function q2(r,e){const n=await uE(r,{},async()=>{const s=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await cE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&So(r.emulatorConfig.host)&&(p.credentials="include"),lE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H2(r,e){return Ts(r,"POST","/v2/accounts:revokeToken",ca(r,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ov(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=ov(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await q2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ao;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return fr("not implemented")}}function ts(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new U2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return P2(this,e)}reload(){return z2(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(fs(this.auth));const e=await this.getIdToken();return await Xl(this,j2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:j,providerData:$,stsTokenManager:Y}=n;Te(T&&Y,e,"internal-error");const F=ao.fromJSON(this.name,Y);Te(typeof T=="string",e,"internal-error"),ts(s,e.name),ts(o,e.name),Te(typeof A=="boolean",e,"internal-error"),Te(typeof j=="boolean",e,"internal-error"),ts(u,e.name),ts(f,e.name),ts(m,e.name),ts(p,e.name),ts(g,e.name),ts(E,e.name);const W=new hi({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:j,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:g,lastLoginAt:E});return $&&Array.isArray($)&&(W.providerData=$.map(ie=>({...ie}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,n,s=!1){const o=new ao;o.updateFromServerResponse(n);const u=new hi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Eh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?hE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ao;m.updateFromIdToken(s);const p=new hi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const lv=new Map;function dr(r){yr(r instanceof Function,"Expected a class definition");let e=lv.get(r);return e?(yr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,lv.set(r,e),e)}class fE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fE.type="NONE";const uv=fE;function ah(r,e,n){return`firebase:${r}:${e}:${n}`}class oo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bh(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new oo(dr(uv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||dr(uv);const f=ah(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const A=await bh(e,{idToken:E}).catch(()=>{});if(!A)break;T=await hi._fromGetAccountInfoResponse(e,A,E)}else T=hi._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new oo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new oo(u,e,s))}}function cv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_E(e))return"Blackberry";if(vE(e))return"Webos";if(mE(e))return"Safari";if((e.includes("chrome/")||pE(e))&&!e.includes("edge/"))return"Chrome";if(yE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function dE(r=hn()){return/firefox\//i.test(r)}function mE(r=hn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pE(r=hn()){return/crios\//i.test(r)}function gE(r=hn()){return/iemobile/i.test(r)}function yE(r=hn()){return/android/i.test(r)}function _E(r=hn()){return/blackberry/i.test(r)}function vE(r=hn()){return/webos/i.test(r)}function wp(r=hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function F2(r=hn()){return wp(r)&&!!window.navigator?.standalone}function G2(){return sA()&&document.documentMode===10}function bE(r=hn()){return wp(r)||yE(r)||vE(r)||_E(r)||/windows phone/i.test(r)||gE(r)}function EE(r,e=[]){let n;switch(r){case"Browser":n=cv(hn());break;case"Worker":n=`${cv(hn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${s}`}class $2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Q2(r,e={}){return Ts(r,"GET","/v2/passwordPolicy",ca(r,e))}const K2=6;class Y2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??K2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class X2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hv(this),this.idTokenSubscription=new hv(this),this.beforeStateQueue=new $2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bh(this,{idToken:e}),s=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ci(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject(fs(this));const n=e?Mt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Q2(this),n=new Y2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await H2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&x2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ao(r){return Mt(r)}class hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=dA(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J2(r){Hh=r}function TE(r){return Hh.loadJS(r)}function Z2(){return Hh.recaptchaEnterpriseScript}function W2(){return Hh.gapiScript}function eR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class tR{constructor(){this.enterprise=new nR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iR="recaptcha-enterprise",wE="NO_RECAPTCHA";class rR{constructor(e){this.type=iR,this.auth=Ao(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{k2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new V2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;av(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(wE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&av(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Z2();p.length!==0&&(p+=m),TE(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function fv(r,e,n,s=!1,o=!1){const u=new rR(r);let f;if(o)f=wE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function dv(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await fv(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await fv(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function sR(r,e){const n=vp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ra(u,e??{}))return o;fi(o,"already-initialized")}return n.initialize({options:e})}function aR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(dr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function oR(r,e,n){const s=Ao(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=SE(e),{host:f,port:m}=lR(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(ra(g,s.config.emulator)&&ra(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,So(f)?(Jb(`${u}//${f}${p}`),Zb("Auth",!0)):uR()}function SE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function lR(r){const e=SE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:mv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:mv(f)}}}function mv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function uR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Sp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function cR(r,e){return Ts(r,"POST","/v1/accounts:signUp",e)}async function hR(r,e){return qh(r,"POST","/v1/accounts:signInWithPassword",ca(r,e))}async function fR(r,e){return qh(r,"POST","/v1/accounts:signInWithEmailLink",ca(r,e))}async function dR(r,e){return qh(r,"POST","/v1/accounts:signInWithEmailLink",ca(r,e))}class Jl extends Sp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Jl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Jl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dv(e,n,"signInWithPassword",hR);case"emailLink":return fR(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dv(e,s,"signUpPassword",cR);case"emailLink":return dR(e,{idToken:n,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function lo(r,e){return qh(r,"POST","/v1/accounts:signInWithIdp",ca(r,e))}const mR="http://localhost";class aa extends Sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new aa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:mR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}function pR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gR(r){const e=jl(Pl(r)).link,n=e?jl(Pl(e)).deep_link_id:null,s=jl(Pl(r)).deep_link_id;return(s?jl(Pl(s)).link:null)||s||n||e||r}class xp{constructor(e){const n=jl(Pl(e)),s=n.apiKey??null,o=n.oobCode??null,u=pR(n.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gR(e);try{return new xp(n)}catch{return null}}}class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return Jl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=xp.parseLink(n);return Te(s,"argument-error"),Jl._fromEmailAndCode(e,s.code,s.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class xE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fu extends xE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class is extends fu{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";class rs extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";class ss extends fu{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";class as extends fu{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return as.credential(n,s)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await hi._fromIdTokenResponse(e,s,o),f=pv(s);return new fo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=pv(s);return new fo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function pv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Th extends br{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Th(e,n,s,o)}}function AE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(r,u,e,s):u})}async function yR(r,e,n=!1){const s=await Xl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return fo._forOperation(r,"link",s)}async function _R(r,e,n=!1){const{auth:s}=r;if(ci(s.app))return Promise.reject(fs(s));const o="reauthenticate";try{const u=await Xl(r,AE(s,o,e,r),n);Te(u.idToken,s,"internal-error");const f=Tp(u.idToken);Te(f,s,"internal-error");const{sub:m}=f;return Te(r.uid===m,s,"user-mismatch"),fo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&fi(s,"user-mismatch"),u}}async function RE(r,e,n=!1){if(ci(r.app))return Promise.reject(fs(r));const s="signIn",o=await AE(r,s,e),u=await fo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function vR(r,e){return RE(Ao(r),e)}async function bR(r){const e=Ao(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ER(r,e,n){return ci(r.app)?Promise.reject(fs(r)):vR(Mt(r),Ro.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bR(r),s})}function TR(r,e,n,s){return Mt(r).onIdTokenChanged(e,n,s)}function wR(r,e,n){return Mt(r).beforeAuthStateChanged(e,n)}function Ap(r,e,n,s){return Mt(r).onAuthStateChanged(e,n,s)}function SR(r){return Mt(r).signOut()}const wh="__sak";class CE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xR=1e3,AR=10;class IE extends CE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);G2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,AR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},xR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IE.type="LOCAL";const RR=IE;class NE extends CE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NE.type="SESSION";const DE=NE;function CR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Fh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await CR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];function Rp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class IR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Rp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Li(){return window}function NR(r){Li().location.href=r}function OE(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function DR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OR(){return navigator?.serviceWorker?.controller||null}function MR(){return OE()?self:null}const ME="firebaseLocalStorageDb",VR=1,Sh="firebaseLocalStorage",VE="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gh(r,e){return r.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function kR(){const r=indexedDB.deleteDatabase(ME);return new du(r).toPromise()}function Hm(){const r=indexedDB.open(ME,VR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Sh,{keyPath:VE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Sh)?e(s):(s.close(),await kR(),e(await Hm()))})})}async function gv(r,e,n){const s=Gh(r,!0).put({[VE]:e,value:n});return new du(s).toPromise()}async function jR(r,e){const n=Gh(r,!1).get(e),s=await new du(n).toPromise();return s===void 0?null:s.value}function yv(r,e){const n=Gh(r,!0).delete(e);return new du(n).toPromise()}const PR=800,LR=3;class kE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>LR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(MR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DR(),!this.activeServiceWorker)return;this.sender=new IR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await gv(e,wh,"1"),await yv(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>gv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>jR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Gh(o,!1).getAll();return new du(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kE.type="LOCAL";const UR=kE;new hu(3e4,6e4);function zR(r,e){return e?dr(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Cp extends Sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BR(r){return RE(r.auth,new Cp(r),r.bypassAuthState)}function qR(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),_R(n,new Cp(r),r.bypassAuthState)}async function HR(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),yR(n,new Cp(r),r.bypassAuthState)}class jE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BR;case"linkViaPopup":case"linkViaRedirect":return HR;case"reauthViaPopup":case"reauthViaRedirect":return qR;default:fi(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const FR=new hu(2e3,1e4);class ro extends jE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FR.get())};e()}}ro.currentPopupAction=null;const GR="pendingRedirect",oh=new Map;class $R extends jE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const s=await QR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QR(r,e){const n=XR(e),s=YR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function KR(r,e){oh.set(r._key(),e)}function YR(r){return dr(r._redirectPersistence)}function XR(r){return ah(GR,r.config.apiKey,r.name)}async function JR(r,e,n=!1){if(ci(r.app))return Promise.reject(fs(r));const s=Ao(r),o=zR(s,e),f=await new $R(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const ZR=600*1e3;class WR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!PE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZR&&this.cachedEventUids.clear(),this.cachedEventUids.has(_v(e))}saveEventToCache(e){this.cachedEventUids.add(_v(e)),this.lastProcessedEventTime=Date.now()}}function _v(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function PE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function eC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PE(r);default:return!1}}async function tC(r,e={}){return Ts(r,"GET","/v1/projects",e)}const nC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iC=/^https?/;async function rC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await tC(r);for(const n of e)try{if(sC(n))return}catch{}fi(r,"unauthorized-domain")}function sC(r){const e=Bm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!iC.test(n))return!1;if(nC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const aC=new hu(3e4,6e4);function vv(){const r=Li().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function oC(r){return new Promise((e,n)=>{function s(){vv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vv(),n(Pi(r,"network-request-failed"))},timeout:aC.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)s();else{const o=eR("iframefcb");return Li()[o]=()=>{gapi.load?s():n(Pi(r,"network-request-failed"))},TE(`${W2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw lh=null,e})}let lh=null;function lC(r){return lh=lh||oC(r),lh}const uC=new hu(5e3,15e3),cC="__/auth/iframe",hC="emulator/auth/iframe",fC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mC(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Ep(e,hC):`https://${r.config.authDomain}/${cC}`,s={apiKey:e.apiKey,appName:r.name,v:xo},o=dC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${cu(s).slice(1)}`}async function pC(r){const e=await lC(r),n=Li().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:mC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Pi(r,"network-request-failed"),m=Li().setTimeout(()=>{u(f)},uC.get());function p(){Li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const gC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yC=500,_C=600,vC="_blank",bC="http://localhost";class bv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EC(r,e,n,s=yC,o=_C){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...gC,width:s.toString(),height:o.toString(),top:u,left:f},g=hn().toLowerCase();n&&(m=pE(g)?vC:n),dE(g)&&(e=e||bC,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[j,$])=>`${A}${j}=${$},`,"");if(F2(g)&&m!=="_self")return TC(e||"",m),new bv(null);const T=window.open(e||"",m,E);Te(T,r,"popup-blocked");try{T.focus()}catch{}return new bv(T)}function TC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const wC="__/auth/handler",SC="emulator/auth/handler",xC=encodeURIComponent("fac");async function Ev(r,e,n,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:xo,eventId:o};if(e instanceof xE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",fA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof fu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${xC}=${encodeURIComponent(p)}`:"";return`${AC(r)}?${cu(m).slice(1)}${g}`}function AC({config:r}){return r.emulator?Ep(r,SC):`https://${r.authDomain}/${wC}`}const Sm="webStorageSupport";class RC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DE,this._completeRedirectFn=JR,this._overrideRedirectResult=KR}async _openPopup(e,n,s,o){yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Ev(e,n,s,Bm(),o);return EC(e,u,Rp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Ev(e,n,s,Bm(),o);return NR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await pC(e),s=new WR(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sm,{type:Sm},o=>{const u=o?.[0]?.[Sm];u!==void 0&&n(!!u),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bE()||mE()||wp()}}const CC=RC;var Tv="@firebase/auth",wv="1.11.1";class IC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function NC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DC(r){ho(new sa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EE(r)},g=new X2(s,o,u,p);return aR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ho(new sa("auth-internal",e=>{const n=Ao(e.getProvider("auth").getImmediate());return(s=>new IC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hs(Tv,wv,NC(r)),hs(Tv,wv,"esm2020")}const OC=300,MC=Xb("authIdTokenMaxAge")||OC;let Sv=null;const VC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>MC)return;const o=n?.token;Sv!==o&&(Sv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kC(r=nE()){const e=vp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=sR(r,{popupRedirectResolver:CC,persistence:[UR,RR,DE]}),s=Xb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=VC(u.toString());wR(n,f,()=>f(n.currentUser)),TR(n,m=>f(m))}}const o=Kb("auth");return o&&oR(n,`http://${o}`),n}function jC(){return document.getElementsByTagName("head")?.[0]??document}J2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",jC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DC("Browser");var PC="firebase",LC="12.6.0";hs(PC,LC,"app");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ds,LE;(function(){var r;function e(I,x){function R(){}R.prototype=x.prototype,I.F=x.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(V,D,k){for(var C=Array(arguments.length-2),at=2;at<arguments.length;at++)C[at-2]=arguments[at];return x.prototype[D].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,R){R||(R=0);const V=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)V[D]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(D=0;D<16;++D)V[D]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=I.g[0],R=I.g[1],D=I.g[2];let k=I.g[3],C;C=x+(k^R&(D^k))+V[0]+3614090360&4294967295,x=R+(C<<7&4294967295|C>>>25),C=k+(D^x&(R^D))+V[1]+3905402710&4294967295,k=x+(C<<12&4294967295|C>>>20),C=D+(R^k&(x^R))+V[2]+606105819&4294967295,D=k+(C<<17&4294967295|C>>>15),C=R+(x^D&(k^x))+V[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=x+(k^R&(D^k))+V[4]+4118548399&4294967295,x=R+(C<<7&4294967295|C>>>25),C=k+(D^x&(R^D))+V[5]+1200080426&4294967295,k=x+(C<<12&4294967295|C>>>20),C=D+(R^k&(x^R))+V[6]+2821735955&4294967295,D=k+(C<<17&4294967295|C>>>15),C=R+(x^D&(k^x))+V[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=x+(k^R&(D^k))+V[8]+1770035416&4294967295,x=R+(C<<7&4294967295|C>>>25),C=k+(D^x&(R^D))+V[9]+2336552879&4294967295,k=x+(C<<12&4294967295|C>>>20),C=D+(R^k&(x^R))+V[10]+4294925233&4294967295,D=k+(C<<17&4294967295|C>>>15),C=R+(x^D&(k^x))+V[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=x+(k^R&(D^k))+V[12]+1804603682&4294967295,x=R+(C<<7&4294967295|C>>>25),C=k+(D^x&(R^D))+V[13]+4254626195&4294967295,k=x+(C<<12&4294967295|C>>>20),C=D+(R^k&(x^R))+V[14]+2792965006&4294967295,D=k+(C<<17&4294967295|C>>>15),C=R+(x^D&(k^x))+V[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=x+(D^k&(R^D))+V[1]+4129170786&4294967295,x=R+(C<<5&4294967295|C>>>27),C=k+(R^D&(x^R))+V[6]+3225465664&4294967295,k=x+(C<<9&4294967295|C>>>23),C=D+(x^R&(k^x))+V[11]+643717713&4294967295,D=k+(C<<14&4294967295|C>>>18),C=R+(k^x&(D^k))+V[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=x+(D^k&(R^D))+V[5]+3593408605&4294967295,x=R+(C<<5&4294967295|C>>>27),C=k+(R^D&(x^R))+V[10]+38016083&4294967295,k=x+(C<<9&4294967295|C>>>23),C=D+(x^R&(k^x))+V[15]+3634488961&4294967295,D=k+(C<<14&4294967295|C>>>18),C=R+(k^x&(D^k))+V[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=x+(D^k&(R^D))+V[9]+568446438&4294967295,x=R+(C<<5&4294967295|C>>>27),C=k+(R^D&(x^R))+V[14]+3275163606&4294967295,k=x+(C<<9&4294967295|C>>>23),C=D+(x^R&(k^x))+V[3]+4107603335&4294967295,D=k+(C<<14&4294967295|C>>>18),C=R+(k^x&(D^k))+V[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=x+(D^k&(R^D))+V[13]+2850285829&4294967295,x=R+(C<<5&4294967295|C>>>27),C=k+(R^D&(x^R))+V[2]+4243563512&4294967295,k=x+(C<<9&4294967295|C>>>23),C=D+(x^R&(k^x))+V[7]+1735328473&4294967295,D=k+(C<<14&4294967295|C>>>18),C=R+(k^x&(D^k))+V[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=x+(R^D^k)+V[5]+4294588738&4294967295,x=R+(C<<4&4294967295|C>>>28),C=k+(x^R^D)+V[8]+2272392833&4294967295,k=x+(C<<11&4294967295|C>>>21),C=D+(k^x^R)+V[11]+1839030562&4294967295,D=k+(C<<16&4294967295|C>>>16),C=R+(D^k^x)+V[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=x+(R^D^k)+V[1]+2763975236&4294967295,x=R+(C<<4&4294967295|C>>>28),C=k+(x^R^D)+V[4]+1272893353&4294967295,k=x+(C<<11&4294967295|C>>>21),C=D+(k^x^R)+V[7]+4139469664&4294967295,D=k+(C<<16&4294967295|C>>>16),C=R+(D^k^x)+V[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=x+(R^D^k)+V[13]+681279174&4294967295,x=R+(C<<4&4294967295|C>>>28),C=k+(x^R^D)+V[0]+3936430074&4294967295,k=x+(C<<11&4294967295|C>>>21),C=D+(k^x^R)+V[3]+3572445317&4294967295,D=k+(C<<16&4294967295|C>>>16),C=R+(D^k^x)+V[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=x+(R^D^k)+V[9]+3654602809&4294967295,x=R+(C<<4&4294967295|C>>>28),C=k+(x^R^D)+V[12]+3873151461&4294967295,k=x+(C<<11&4294967295|C>>>21),C=D+(k^x^R)+V[15]+530742520&4294967295,D=k+(C<<16&4294967295|C>>>16),C=R+(D^k^x)+V[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=x+(D^(R|~k))+V[0]+4096336452&4294967295,x=R+(C<<6&4294967295|C>>>26),C=k+(R^(x|~D))+V[7]+1126891415&4294967295,k=x+(C<<10&4294967295|C>>>22),C=D+(x^(k|~R))+V[14]+2878612391&4294967295,D=k+(C<<15&4294967295|C>>>17),C=R+(k^(D|~x))+V[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=x+(D^(R|~k))+V[12]+1700485571&4294967295,x=R+(C<<6&4294967295|C>>>26),C=k+(R^(x|~D))+V[3]+2399980690&4294967295,k=x+(C<<10&4294967295|C>>>22),C=D+(x^(k|~R))+V[10]+4293915773&4294967295,D=k+(C<<15&4294967295|C>>>17),C=R+(k^(D|~x))+V[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=x+(D^(R|~k))+V[8]+1873313359&4294967295,x=R+(C<<6&4294967295|C>>>26),C=k+(R^(x|~D))+V[15]+4264355552&4294967295,k=x+(C<<10&4294967295|C>>>22),C=D+(x^(k|~R))+V[6]+2734768916&4294967295,D=k+(C<<15&4294967295|C>>>17),C=R+(k^(D|~x))+V[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=x+(D^(R|~k))+V[4]+4149444226&4294967295,x=R+(C<<6&4294967295|C>>>26),C=k+(R^(x|~D))+V[11]+3174756917&4294967295,k=x+(C<<10&4294967295|C>>>22),C=D+(x^(k|~R))+V[2]+718787259&4294967295,D=k+(C<<15&4294967295|C>>>17),C=R+(k^(D|~x))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}s.prototype.v=function(I,x){x===void 0&&(x=I.length);const R=x-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<x;){if(D==0)for(;k<=R;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<x;)if(V[D++]=I.charCodeAt(k++),D==this.blockSize){o(this,V),D=0;break}}else for(;k<x;)if(V[D++]=I[k++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=x},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)I[x++]=this.g[R]>>>V&255;return I};function u(I,x){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=x(I)}function f(I,x){this.h=x;const R=[];let V=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;V&&k==x||(R[D]=k,V=!1)}this.g=R}var m={};function p(I){return-128<=I&&I<128?u(I,function(x){return new f([x|0],x<0?-1:0)}):new f([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return F(g(-I));const x=[];let R=1;for(let V=0;I>=R;V++)x[V]=I/R|0,R*=4294967296;return new f(x,0)}function E(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return F(E(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(x,8));let V=T;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const C=parseInt(I.substring(k,k+D),x);D<8?(D=g(Math.pow(x,D)),V=V.j(D).add(g(C))):(V=V.j(R),V=V.add(g(C)))}return V}var T=p(0),A=p(1),j=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-F(this).m();let I=0,x=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);I+=(V>=0?V:4294967296+V)*x,x*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if($(this))return"0";if(Y(this))return"-"+F(this).toString(I);const x=g(Math.pow(I,6));var R=this;let V="";for(;;){const D=ge(R,x).g;R=W(R,D.j(x));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=D,$(R))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function $(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function Y(I){return I.h==-1}r.l=function(I){return I=W(this,I),Y(I)?-1:$(I)?0:1};function F(I){const x=I.g.length,R=[];for(let V=0;V<x;V++)R[V]=~I.g[V];return new f(R,~I.h).add(A)}r.abs=function(){return Y(this)?F(this):this},r.add=function(I){const x=Math.max(this.g.length,I.g.length),R=[];let V=0;for(let D=0;D<=x;D++){let k=V+(this.i(D)&65535)+(I.i(D)&65535),C=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=C>>>16,k&=65535,C&=65535,R[D]=C<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function W(I,x){return I.add(F(x))}r.j=function(I){if($(this)||$(I))return T;if(Y(this))return Y(I)?F(this).j(F(I)):F(F(this).j(I));if(Y(I))return F(this.j(F(I)));if(this.l(j)<0&&I.l(j)<0)return g(this.m()*I.m());const x=this.g.length+I.g.length,R=[];for(var V=0;V<2*x;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const k=this.i(V)>>>16,C=this.i(V)&65535,at=I.i(D)>>>16,mt=I.i(D)&65535;R[2*V+2*D]+=C*mt,ie(R,2*V+2*D),R[2*V+2*D+1]+=k*mt,ie(R,2*V+2*D+1),R[2*V+2*D+1]+=C*at,ie(R,2*V+2*D+1),R[2*V+2*D+2]+=k*at,ie(R,2*V+2*D+2)}for(I=0;I<x;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=x;I<2*x;I++)R[I]=0;return new f(R,0)};function ie(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function re(I,x){this.g=I,this.h=x}function ge(I,x){if($(x))throw Error("division by zero");if($(I))return new re(T,T);if(Y(I))return x=ge(F(I),x),new re(F(x.g),F(x.h));if(Y(x))return x=ge(I,F(x)),new re(F(x.g),x.h);if(I.g.length>30){if(Y(I)||Y(x))throw Error("slowDivide_ only works with positive integers.");for(var R=A,V=x;V.l(I)<=0;)R=ke(R),V=ke(V);var D=Ie(R,1),k=Ie(V,1);for(V=Ie(V,2),R=Ie(R,2);!$(V);){var C=k.add(V);C.l(I)<=0&&(D=D.add(R),k=C),V=Ie(V,1),R=Ie(R,1)}return x=W(I,D.j(x)),new re(D,x)}for(D=T;I.l(x)>=0;){for(R=Math.max(1,Math.floor(I.m()/x.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=g(R),C=k.j(x);Y(C)||C.l(I)>0;)R-=V,k=g(R),C=k.j(x);$(k)&&(k=A),D=D.add(k),I=W(I,C)}return new re(D,I)}r.B=function(I){return ge(this,I).h},r.and=function(I){const x=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)&I.i(V);return new f(R,this.h&I.h)},r.or=function(I){const x=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)|I.i(V);return new f(R,this.h|I.h)},r.xor=function(I){const x=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)^I.i(V);return new f(R,this.h^I.h)};function ke(I){const x=I.g.length+1,R=[];for(let V=0;V<x;V++)R[V]=I.i(V)<<1|I.i(V-1)>>>31;return new f(R,I.h)}function Ie(I,x){const R=x>>5;x%=32;const V=I.g.length-R,D=[];for(let k=0;k<V;k++)D[k]=x>0?I.i(k+R)>>>x|I.i(k+R+1)<<32-x:I.i(k+R);return new f(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,LE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ds=f}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var UE,Ll,zE,uh,Fm,BE,qE,HE;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var b=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in b))break e;b=b[z]}c=c[c.length-1],S=b[c],y=y(S),y!=S&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var b=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&b.push([S,y[S]]);return b}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,b){return c.call.apply(c.bind,arguments)}function g(c,y,b){return g=p,g.apply(null,arguments)}function E(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function b(){}b.prototype=y.prototype,c.Z=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(S,z,G){for(var se=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)se[Me-2]=arguments[Me];return y.prototype[z].apply(S,se)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const y=c.length;if(y>0){const b=Array(y);for(let S=0;S<y;S++)b[S]=c[S];return b}return[]}function $(c,y){for(let S=1;S<arguments.length;S++){const z=arguments[S];var b=typeof z;if(b=b!="object"?b:z?Array.isArray(z)?"array":b:"null",b=="array"||b=="object"&&typeof z.length=="number"){b=c.length||0;const G=z.length||0;c.length=b+G;for(let se=0;se<G;se++)c[b+se]=z[se]}else c.push(z)}}class Y{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){f.setTimeout(()=>{throw c},0)}function W(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,b){const S=re.get();S.set(y,b),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new Y(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,Ie=!1,I=new ie,x=()=>{const c=Promise.resolve(void 0);ke=()=>{c.then(R)}};function R(){for(var c;c=W();){try{c.h.call(c.g)}catch(b){F(b)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Ie=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,y),f.removeEventListener("test",b,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function at(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(at,D),at.prototype.init=function(c,y){const b=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),P=0;function ne(c,y,b,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!S,this.ha=z,this.key=++P,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function de(c,y,b){for(const S in c)y.call(b,c[S],S,c)}function xe(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function O(c){const y={};for(const b in c)y[b]=c[b];return y}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let b,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(b in S)c[b]=S[b];for(let G=0;G<X.length;G++)b=X[G],Object.prototype.hasOwnProperty.call(S,b)&&(c[b]=S[b])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,y,b,S,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const se=Re(c,y,S,z);return se>-1?(y=c[se],b||(y.fa=!1)):(y=new ne(y,this.src,G,!!S,z),y.fa=b,c.push(y)),y};function Se(c,y){const b=y.type;if(b in c.g){var S=c.g[b],z=Array.prototype.indexOf.call(S,y,void 0),G;(G=z>=0)&&Array.prototype.splice.call(S,z,1),G&&(he(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Re(c,y,b,S){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==y&&G.capture==!!b&&G.ha==S)return z}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),At={};function ht(c,y,b,S,z){if(Array.isArray(y)){for(let G=0;G<y.length;G++)ht(c,y[G],b,S,z);return null}return b=Xe(b),c&&c[mt]?c.J(y,b,m(S)?!!S.capture:!1,z):$i(c,y,b,!1,S,z)}function $i(c,y,b,S,z,G){if(!y)throw Error("Invalid event type");const se=m(z)?!!z.capture:!!z;let Me=Be(c);if(Me||(c[Le]=Me=new le(c)),b=Me.add(y,b,S,se,G),b.proxy)return b;if(S=Er(),b.proxy=S,S.src=c,S.listener=b,c.addEventListener)k||(z=se),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(ye(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Er(){function c(b){return y.call(c.src,c.listener,b)}const y=Pe;return c}function Tr(c,y,b,S,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)Tr(c,y[G],b,S,z);else S=m(S)?!!S.capture:!!S,b=Xe(b),c&&c[mt]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],b=Re(y,b,S,z),b>-1&&(he(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=Be(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Re(y,b,S,z)),(b=c>-1?y[c]:null)&&ue(b))}function ue(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[mt])Se(y.i,c);else{var b=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(b,S,c.capture):y.detachEvent?y.detachEvent(ye(b),S):y.addListener&&y.removeListener&&y.removeListener(S),(b=Be(y))?(Se(b,c),b.h==0&&(b.src=null,y[Le]=null)):he(c)}}}function ye(c){return c in At?At[c]:At[c]="on"+c}function Pe(c,y){if(c.da)c=!0;else{y=new at(y,this);const b=c.listener,S=c.ha||c.src;c.fa&&ue(c),c=b.call(S,y)}return c}function Be(c){return c=c[Le],c instanceof le?c:null}var be="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xe(c){return typeof c=="function"?c:(c[be]||(c[be]=function(y){return c.handleEvent(y)}),c[be])}function pe(){V.call(this),this.i=new le(this),this.M=this,this.G=null}T(pe,V),pe.prototype[mt]=!0,pe.prototype.removeEventListener=function(c,y,b,S){Tr(this,c,y,b,S)};function Oe(c,y){var b,S=c.G;if(S)for(b=[];S;S=S.G)b.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var z=y;y=new D(S,c),ae(y,z)}z=!0;let G,se;if(b)for(se=b.length-1;se>=0;se--)G=y.g=b[se],z=Ae(G,S,!0,y)&&z;if(G=y.g=c,z=Ae(G,S,!0,y)&&z,z=Ae(G,S,!1,y)&&z,b)for(se=0;se<b.length;se++)G=y.g=b[se],z=Ae(G,S,!1,y)&&z}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const b=c.g[y];for(let S=0;S<b.length;S++)he(b[S]);delete c.g[y],c.h--}}this.G=null},pe.prototype.J=function(c,y,b,S){return this.i.add(String(c),y,!1,b,S)},pe.prototype.K=function(c,y,b,S){return this.i.add(String(c),y,!0,b,S)};function Ae(c,y,b,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let G=0;G<y.length;++G){const se=y[G];if(se&&!se.da&&se.capture==b){const Me=se.listener,Ct=se.ha||se.src;se.fa&&Se(c.i,se),z=Me.call(Ct,S)!==!1&&z}}return z&&!S.defaultPrevented}function _t(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Tt(c){c.g=_t(()=>{c.g=null,c.i&&(c.i=!1,Tt(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class qe extends V{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(c){V.call(this),this.h=c,this.g={}}T(mn,V);var jn=[];function xs(c){de(c.g,function(y,b){this.g.hasOwnProperty(b)&&ue(y)},c),c.g={}}mn.prototype.N=function(){mn.Z.N.call(this),xs(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=f.JSON.stringify,df=f.JSON.parse,Tu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function wu(){}function Su(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){D.call(this,"d")}T(Jt,D);function Pn(){D.call(this,"c")}T(Pn,D);var Rt={},xu=null;function da(){return xu=xu||new pe}Rt.Ia="serverreachability";function Au(c){D.call(this,Rt.Ia,c)}T(Au,D);function pi(c){const y=da();Oe(y,new Au(y))}Rt.STAT_EVENT="statevent";function As(c,y){D.call(this,Rt.STAT_EVENT,c),this.stat=y}T(As,D);function Vt(c){const y=da();Oe(y,new As(y,c))}Rt.Ja="timingevent";function gi(c,y){D.call(this,Rt.Ja,c),this.size=y}T(gi,D);function yi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function mf(c,y,b,S,z,G){c.info(function(){if(c.g)if(G){var se="",Me=G.split("&");for(let We=0;We<Me.length;We++){var Ct=Me[We].split("=");if(Ct.length>1){const vt=Ct[0];Ct=Ct[1];const Bn=vt.split("_");se=Bn.length>=2&&Bn[1]=="type"?se+(vt+"="+Ct+"&"):se+(vt+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+b+`
`+se})}function Ru(c,y,b,S,z,G,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+b+`
`+G+" "+se})}function _i(c,y,b,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+pf(c,b)+(S?" "+S:"")})}function Rs(c,y){c.info(function(){return"TIMEOUT: "+y})}Wn.prototype.info=function(){};function pf(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var b=G[c];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return wr(G)}catch{return y}}var Cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function Is(){}T(Is,wu),Is.prototype.g=function(){return new XMLHttpRequest},Vo=new Is;function Qi(c){return encodeURIComponent(String(c))}function Cu(c){var y=1;c=c.split(":");const b=[];for(;y>0&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function ei(c,y,b,S){this.j=c,this.i=y,this.l=b,this.S=S||1,this.V=new mn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var kt={},Qt={};function vi(c,y,b){c.M=1,c.A=Ns(Pt(y)),c.u=b,c.R=!0,ma(c,null)}function ma(c,y){c.F=Date.now(),bi(c),c.B=Pt(c.A);var b=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),_a(b.i,"t",S),c.C=0,b=c.j.L,c.h=new ti,c.g=Hu(c.j,b?y:null,!c.u),c.P>0&&(c.O=new qe(g(c.Y,c,c.g),c.P)),y=c.V,b=c.g,S=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(jn[0]=z.toString()),z=jn);for(let G=0;G<z.length;G++){const se=ht(b,z[G],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),pi(),mf(c.i,c.v,c.B,c.l,c.S,c.u)}ei.prototype.ba=function(c){c=c.target;const y=this.O;y&&ri(c)==3?y.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)e:{const Me=ri(this.g),Ct=this.g.ya(),We=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||Me!=4||Ct==7||(Ct==8||We<=0?pi(3):pi(2)),Ei(this);var y=this.g.ca();this.X=y;var b=gf(this);if(this.o=y==200,Ru(this.i,this.v,this.B,this.l,this.S,Me,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var G=S;break t}}G=null}if(c=G)_i(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,c);else{this.o=!1,this.m=3,Vt(12),An(this),Ln(this);break e}}if(this.R){c=!0;let vt;for(;!this.K&&this.C<b.length;)if(vt=Nu(this,b),vt==Qt){Me==4&&(this.m=4,Vt(14),c=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==kt){this.m=4,Vt(15),_i(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else _i(this.i,this.l,vt,null),Ti(this,vt);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||b.length!=0||this.h.h||(this.m=1,Vt(16),c=!1),this.o=this.o&&c,!c)_i(this.i,this.l,b,"[Invalid Chunked Response]"),An(this),Ln(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Yo(se),se.P=!0,Vt(11))}}else _i(this.i,this.l,b,null),Ti(this,b);Me==4&&An(this),this.o&&!this.K&&(Me==4?Uu(this.j,this):(this.o=!1,bi(this)))}else Yi(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),An(this),Ln(this)}}}catch{}finally{}};function gf(c){if(!Iu(c))return c.g.la();const y=Zt(c.g);if(y==="")return"";let b="";const S=y.length,z=ri(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return An(c),Ln(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,b+=c.h.i.decode(y[G],{stream:!(z&&G==S-1)});return y.length=0,c.h.g+=b,c.C=0,c.h.g}function Iu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Nu(c,y){var b=c.C,S=y.indexOf(`
`,b);return S==-1?Qt:(b=Number(y.substring(b,S)),isNaN(b)?kt:(S+=1,S+b>y.length?Qt:(y=y.slice(S,S+b),c.C=S+b,y)))}ei.prototype.cancel=function(){this.K=!0,An(this)};function bi(c){c.T=Date.now()+c.H,pa(c,c.H)}function pa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=yi(g(c.aa,c),y)}function Ei(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ei.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Rs(this.i,this.B),this.M!=2&&(pi(),Vt(17)),An(this),this.m=2,Ln(this)):pa(this,this.T-c)};function Ln(c){c.j.I==0||c.K||Uu(c.j,c)}function An(c){Ei(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,xs(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ti(c,y){try{var b=c.j;if(b.I!=0&&(b.g==c||Si(b.h,c))){if(!c.L&&Si(b.h,c)&&b.I==3){try{var S=b.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)wa(b),Dr(b);else break e;Ps(b),Vt(18)}}else b.xa=z[1],0<b.xa-b.K&&z[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=yi(g(b.Va,b),6e3));wi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ni(b,11)}else if((c.L||b.g==c)&&wa(b),!C(y))for(z=b.Ba.g.parse(y),y=0;y<z.length;y++){let We=z[y];const vt=We[0];if(!(vt<=b.K))if(b.K=vt,We=We[1],b.I==2)if(We[0]=="c"){b.M=We[1],b.ba=We[2];const Bn=We[3];Bn!=null&&(b.ka=Bn,b.j.info("VER="+b.ka));const Di=We[4];Di!=null&&(b.za=Di,b.j.info("SVER="+b.za));const si=We[5];si!=null&&typeof si=="number"&&si>0&&(S=1.5*si,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const ai=c.g;if(ai){const Ls=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var G=S.h;G.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Po(G,G.h),G.h=null))}if(S.G){const Sa=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(S.wa=Sa,it(S.J,S.G,Sa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var se=c;if(S.na=qu(S,S.L?S.ba:null,S.W),se.L){Lo(S.h,se);var Me=se,Ct=S.O;Ct&&(Me.H=Ct),Me.D&&(Ei(Me),bi(Me)),S.g=se}else Pu(S);b.i.length>0&&Ii(b)}else We[0]!="stop"&&We[0]!="close"||Ni(b,7);else b.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Ni(b,7):Qo(b):We[0]!="noop"&&b.l&&b.l.qa(We),b.A=0)}}pi(4)}catch{}}var jt=class{constructor(c,y){this.g=c,this.map=y}};function ko(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wi(c){return c.h?1:c.g?c.g.size:0}function Si(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Po(c,y){c.g?c.g.add(y):c.h=y}function Lo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ko.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.G);return y}return j(c.i)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(c,y){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const S=c[b].indexOf("=");let z,G=null;S>=0?(z=c[b].substring(0,S),G=c[b].substring(S+1)):z=c[b],y(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Rn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Rn?(this.l=c.l,Kt(this,c.j),this.o=c.o,this.g=c.g,Sr(this,c.u),this.h=c.h,zo(this,ku(c.i)),this.m=c.m):c&&(y=String(c).match(Du))?(this.l=!1,Kt(this,y[1]||"",!0),this.o=xi(y[2]||""),this.g=xi(y[3]||"",!0),Sr(this,y[4]),this.h=xi(y[5]||"",!0),zo(this,y[6]||"",!0),this.m=xi(y[7]||"")):(this.l=!1,this.i=new Ar(null,this.l))}Rn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ds(y,ya,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ds(y,ya,!0),"@"),c.push(Qi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Ds(b,b.charAt(0)=="/"?Bo:Ou,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Ds(b,Mu)),c.join("")},Rn.prototype.resolve=function(c){const y=Pt(this);let b=!!c.j;b?Kt(y,c.j):b=!!c.o,b?y.o=c.o:b=!!c.g,b?y.g=c.g:b=c.u!=null;var S=c.h;if(b)Sr(y,c.u);else if(b=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=y.h.lastIndexOf("/");z!=-1&&(S=y.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let se=0;se<z.length;){const Me=z[se++];Me=="."?S&&se==z.length&&G.push(""):Me==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&se==z.length&&G.push("")):(G.push(Me),S=!0)}S=G.join("/")}else S=z}return b?y.h=S:b=c.i.toString()!=="",b?zo(y,ku(c.i)):b=!!c.m,b&&(y.m=c.m),y};function Pt(c){return new Rn(c)}function Kt(c,y,b){c.j=b?xi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Sr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function zo(c,y,b){y instanceof Ar?(c.i=y,va(c.i,c.l)):(b||(y=Ds(y,xr)),c.i=new Ar(y,c.l))}function it(c,y,b){c.i.set(y,b)}function Ns(c){return it(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function xi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ds(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,pn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ya=/[#\/\?@]/g,Ou=/[#\?:]/g,Bo=/[#\?]/g,xr=/[#\?@]/g,Mu=/#/g;function Ar(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function gn(c){c.g||(c.g=new Map,c.h=0,c.i&&ga(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}r=Ar.prototype,r.add=function(c,y){gn(this),this.i=null,c=Rr(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function Vu(c,y){gn(c),y=Rr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function qo(c,y){return gn(c),y=Rr(c,y),c.g.has(y)}r.forEach=function(c,y){gn(this),this.g.forEach(function(b,S){b.forEach(function(z){c.call(y,z,S,this)},this)},this)};function Ho(c,y){gn(c);let b=[];if(typeof y=="string")qo(c,y)&&(b=b.concat(c.g.get(Rr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)b=b.concat(c[y]);return b}r.set=function(c,y){return gn(this),this.i=null,c=Rr(this,c),qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Ho(this,c),c.length>0?String(c[0]):y):y};function _a(c,y,b){Vu(c,y),b.length>0&&(c.i=null,c.g.set(Rr(c,y),j(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var b=y[S];const z=Qi(b);b=Ho(this,b);for(let G=0;G<b.length;G++){let se=z;b[G]!==""&&(se+="="+Qi(b[G])),c.push(se)}}return this.i=c.join("&")};function ku(c){const y=new Ar;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Rr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function va(c,y){y&&!c.j&&(gn(c),c.i=null,c.g.forEach(function(b,S){const z=S.toLowerCase();S!=z&&(Vu(this,S),_a(this,z,b))},c)),c.j=y}function ni(c,y){const b=new Wn;if(f.Image){const S=new Image;S.onload=E(Un,b,"TestLoadImage: loaded",!0,y,S),S.onerror=E(Un,b,"TestLoadImage: error",!1,y,S),S.onabort=E(Un,b,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(Un,b,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Fo(c,y){const b=new Wn,S=new AbortController,z=setTimeout(()=>{S.abort(),Un(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(z),G.ok?Un(b,"TestPingServer: ok",!0,y):Un(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Un(b,"TestPingServer: error",!1,y)})}function Un(c,y,b,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(b)}catch{}}function Cr(){this.g=new Tu}function Ai(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ai,wu),Ai.prototype.g=function(){return new Os(this.i,this.h)};function Os(c,y){pe.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Os,pe),r=Os.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ii(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ir(this):ii(this),this.readyState==3&&ba(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ir(this))},r.Na=function(c){this.g&&(this.response=c,Ir(this))},r.ga=function(){this.g&&Ir(this)};function Ir(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ii(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zn(c){let y="";return de(c,function(b,S){y+=S,y+=":",y+=b,y+=`\r
`}),y}function Ms(c,y,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=zn(b),typeof c=="string"?b!=null&&Qi(b):it(c,y,b))}function ot(c){pe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ot,pe);var Ri=/^https?$/i,Go=["POST","PUT"];r=ot.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Vs(this,G);return}if(c=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)b.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())b.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Go,y,void 0)>=0)||S||z||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of b)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Vs(this,G)}};function Vs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,$o(c),Ki(c)}function $o(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),Ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),ot.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ks(this):this.Xa())},r.Xa=function(){ks(this)};function ks(c){if(c.h&&typeof u<"u"){if(c.v&&ri(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),ri(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var S;if(S=G===0){let se=String(c.D).match(Du)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),S=!Ri.test(se?se.toLowerCase():"")}b=S}if(b)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var z=ri(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",$o(c)}}finally{Ki(c)}}}}function Ki(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,y||Oe(c,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ri(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),df(y)}};function Zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(c){const y={};c=(c.g&&ri(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var b=Cu(c[S]);const z=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const G=y[z]||[];y[z]=G,G.push(b)}xe(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function Nr(c){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,c),this.Za=Ci("retryDelaySeedMs",1e4,c),this.Ta=Ci("forwardChannelMaxRetries",2,c),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(c&&c.concurrentRequestLimit),this.Ba=new Cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Nr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,b,S){Vt(0),this.W=c,this.H=y||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=qu(this,null,this.W),Ii(this)};function Qo(c){if(Ea(c),c.I==3){var y=c.V++,b=Pt(c.J);if(it(b,"SID",c.M),it(b,"RID",y),it(b,"TYPE","terminate"),js(c,b),y=new ei(c,c.j,y),y.M=2,y.A=Ns(Pt(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=y.A,b=!0),b||(y.g=Hu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),bi(y)}Bu(c)}function Dr(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function Ea(c){Dr(c),c.v&&(f.clearTimeout(c.v),c.v=null),wa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ii(c){if(!jo(c.h)&&!c.m){c.m=!0;var y=c.Ea;ke||x(),Ie||(ke(),Ie=!0),I.add(y,c),c.D=0}}function Ta(c,y){return wi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=yi(g(c.Ea,c,y),zu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new ei(this,this.j,c);let G=this.o;if(this.U&&(G?(G=O(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=ju(this,z,y),b=Pt(this.J),it(b,"RID",c),it(b,"CVER",22),this.G&&it(b,"X-HTTP-Session-Id",this.G),js(this,b),G&&(this.R?y="headers="+Qi(zn(G))+"&"+y:this.u&&Ms(b,this.u,G)),Po(this.h,z),this.Ra&&it(b,"TYPE","init"),this.S?(it(b,"$req",y),it(b,"SID","null"),z.U=!0,vi(z,b,null)):vi(z,b,y),this.I=2}}else this.I==3&&(c?Ko(this,c):this.i.length==0||jo(this.h)||Ko(this))};function Ko(c,y){var b;y?b=y.l:b=c.V++;const S=Pt(c.J);it(S,"SID",c.M),it(S,"RID",b),it(S,"AID",c.K),js(c,S),c.u&&c.o&&Ms(S,c.u,c.o),b=new ei(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ju(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,b),vi(b,S,y)}function js(c,y){c.H&&de(c.H,function(b,S){it(y,S,b)}),c.l&&de({},function(b,S){it(y,S,b)})}function ju(c,y,b){b=Math.min(c.i.length,b);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let Me=-1;for(;;){const Ct=["count="+b];Me==-1?b>0?(Me=z[0].g,Ct.push("ofs="+Me)):Me=0:Ct.push("ofs="+Me);let We=!0;for(let vt=0;vt<b;vt++){var G=z[vt].g;const Bn=z[vt].map;if(G-=Me,G<0)Me=Math.max(0,z[vt].g-100),We=!1;else try{G="req"+G+"_"||"";try{var se=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Di,si]of se){let ai=si;m(si)&&(ai=wr(si)),Ct.push(G+Di+"="+encodeURIComponent(ai))}}catch(Di){throw Ct.push(G+"type="+encodeURIComponent("_badmap")),Di}}catch{S&&S(Bn)}}if(We){se=Ct.join("&");break e}}se=void 0}return c=c.i.splice(0,b),y.G=c,se}function Pu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ke||x(),Ie||(ke(),Ie=!0),I.add(y,c),c.A=0}}function Ps(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=yi(g(c.Da,c),zu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=yi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),Dr(this),Lu(this))};function Yo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Lu(c){c.g=new ei(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Pt(c.na);it(y,"RID","rpc"),it(y,"SID",c.M),it(y,"AID",c.K),it(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&it(y,"TO",c.ia),it(y,"TYPE","xmlhttp"),js(c,y),c.u&&c.o&&Ms(y,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Ns(Pt(y)),b.u=null,b.R=!0,ma(b,c)}r.Va=function(){this.C!=null&&(this.C=null,Dr(this),Ps(this),Vt(19))};function wa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Uu(c,y){var b=null;if(c.g==y){wa(c),Yo(c),c.g=null;var S=2}else if(Si(c.h,y))b=y.G,Lo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;S=da(),Oe(S,new gi(S,b)),Ii(c)}else Pu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(S==1&&Ta(c,y)||S==2&&Ps(c)))switch(b&&b.length>0&&(y=c.h,y.i=y.i.concat(b)),z){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function zu(c,y){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*y}function Ni(c,y){if(c.j.info("Error code "+y),y==2){var b=g(c.bb,c),S=c.Ua;const z=!S;S=new Rn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Kt(S,"https"),Ns(S),z?ni(S.toString(),b):Fo(S.toString(),b)}else Vt(2);c.I=0,c.l&&c.l.pa(y),Bu(c),Ea(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Bu(c){if(c.I=0,c.ja=[],c.l){const y=Uo(c.h);(y.length!=0||c.i.length!=0)&&($(c.ja,y),$(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function qu(c,y,b){var S=b instanceof Rn?Pt(b):new Rn(b);if(S.g!="")y&&(S.g=y+"."+S.g),Sr(S,S.u);else{var z=f.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const G=new Rn(null);S&&Kt(G,S),y&&(G.g=y),z&&Sr(G,z),b&&(G.h=b),S=G}return b=c.G,y=c.wa,b&&y&&it(S,b,y),it(S,"VER",c.ka),js(c,S),S}function Hu(c,y,b){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new ot(new Ai({ab:b})):new ot(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fu(){}r=Fu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Or(){}Or.prototype.g=function(c,y){return new fn(c,y)};function fn(c,y){pe.call(this),this.g=new Nr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Xi(this)}T(fn,pe),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Qo(this.g)},fn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=wr(c),c=b);y.i.push(new jt(y.Ya++,c)),y.I==3&&Ii(y)},fn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,fn.Z.N.call(this)};function Gu(c){Jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Gu,Jt);function $u(){Pn.call(this),this.status=1}T($u,Pn);function Xi(c){this.g=c}T(Xi,Fu),Xi.prototype.ra=function(){Oe(this.g,"a")},Xi.prototype.qa=function(c){Oe(this.g,new Gu(c))},Xi.prototype.pa=function(c){Oe(this.g,new $u)},Xi.prototype.oa=function(){Oe(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,HE=function(){return new Or},qE=function(){return da()},BE=Rt,Fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,uh=Cs,Mo.COMPLETE="complete",zE=Mo,Su.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Ll=Su,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,UE=ot}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const Av="@firebase/firestore",Rv="4.9.2";class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let Co="12.3.0";const oa=new yp("@firebase/firestore");function eo(){return oa.logLevel}function ce(r,...e){if(oa.logLevel<=Ge.DEBUG){const n=e.map(Ip);oa.debug(`Firestore (${Co}): ${r}`,...n)}}function _r(r,...e){if(oa.logLevel<=Ge.ERROR){const n=e.map(Ip);oa.error(`Firestore (${Co}): ${r}`,...n)}}function mo(r,...e){if(oa.logLevel<=Ge.WARN){const n=e.map(Ip);oa.warn(`Firestore (${Co}): ${r}`,...n)}}function Ip(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function we(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,FE(r,s,n)}function FE(r,e,n){let s=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function tt(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||FE(e,o,s)}function De(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class na{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class GE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class zC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class BC{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new na;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new na,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new na)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tt(typeof s.accessToken=="string",31837,{l:s}),new GE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class qC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new qC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function GC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Np{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function $e(r,e){return r<e?-1:r>e?1:0}function Gm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return xm(o)===xm(u)?$e(o,u):xm(o)?1:-1}return $e(r.length,e.length)}const $C=55296,QC=57343;function xm(r){const e=r.charCodeAt(0);return e>=$C&&e<=QC}function po(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const Iv="__name__";class ji{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ji.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return $e(e.length,n.length)}static compareSegments(e,n){const s=ji.isNumericId(e),o=ji.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ji.extractNumericId(e).compare(ji.extractNumericId(n)):Gm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class dt extends ji{construct(e,n,s){return new dt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new dt(n)}static emptyPath(){return new dt([])}}const KC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends ji{construct(e,n,s){return new sn(e,n,s)}static isValidIdentifier(e){return KC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iv}static keyField(){return new sn([Iv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new oe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(dt.fromString(e))}static fromName(e){return new ve(dt.fromString(e).popFirst(5))}static empty(){return new ve(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new dt(e.slice()))}}function $E(r,e,n){if(!n)throw new oe(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function YC(r,e,n,s){if(e===!0&&s===!0)throw new oe(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Nv(r){if(!ve.isDocumentKey(r))throw new oe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Dv(r){if(ve.isDocumentKey(r))throw new oe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function QE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function $h(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function Ui(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(r);throw new oe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ft(r,e){const n={typeString:r};return e&&(n.value=e),n}function mu(r,e){if(!QE(r))throw new oe(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(ee.INVALID_ARGUMENT,n);return!0}const Ov=-62135596800,Mv=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Mv);return new yt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ov)throw new oe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mv}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ov;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Ft("string",yt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new yt(0,0))}static max(){return new Ce(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function XC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new yt(n+1,0):new yt(n,s));return new ps(o,ve.empty(),e)}function JC(r){return new ps(r.readTime,r.key,Zl)}class ps{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ps(Ce.min(),ve.empty(),Zl)}static max(){return new ps(Ce.max(),ve.empty(),Zl)}}function ZC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:$e(r.largestBatchId,e.largestBatchId))}const WC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Io(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==WC)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function tI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(r){return r.name==="IndexedDbTransactionError"}class Qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qh.ce=-1;const Dp=-1;function Kh(r){return r==null}function xh(r){return r===0&&1/r==-1/0}function nI(r){return typeof r=="number"&&Number.isInteger(r)&&!xh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const KE="";function iI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Vv(e)),e=rI(r.get(n),e);return Vv(e)}function rI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case KE:n+="";break;default:n+=u}}return n}function Vv(r){return r+KE+""}function kv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ws(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function YE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class wt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??rn.RED,this.left=o??rn.EMPTY,this.right=u??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new rn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(e){return new jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new kn([])}unionWith(e){let n=new $t(sn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class XE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new XE("Invalid base64 string: "+u):u}})(e);return new an(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const sI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(r){if(tt(!!r,39018),typeof r=="string"){let e=0;const n=sI.exec(r);if(tt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dt(r.seconds),nanos:Dt(r.nanos)}}function Dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ys(r){return typeof r=="string"?an.fromBase64String(r):an.fromUint8Array(r)}const JE="server_timestamp",ZE="__type__",WE="__previous_value__",eT="__local_write_time__";function Op(r){return(r?.mapValue?.fields||{})[ZE]?.stringValue===JE}function Yh(r){const e=r.mapValue.fields[WE];return Op(e)?Yh(e):e}function Wl(r){const e=gs(r.mapValue.fields[eT].timestampValue);return new yt(e.seconds,e.nanos)}class aI{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Ah="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||Ah}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===Ah}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}const tT="__type__",oI="__max__",eh={mapValue:{}},nT="__vector__",Rh="value";function _s(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Op(r)?4:uI(r)?9007199254740991:lI(r)?10:11:we(28295,{value:r})}function Fi(r,e){if(r===e)return!0;const n=_s(r);if(n!==_s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Wl(r).isEqual(Wl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=gs(o.timestampValue),m=gs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ys(o.bytesValue).isEqual(ys(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Dt(o.geoPointValue.latitude)===Dt(u.geoPointValue.latitude)&&Dt(o.geoPointValue.longitude)===Dt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Dt(o.integerValue)===Dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Dt(o.doubleValue),m=Dt(u.doubleValue);return f===m?xh(f)===xh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return po(r.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(kv(f)!==kv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Fi(f[p],m[p])))return!1;return!0})(r,e);default:return we(52216,{left:r})}}function tu(r,e){return(r.values||[]).find((n=>Fi(n,e)))!==void 0}function go(r,e){if(r===e)return 0;const n=_s(r),s=_s(e);if(n!==s)return $e(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Dt(u.integerValue||u.doubleValue),p=Dt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return Pv(r.timestampValue,e.timestampValue);case 4:return Pv(Wl(r),Wl(e));case 5:return Gm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ys(u),p=ys(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=$e(m[g],p[g]);if(E!==0)return E}return $e(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=$e(Dt(u.latitude),Dt(f.latitude));return m!==0?m:$e(Dt(u.longitude),Dt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Lv(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Rh]?.arrayValue,E=p[Rh]?.arrayValue,T=$e(g?.values?.length||0,E?.values?.length||0);return T!==0?T:Lv(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===eh.mapValue&&f===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(f===eh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=Gm(p[T],E[T]);if(A!==0)return A;const j=go(m[p[T]],g[E[T]]);if(j!==0)return j}return $e(p.length,E.length)})(r.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function Pv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return $e(r,e);const n=gs(r),s=gs(e),o=$e(n.seconds,s.seconds);return o!==0?o:$e(n.nanos,s.nanos)}function Lv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=go(n[o],s[o]);if(u)return u}return $e(n.length,s.length)}function yo(r){return $m(r)}function $m(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=gs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ys(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ve.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=$m(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${$m(n.fields[f])}`;return o+"}"})(r.mapValue):we(61005,{value:r})}function ch(r){switch(_s(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yh(r);return e?16+ch(e):16;case 5:return 2*r.stringValue.length;case 6:return ys(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ch(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ws(s.fields,((u,f)=>{o+=u.length+ch(f)})),o})(r.mapValue);default:throw we(13486,{value:r})}}function Uv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Qm(r){return!!r&&"integerValue"in r}function Mp(r){return!!r&&"arrayValue"in r}function zv(r){return!!r&&"nullValue"in r}function Bv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hh(r){return!!r&&"mapValue"in r}function lI(r){return(r?.mapValue?.fields||{})[tT]?.stringValue===nT}function Fl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ws(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Fl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(r.arrayValue.values[n]);return e}return{...r}}function uI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===oI}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=sn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Fl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ws(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Sn(Fl(this.value))}}function iT(r){const e=[];return ws(r.fields,((n,s)=>{const o=new sn([n]);if(hh(s)){const u=iT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new kn(e)}class cn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new cn(e,0,Ce.min(),Ce.min(),Ce.min(),Sn.empty(),0)}static newFoundDocument(e,n,s,o){return new cn(e,1,n,Ce.min(),s,o,0)}static newNoDocument(e,n){return new cn(e,2,n,Ce.min(),Ce.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Ce.min(),Ce.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function qv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),n.key):s=go(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Hv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Fi(r.position[n],e.position[n]))return!1;return!0}class Ih{constructor(e,n="asc"){this.field=e,this.dir=n}}function cI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class rT{}class Ht extends rT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new fI(e,n,s):n==="array-contains"?new pI(e,s):n==="in"?new gI(e,s):n==="not-in"?new yI(e,s):n==="array-contains-any"?new _I(e,s):new Ht(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new dI(e,s):new mI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends rT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new di(e,n)}matches(e){return sT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sT(r){return r.op==="and"}function aT(r){return hI(r)&&sT(r)}function hI(r){for(const e of r.filters)if(e instanceof di)return!1;return!0}function Km(r){if(r instanceof Ht)return r.field.canonicalString()+r.op.toString()+yo(r.value);if(aT(r))return r.filters.map((e=>Km(e))).join(",");{const e=r.filters.map((n=>Km(n))).join(",");return`${r.op}(${e})`}}function oT(r,e){return r instanceof Ht?(function(s,o){return o instanceof Ht&&s.op===o.op&&s.field.isEqual(o.field)&&Fi(s.value,o.value)})(r,e):r instanceof di?(function(s,o){return o instanceof di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&oT(f,o.filters[m])),!0):!1})(r,e):void we(19439)}function lT(r){return r instanceof Ht?(function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`})(r):r instanceof di?(function(n){return n.op.toString()+" {"+n.getFilters().map(lT).join(" ,")+"}"})(r):"Filter"}class fI extends Ht{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class dI extends Ht{constructor(e,n){super(e,"in",n),this.keys=uT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class mI extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=uT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function uT(r,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class pI extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mp(n)&&tu(n.arrayValue,this.value)}}class gI extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class yI extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class _I extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>tu(this.value.arrayValue,s)))}}class vI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Fv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new vI(r,e,n,s,o,u,f)}function Vp(r){const e=De(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Km(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>yo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>yo(s))).join(",")),e.Te=n}return e.Te}function kp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!cI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!oT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Hv(r.startAt,e.startAt)&&Hv(r.endAt,e.endAt)}function Ym(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class pu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bI(r,e,n,s,o,u,f,m){return new pu(r,e,n,s,o,u,f,m)}function jp(r){return new pu(r)}function Gv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cT(r){return r.collectionGroup!==null}function Gl(r){const e=De(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new $t(sn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ih(u,s))})),n.has(sn.keyField().canonicalString())||e.Ie.push(new Ih(sn.keyField(),s))}return e.Ie}function zi(r){const e=De(r);return e.Ee||(e.Ee=EI(e,Gl(r))),e.Ee}function EI(r,e){if(r.limitType==="F")return Fv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ih(o.field,u)}));const n=r.endAt?new Ch(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ch(r.startAt.position,r.startAt.inclusive):null;return Fv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Xm(r,e){const n=r.filters.concat([e]);return new pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Jm(r,e,n){return new pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Xh(r,e){return kp(zi(r),zi(e))&&r.limitType===e.limitType}function hT(r){return`${Vp(zi(r))}|lt:${r.limitType}`}function to(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>lT(o))).join(", ")}]`),Kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>yo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>yo(o))).join(",")),`Target(${s})`})(zi(r))}; limitType=${r.limitType})`}function Jh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Gl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=qv(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Gl(s),o)||s.endAt&&!(function(f,m,p){const g=qv(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Gl(s),o))})(r,e)}function TI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fT(r){return(e,n)=>{let s=!1;for(const o of Gl(r)){const u=wI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function wI(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?go(p,g):we(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:r.dir})}}class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}const SI=new wt(ve.comparator);function vr(){return SI}const dT=new wt(ve.comparator);function Ul(...r){let e=dT;for(const n of r)e=e.insert(n.key,n);return e}function mT(r){let e=dT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ta(){return $l()}function pT(){return $l()}function $l(){return new ha((r=>r.toString()),((r,e)=>r.isEqual(e)))}const xI=new wt(ve.comparator),AI=new $t(ve.comparator);function Qe(...r){let e=AI;for(const n of r)e=e.add(n);return e}const RI=new $t($e);function CI(){return RI}function Pp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function gT(r){return{integerValue:""+r}}function II(r,e){return nI(e)?gT(e):Pp(r,e)}class Zh{constructor(){this._=void 0}}function NI(r,e,n){return r instanceof Nh?(function(o,u){const f={fields:{[ZE]:{stringValue:JE},[eT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Op(u)&&(u=Yh(u)),u&&(f.fields[WE]=u),{mapValue:f}})(n,e):r instanceof nu?_T(r,e):r instanceof iu?vT(r,e):(function(o,u){const f=yT(o,u),m=$v(f)+$v(o.Ae);return Qm(f)&&Qm(o.Ae)?gT(m):Pp(o.serializer,m)})(r,e)}function DI(r,e,n){return r instanceof nu?_T(r,e):r instanceof iu?vT(r,e):n}function yT(r,e){return r instanceof Dh?(function(s){return Qm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Nh extends Zh{}class nu extends Zh{constructor(e){super(),this.elements=e}}function _T(r,e){const n=bT(e);for(const s of r.elements)n.some((o=>Fi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class iu extends Zh{constructor(e){super(),this.elements=e}}function vT(r,e){let n=bT(e);for(const s of r.elements)n=n.filter((o=>!Fi(o,s)));return{arrayValue:{values:n}}}class Dh extends Zh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $v(r){return Dt(r.integerValue||r.doubleValue)}function bT(r){return Mp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function OI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof nu&&o instanceof nu||s instanceof iu&&o instanceof iu?po(s.elements,o.elements,Fi):s instanceof Dh&&o instanceof Dh?Fi(s.Ae,o.Ae):s instanceof Nh&&o instanceof Nh})(r.transform,e.transform)}class MI{constructor(e,n){this.version=e,this.transformResults=n}}class xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wh{}function ET(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ef(r.key,xn.none()):new gu(r.key,r.data,xn.none());{const n=r.data,s=Sn.empty();let o=new $t(sn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ss(r.key,s,new kn(o.toArray()),xn.none())}}function VI(r,e,n){r instanceof gu?(function(o,u,f){const m=o.value.clone(),p=Kv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ss?(function(o,u,f){if(!fh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Kv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(TT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ql(r,e,n,s){return r instanceof gu?(function(u,f,m,p){if(!fh(u.precondition,f))return m;const g=u.value.clone(),E=Yv(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ss?(function(u,f,m,p){if(!fh(u.precondition,f))return m;const g=Yv(u.fieldTransforms,p,f),E=f.data;return E.setAll(TT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return fh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function kI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=yT(s.transform,o||null);u!=null&&(n===null&&(n=Sn.empty()),n.set(s.field,u))}return n||null}function Qv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,((u,f)=>OI(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class gu extends Wh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends Wh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function TT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function Kv(r,e,n){const s=new Map;tt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,DI(f,m,n[o]))}return s}function Yv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,NI(u,f,e))}return s}class ef extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jI extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&VI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=pT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=ET(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ce.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((n,s)=>Qv(n,s)))&&po(this.baseMutations,e.baseMutations,((n,s)=>Qv(n,s)))}}class Lp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){tt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return xI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Lp(e,n,s,o)}}class LI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UI{constructor(e,n){this.count=e,this.unchangedNames=n}}var qt,Ye;function zI(r){switch(r){case ee.OK:return we(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function wT(r){if(r===void 0)return _r("GRPC error has no .code"),ee.UNKNOWN;switch(r){case qt.OK:return ee.OK;case qt.CANCELLED:return ee.CANCELLED;case qt.UNKNOWN:return ee.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ee.INTERNAL;case qt.UNAVAILABLE:return ee.UNAVAILABLE;case qt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case qt.NOT_FOUND:return ee.NOT_FOUND;case qt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case qt.ABORTED:return ee.ABORTED;case qt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case qt.DATA_LOSS:return ee.DATA_LOSS;default:return we(39323,{code:r})}}(Ye=qt||(qt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function BI(){return new TextEncoder}const qI=new ds([4294967295,4294967295],0);function Xv(r){const e=BI().encode(r),n=new LE;return n.update(e),new Uint8Array(n.digest())}function Jv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ds([n,s],0),new ds([o,u],0)]}class Up{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ds.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ds.fromNumber(s)));return o.compare(qI)===1&&(o=new ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Xv(e),[s,o]=Jv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Up(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=Xv(e),[s,o]=Jv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new tf(Ce.min(),o,new wt($e),vr(),Qe())}}class yu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new yu(s,n,Qe(),Qe(),Qe())}}class dh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class ST{constructor(e,n){this.targetId=e,this.Ce=n}}class xT{constructor(e,n,s=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Zv{constructor(){this.ve=0,this.Fe=Wv(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),s=Qe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}})),new yu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Wv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HI{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=th(),this.He=th(),this.Ye=new wt($e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Ym(u))if(s===0){const f=new ve(u.path);this.et(n,f,cn.newNoDocument(f,Ce.min()))}else tt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ys(s).toUint8Array()}catch(p){if(p instanceof XE)return mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Up(f,o,u)}catch(p){return mo(p instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Ym(m.target)){const p=new ve(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,cn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Qe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new tf(e,n,this.Ye,this.je,s);return this.je=vr(),this.Je=th(),this.He=th(),this.Ye=new wt($e),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Zv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $t($e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $t($e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function th(){return new wt(ve.comparator)}function Wv(){return new wt(ve.comparator)}const FI={asc:"ASCENDING",desc:"DESCENDING"},GI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$I={and:"AND",or:"OR"};class QI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(r,e){return r.useProto3Json||Kh(e)?e:{value:e}}function Oh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function KI(r,e){return Oh(r,e.toTimestamp())}function Bi(r){return tt(!!r,49232),Ce.fromTimestamp((function(n){const s=gs(n);return new yt(s.seconds,s.nanos)})(r))}function zp(r,e){return Wm(r,e).canonicalString()}function Wm(r,e){const n=(function(o){return new dt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function RT(r){const e=dt.fromString(r);return tt(OT(e),10190,{key:e.toString()}),e}function ep(r,e){return zp(r.databaseId,e.path)}function Am(r,e){const n=RT(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(IT(n))}function CT(r,e){return zp(r.databaseId,e)}function YI(r){const e=RT(r);return e.length===4?dt.emptyPath():IT(e)}function tp(r){return new dt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function IT(r){return tt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function eb(r,e,n){return{name:ep(r,e),fields:n.value.mapValue.fields}}function XI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(tt(E===void 0||typeof E=="string",58123),an.fromBase64String(E||"")):(tt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),an.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?ee.UNKNOWN:wT(g.code);return new oe(E,g.message||"")})(f);n=new xT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Am(r,s.document.name),u=Bi(s.document.updateTime),f=s.document.createTime?Bi(s.document.createTime):Ce.min(),m=new Sn({mapValue:{fields:s.document.fields}}),p=cn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new dh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Am(r,s.document),u=s.readTime?Bi(s.readTime):Ce.min(),f=cn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new dh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Am(r,s.document),u=s.removedTargetIds||[];n=new dh([],u,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new UI(o,u),m=s.targetId;n=new ST(m,f)}}return n}function JI(r,e){let n;if(e instanceof gu)n={update:eb(r,e.key,e.value)};else if(e instanceof ef)n={delete:ep(r,e.key)};else if(e instanceof Ss)n={update:eb(r,e.key,e.data),updateMask:aN(e.fieldMask)};else{if(!(e instanceof jI))return we(16599,{Vt:e.type});n={verify:ep(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Nh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Dh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw we(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:KI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)})(r,e.precondition)),n}function ZI(r,e){return r&&r.length>0?(tt(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Bi(o.updateTime):Bi(u);return f.isEqual(Ce.min())&&(f=Bi(u)),new MI(f,o.transformResults||[])})(n,e)))):[]}function WI(r,e){return{documents:[CT(r,e.path)]}}function eN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=CT(r,o);const u=(function(g){if(g.length!==0)return DT(di.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:no(A.field),direction:iN(A.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Zm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function tN(r){let e=YI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){tt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const A=NT(T);return A instanceof di&&aT(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((A=>(function($){return new Ih(io($.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Kh(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,j=T.values||[];return new Ch(j,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,j=T.values||[];return new Ch(j,A)})(n.endAt)),bI(e,o,f,u,m,"F",p,g)}function nN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=io(n.unaryFilter.field);return Ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=io(n.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(n.unaryFilter.field);return Ht.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=io(n.unaryFilter.field);return Ht.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ht.create(io(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return di.create(n.compositeFilter.filters.map((s=>NT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(r):we(30097,{filter:r})}function iN(r){return FI[r]}function rN(r){return GI[r]}function sN(r){return $I[r]}function no(r){return{fieldPath:r.canonicalString()}}function io(r){return sn.fromServerFormat(r.fieldPath)}function DT(r){return r instanceof Ht?(function(n){if(n.op==="=="){if(Bv(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(zv(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bv(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(zv(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:rN(n.op),value:n.value}}})(r):r instanceof di?(function(n){const s=n.getFilters().map((o=>DT(o)));return s.length===1?s[0]:{compositeFilter:{op:sN(n.op),filters:s}}})(r):we(54877,{filter:r})}function aN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function OT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class os{constructor(e,n,s,o,u=Ce.min(),f=Ce.min(),m=an.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oN{constructor(e){this.yt=e}}function lN(r){const e=tN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Jm(e,e.limit,"L"):e}class uN{constructor(){this.Cn=new cN}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ps.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class cN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new $t(dt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new $t(dt.comparator)).toArray()}}const tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MT=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(MT,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class _o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}const nb="LruGarbageCollector",hN=1048576;function ib([r,e],[n,s]){const o=$e(r,n);return o===0?$e(e,s):o}class fN{constructor(e){this.Ir=e,this.buffer=new $t(ib),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ib(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(nb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?ce(nb,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.Vr(3e5)}))}}class mN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Qh.ce);const s=new fN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(tb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),eo()<=Ge.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function pN(r,e){return new mN(r,e)}class gN{constructor(){this.changes=new ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _N{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Ql(s.mutation,o,kn.empty(),yt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Qe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Qe()){const o=ta();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Ul();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=ta();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Qe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=vr();const f=$l(),m=(function(){return $l()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ss)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Ql(E.mutation,g,E.mutation.getFieldMask(),yt.now())):f.set(g.key,kn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new yN(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=$l();let o=new wt(((f,m)=>f-m)),u=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||kn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Qe()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=pT();E.forEach((A=>{if(!u.has(A)){const j=ET(n.get(A),s.get(A));j!==null&&T.set(A,j),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(ta());let m=Zl,p=u;return f.next((g=>te.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Qe()))).next((E=>({batchId:m,changes:mT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let o=Ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ul();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const g=(function(T,A){return new pu(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,A)=>{f=f.insert(T,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,cn.newInvalidDocument(E)))}));let m=Ul();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Ql(E.mutation,g,kn.empty(),yt.now()),Jh(n,g)&&(m=m.insert(p,g))})),m}))}}class vN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:lN(o.bundledQuery),readTime:Bi(o.readTime)}})(n)),te.resolve()}}class bN{constructor(){this.overlays=new wt(ve.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ta();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=ta(),u=n.length+1,f=new ve(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new wt(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ta(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ta(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new LI(n,s));let u=this.qr.get(n);u===void 0&&(u=Qe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class EN{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class Bp{constructor(){this.Qr=new $t(Xt.$r),this.Ur=new $t(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Xt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ve(new dt([])),s=new Xt(n,e),o=new Xt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new dt([])),s=new Xt(n,e),o=new Xt(n,e+1);let u=Qe();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Xt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||$e(e.Yr,n.Yr)}static Kr(e,n){return $e(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class TN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Xt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new PI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Xt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Dp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Xt(n,0),o=new Xt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new $t($e);return n.forEach((o=>{const u=new Xt(o,0),f=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const f=new Xt(new ve(u),0);let m=new $t($e);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){tt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new Xt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Xt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class wN{constructor(e){this.ri=e,this.docs=(function(){return new wt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():cn.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=vr();const f=n.path,m=new ve(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||ZC(JC(E),s)<=0||(o.has(E.key)||Jh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new SN(this)}getSize(e){return te.resolve(this.size)}}class SN extends gN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class xN{constructor(e){this.persistence=e,this.si=new ha((n=>Vp(n)),kp),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Bp,this.targetCount=0,this.ai=_o.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class VT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qh(0),this.li=!1,this.li=!0,this.hi=new EN,this.referenceDelegate=e(this),this.Pi=new xN(this),this.indexManager=new uN,this.remoteDocumentCache=(function(o){return new wN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new oN(n),this.Ii=new vN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new TN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new AN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class AN extends eI{constructor(e){super(),this.currentSequenceNumber=e}}class qp{constructor(e){this.persistence=e,this.Ri=new Bp,this.Vi=null}static mi(e){return new qp(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=ve.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Mh{constructor(e,n){this.persistence=e,this.pi=new ha((s=>iI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=pN(this,n)}static mi(e,n){return new Mh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ce.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Qe(),o=Qe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Hp(e,n.fromCache,s,o)}}class RN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aA()?8:tI(hn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new RN;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(eo()<=Ge.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(eo()<=Ge.DEBUG&&ce("QueryEngine","Query:",to(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(eo()<=Ge.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):te.resolve())}ys(e,n){if(Gv(n))return te.resolve(null);let s=zi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Jm(n,null,"F"),s=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Qe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Jm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return Gv(n)||o.isEqual(Ce.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(eo()<=Ge.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),to(n)),this.vs(e,f,n,XC(o,Zl)).next((m=>m)))}))}Ds(e,n){let s=new $t(fT(e));return n.forEach(((o,u)=>{Jh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return eo()<=Ge.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",to(n)),this.ps.getDocumentsMatchingQuery(e,n,ps.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Fp="LocalStore",IN=3e8;class NN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new wt($e),this.xs=new ha((u=>Vp(u)),kp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _N(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function DN(r,e,n,s){return new NN(r,e,n,s)}async function kT(r,e){const n=De(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Qe();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function ON(r,e){const n=De(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,A=T.keys();let j=te.resolve();return A.forEach(($=>{j=j.next((()=>E.getEntry(p,$))).next((Y=>{const F=g.docVersions.get($);tt(F!==null,48541),Y.version.compareTo(F)<0&&(T.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Qe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function jT(r){const e=De(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function MN(r,e){const n=De(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let j=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?j=j.withResumeToken(an.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,s)),o=o.insert(T,j),(function(Y,F,W){return Y.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=IN?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(A,j,E)&&m.push(n.Pi.updateTargetData(u,j))}));let p=vr(),g=Qe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(VN(u,f,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Ce.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function VN(r,e,n){let s=Qe(),o=Qe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=vr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(Fp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function kN(r,e){const n=De(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Dp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function jN(r,e){const n=De(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new os(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function np(r,e,n){const s=De(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!No(f))throw f;ce(Fp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function rb(r,e,n){const s=De(r);let o=Ce.min(),u=Qe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=De(p),A=T.xs.get(E);return A!==void 0?te.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,E)})(s,f,zi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ce.min(),n?u:Qe()))).next((m=>(PN(s,TI(e),m),{documents:m,Qs:u})))))}function PN(r,e,n){let s=r.Os.get(e)||Ce.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class sb{constructor(){this.activeTargetIds=CI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LN{constructor(){this.Mo=new sb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UN{Oo(e){}shutdown(){}}const ab="ConnectivityMonitor";class ob{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(ab,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(ab,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let nh=null;function ip(){return nh===null?nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():nh++,"0x"+nh.toString(16)}const Rm="RestConnection",zN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ah?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=ip(),m=this.zo(e,n.toUriEncodedString());ce(Rm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=So(g);return this.Jo(e,m,p,s,E).then((T=>(ce(Rm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw mo(Rm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Co})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=zN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class qN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ln="WebChannelConnection";class HN extends BN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=ip();return new Promise(((m,p)=>{const g=new UE;g.setWithCredentials(!0),g.listenOnce(zE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case uh.NO_ERROR:const T=g.getResponseJson();ce(ln,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case uh.TIMEOUT:ce(ln,`RPC '${e}' ${f} timed out`),p(new oe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const A=g.getStatus();if(ce(ln,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const $=j?.error;if($&&$.status&&$.message){const Y=(function(W){const ie=W.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ie)>=0?ie:ee.UNKNOWN})($.status);p(new oe(Y,$.message))}else p(new oe(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(ee.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(ln,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce(ln,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=ip(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=HE(),m=qE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(ln,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let A=!1,j=!1;const $=new qN({Yo:F=>{j?ce(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(A||(ce(ln,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),ce(ln,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Zo:()=>T.close()}),Y=(F,W,ie)=>{F.listen(W,(re=>{try{ie(re)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return Y(T,Ll.EventType.OPEN,(()=>{j||(ce(ln,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),Y(T,Ll.EventType.CLOSE,(()=>{j||(j=!0,ce(ln,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(T))})),Y(T,Ll.EventType.ERROR,(F=>{j||(j=!0,mo(ln,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),$.a_(new oe(ee.UNAVAILABLE,"The operation could not be completed")))})),Y(T,Ll.EventType.MESSAGE,(F=>{if(!j){const W=F.data[0];tt(!!W,16349);const ie=W,re=ie?.error||ie[0]?.error;if(re){ce(ln,`RPC '${e}' stream ${o} received error:`,re);const ge=re.status;let ke=(function(x){const R=qt[x];if(R!==void 0)return wT(R)})(ge),Ie=re.message;ke===void 0&&(ke=ee.INTERNAL,Ie="Unknown error status: "+ge+" with message "+re.message),j=!0,$.a_(new oe(ke,Ie)),T.close()}else ce(ln,`RPC '${e}' stream ${o} received:`,W),$.u_(W)}})),Y(m,BE.STAT_EVENT,(F=>{F.stat===Fm.PROXY?ce(ln,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Fm.NOPROXY&&ce(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Cm(){return typeof document<"u"?document:null}function nf(r){return new QI(r,!0)}class PT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const lb="PersistentStream";class LT{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(lb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(lb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FN extends LT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=XI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ce.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ce.min():f.readTime?Bi(f.readTime):Ce.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=tp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Ym(p)?{documents:WI(u,p)}:{query:eN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=AT(u,f.resumeToken);const g=Zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ce.min())>0){m.readTime=Oh(u,f.snapshotVersion.toTimestamp());const g=Zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=nN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=tp(this.serializer),n.removeTarget=e,this.q_(n)}}class GN extends LT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ZI(e.writeResults,e.commitTime),s=Bi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=tp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>JI(this.serializer,s)))};this.q_(n)}}class $N{}class QN extends $N{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Wm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Wm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class KN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const la="RemoteStore";class YN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{fa(this)&&(ce(la,"Restarting streams for network reachability change."),await(async function(p){const g=De(p);g.Ea.add(4),await _u(g),g.Ra.set("Unknown"),g.Ea.delete(4),await rf(g)})(this))}))})),this.Ra=new KN(s,o)}}async function rf(r){if(fa(r))for(const e of r.da)await e(!0)}async function _u(r){for(const e of r.da)await e(!1)}function UT(r,e){const n=De(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kp(n)?Qp(n):Do(n).O_()&&$p(n,e))}function Gp(r,e){const n=De(r),s=Do(n);n.Ia.delete(e),s.O_()&&zT(n,e),n.Ia.size===0&&(s.O_()?s.L_():fa(n)&&n.Ra.set("Unknown"))}function $p(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(r).Y_(e)}function zT(r,e){r.Va.Ue(e),Do(r).Z_(e)}function Qp(r){r.Va=new HI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Do(r).start(),r.Ra.ua()}function Kp(r){return fa(r)&&!Do(r).x_()&&r.Ia.size>0}function fa(r){return De(r).Ea.size===0}function BT(r){r.Va=void 0}async function XN(r){r.Ra.set("Online")}async function JN(r){r.Ia.forEach(((e,n)=>{$p(r,e)}))}async function ZN(r,e){BT(r),Kp(r)?(r.Ra.ha(e),Qp(r)):r.Ra.set("Unknown")}async function WN(r,e,n){if(r.Ra.set("Online"),e instanceof xT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vh(r,s)}else if(e instanceof dh?r.Va.Ze(e):e instanceof ST?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ce.min()))try{const s=await jT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(an.EMPTY_BYTE_STRING,E.snapshotVersion)),zT(u,p);const T=new os(E.target,p,g,E.sequenceNumber);$p(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(la,"Failed to raise snapshot:",s),await Vh(r,s)}}async function Vh(r,e,n){if(!No(e))throw e;r.Ea.add(1),await _u(r),r.Ra.set("Offline"),n||(n=()=>jT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(la,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await rf(r)}))}function qT(r,e){return e().catch((n=>Vh(r,n,e)))}async function sf(r){const e=De(r),n=vs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dp;for(;eD(e);)try{const o=await kN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,tD(e,o)}catch(o){await Vh(e,o)}HT(e)&&FT(e)}function eD(r){return fa(r)&&r.Ta.length<10}function tD(r,e){r.Ta.push(e);const n=vs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function HT(r){return fa(r)&&!vs(r).x_()&&r.Ta.length>0}function FT(r){vs(r).start()}async function nD(r){vs(r).ra()}async function iD(r){const e=vs(r);for(const n of r.Ta)e.ea(n.mutations)}async function rD(r,e,n){const s=r.Ta.shift(),o=Lp.from(s,e,n);await qT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await sf(r)}async function sD(r,e){e&&vs(r).X_&&await(async function(s,o){if((function(f){return zI(f)&&f!==ee.ABORTED})(o.code)){const u=s.Ta.shift();vs(s).B_(),await qT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await sf(s)}})(r,e),HT(r)&&FT(r)}async function ub(r,e){const n=De(r);n.asyncQueue.verifyOperationInProgress(),ce(la,"RemoteStore received new credentials");const s=fa(n);n.Ea.add(3),await _u(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rf(n)}async function aD(r,e){const n=De(r);e?(n.Ea.delete(2),await rf(n)):e||(n.Ea.add(2),await _u(n),n.Ra.set("Unknown"))}function Do(r){return r.ma||(r.ma=(function(n,s,o){const u=De(n);return u.sa(),new FN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:XN.bind(null,r),t_:JN.bind(null,r),r_:ZN.bind(null,r),H_:WN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Kp(r)?Qp(r):r.Ra.set("Unknown")):(await r.ma.stop(),BT(r))}))),r.ma}function vs(r){return r.fa||(r.fa=(function(n,s,o){const u=De(n);return u.sa(),new GN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:nD.bind(null,r),r_:sD.bind(null,r),ta:iD.bind(null,r),na:rD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await sf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(la,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Yp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Yp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(r,e){if(_r("AsyncQueue",`${e}: ${r}`),No(r))return new oe(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Ul(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class cb{constructor(){this.ga=new wt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class vo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new vo(e,n,uo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class oD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lD{constructor(){this.queries=hb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=De(n),u=o.queries;o.queries=hb(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe(ee.ABORTED,"Firestore shutting down"))}}function hb(){return new ha((r=>hT(r)),Xh)}async function uD(r,e){const n=De(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new oD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Xp(f,`Initialization of query '${to(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Jp(n)}async function cD(r,e){const n=De(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function hD(r,e){const n=De(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Jp(n)}function fD(r,e,n){const s=De(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Jp(r){r.Ca.forEach((e=>{e.next()}))}var rp,fb;(fb=rp||(rp={})).Ma="default",fb.Cache="cache";class dD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rp.Cache}}class GT{constructor(e){this.key=e}}class $T{constructor(e){this.key=e}}class mD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=fT(e),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new cb,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),j=Jh(this.query,T)?T:null,$=!!A&&this.mutatedKeys.has(A.key),Y=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let F=!1;A&&j?A.data.isEqual(j.data)?$!==Y&&(s.track({type:3,doc:j}),F=!0):this.su(A,j)||(s.track({type:2,doc:j}),F=!0,(p&&this.eu(j,p)>0||g&&this.eu(j,g)<0)&&(m=!0)):!A&&j?(s.track({type:0,doc:j}),F=!0):A&&!j&&(s.track({type:1,doc:A}),F=!0,(p||g)&&(m=!0)),F&&(j?(f=f.add(j),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(j,$){const Y=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:F})}};return Y(j)-Y($)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new vo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new $T(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new GT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zp="SyncEngine";class pD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class gD{constructor(e){this.key=e,this.hu=!1}}class yD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ha((m=>hT(m)),Xh),this.Iu=new Map,this.Eu=new Set,this.du=new wt(ve.comparator),this.Au=new Map,this.Ru=new Bp,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _D(r,e,n=!0){const s=ZT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await QT(s,e,n,!0),o}async function vD(r,e){const n=ZT(r);await QT(n,e,!0,!1)}async function QT(r,e,n,s){const o=await jN(r.localStore,zi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await bD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&UT(r.remoteStore,o),m}async function bD(r,e,n,s,o){r.pu=(T,A,j)=>(async function(Y,F,W,ie){let re=F.view.ru(W);re.Cs&&(re=await rb(Y.localStore,F.query,!1).then((({documents:I})=>F.view.ru(I,re))));const ge=ie&&ie.targetChanges.get(F.targetId),ke=ie&&ie.targetMismatches.get(F.targetId)!=null,Ie=F.view.applyChanges(re,Y.isPrimaryClient,ge,ke);return mb(Y,F.targetId,Ie.au),Ie.snapshot})(r,T,A,j);const u=await rb(r.localStore,e,!0),f=new mD(e,u.Qs),m=f.ru(u.documents),p=yu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);mb(r,n,g.au);const E=new pD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function ED(r,e,n){const s=De(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Xh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await np(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Gp(s.remoteStore,o.targetId),sp(s,o.targetId)})).catch(Io)):(sp(s,o.targetId),await np(s.localStore,o.targetId,!0))}async function TD(r,e){const n=De(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gp(n.remoteStore,s.targetId))}async function wD(r,e,n){const s=ND(r);try{const o=await(function(f,m){const p=De(f),g=yt.now(),E=m.reduce(((j,$)=>j.add($.key)),Qe());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let $=vr(),Y=Qe();return p.Ns.getEntries(j,E).next((F=>{$=F,$.forEach(((W,ie)=>{ie.isValidDocument()||(Y=Y.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(j,$))).next((F=>{T=F;const W=[];for(const ie of m){const re=kI(ie,T.get(ie.key).overlayedDocument);re!=null&&W.push(new Ss(ie.key,re,iT(re.value.mapValue),xn.exists(!0)))}return p.mutationQueue.addMutationBatch(j,g,W,m)})).next((F=>{A=F;const W=F.applyToLocalDocumentSet(T,Y);return p.documentOverlayCache.saveOverlays(j,F.batchId,W)}))})).then((()=>({batchId:A.batchId,changes:mT(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new wt($e)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await vu(s,o.changes),await sf(s.remoteStore)}catch(o){const u=Xp(o,"Failed to persist write");n.reject(u)}}async function KT(r,e){const n=De(r);try{const s=await MN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?tt(f.hu,14607):o.removedDocuments.size>0&&(tt(f.hu,42227),f.hu=!1))})),await vu(n,s,e)}catch(s){await Io(s)}}function db(r,e,n){const s=De(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=De(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const A of T.Sa)A.va(m)&&(g=!0)})),g&&Jp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function SD(r,e,n){const s=De(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new wt(ve.comparator);f=f.insert(u,cn.newNoDocument(u,Ce.min()));const m=Qe().add(u),p=new tf(Ce.min(),new Map,new wt($e),f,m);await KT(s,p),s.du=s.du.remove(u),s.Au.delete(e),Wp(s)}else await np(s.localStore,e,!1).then((()=>sp(s,e,n))).catch(Io)}async function xD(r,e){const n=De(r),s=e.batch.batchId;try{const o=await ON(n.localStore,e);XT(n,s,null),YT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await vu(n,o)}catch(o){await Io(o)}}async function AD(r,e,n){const s=De(r);try{const o=await(function(f,m){const p=De(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(tt(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);XT(s,e,n),YT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await vu(s,o)}catch(o){await Io(o)}}function YT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function XT(r,e,n){const s=De(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function sp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||JT(r,s)}))}function JT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Gp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Wp(r))}function mb(r,e,n){for(const s of n)s instanceof GT?(r.Ru.addReference(s.key,e),RD(r,s)):s instanceof $T?(ce(Zp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||JT(r,s.key)):we(19791,{wu:s})}function RD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(Zp,"New document in limbo: "+n),r.Eu.add(s),Wp(r))}function Wp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ve(dt.fromString(e)),s=r.fu.next();r.Au.set(s,new gD(n)),r.du=r.du.insert(n,s),UT(r.remoteStore,new os(zi(jp(n.path)),s,"TargetPurposeLimboResolution",Qh.ce))}}async function vu(r,e,n){const s=De(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Hp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=De(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(g,(A=>te.forEach(A.Es,(j=>E.persistence.referenceDelegate.addReference(T,A.targetId,j))).next((()=>te.forEach(A.ds,(j=>E.persistence.referenceDelegate.removeReference(T,A.targetId,j)))))))))}catch(T){if(!No(T))throw T;ce(Fp,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const j=E.Ms.get(A),$=j.snapshotVersion,Y=j.withLastLimboFreeSnapshotVersion($);E.Ms=E.Ms.insert(A,Y)}}})(s.localStore,u))}async function CD(r,e){const n=De(r);if(!n.currentUser.isEqual(e)){ce(Zp,"User change. New user:",e.toKey());const s=await kT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await vu(n,s.Ls)}}function ID(r,e){const n=De(r),s=n.Au.get(e);if(s&&s.hu)return Qe().add(s.key);{let o=Qe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function ZT(r){const e=De(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=KT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ID.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SD.bind(null,e),e.Pu.H_=hD.bind(null,e.eventManager),e.Pu.yu=fD.bind(null,e.eventManager),e}function ND(r){const e=De(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AD.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return DN(this.persistence,new CN,e.initialUser,this.serializer)}Cu(e){return new VT(qp.mi,this.serializer)}Du(e){return new LN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class DD extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof Mh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new VT((s=>Mh.mi(s,n)),this.serializer)}}class ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>db(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CD.bind(null,this.syncEngine),await aD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lD})()}createDatastore(e){const n=nf(e.databaseInfo.databaseId),s=(function(u){return new HN(u)})(e.databaseInfo);return(function(u,f,m,p){return new QN(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new YN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>db(this.syncEngine,n,0)),(function(){return ob.v()?new ob:new UN})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const T=new yD(o,u,f,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=De(n);ce(la,"RemoteStore shutting down."),s.Ea.add(5),await _u(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ap.provider={build:()=>new ap};class OD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const bs="FirestoreClient";class MD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=Np.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(bs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(bs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Xp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Im(r,e){r.asyncQueue.verifyOperationInProgress(),ce(bs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await kT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function pb(r,e){r.asyncQueue.verifyOperationInProgress();const n=await VD(r);ce(bs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>ub(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>ub(e.remoteStore,o))),r._onlineComponents=e}async function VD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(bs,"Using user provided OfflineComponentProvider");try{await Im(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Im(r,new kh)}}else ce(bs,"Using default OfflineComponentProvider"),await Im(r,new DD(void 0));return r._offlineComponents}async function WT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(bs,"Using user provided OnlineComponentProvider"),await pb(r,r._uninitializedComponentsProvider._online)):(ce(bs,"Using default OnlineComponentProvider"),await pb(r,new ap))),r._onlineComponents}function kD(r){return WT(r).then((e=>e.syncEngine))}async function gb(r){const e=await WT(r),n=e.eventManager;return n.onListen=_D.bind(null,e.syncEngine),n.onUnlisten=ED.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TD.bind(null,e.syncEngine),n}function e1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const yb=new Map;const t1="firestore.googleapis.com",_b=!0;class vb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t1,this.ssl=_b}else this.host=e.host,this.ssl=e.ssl??_b;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hN)throw new oe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class af{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new UC;switch(s.type){case"firstParty":return new HC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=yb.get(n);s&&(ce("ComponentProvider","Removing Datastore"),yb.delete(n),s.terminate())})(this),Promise.resolve()}}function jD(r,e,n,s={}){r=Ui(r,af);const o=So(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Jb(`https://${m}`),Zb("Firestore",!0)),u.host!==t1&&u.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ra(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=un.MOCK_USER;else{g=Jx(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new oe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new un(T)}r._authCredentials=new zC(new GE(g,E))}}class Oo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Oo(this.firestore,e,this._query)}}class Ot{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(mu(n,Ot._jsonSchema))return new Ot(e,s||null,new ve(dt.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Ft("string",Ot._jsonSchemaVersion),referencePath:Ft("string")};class ms extends Oo{constructor(e,n,s){super(e,n,jp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new ve(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function so(r,e,...n){if(r=Mt(r),$E("collection","path",e),r instanceof af){const s=dt.fromString(e,...n);return Dv(s),new ms(r,null,s)}{if(!(r instanceof Ot||r instanceof ms))throw new oe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(dt.fromString(e,...n));return Dv(s),new ms(r.firestore,null,s)}}function ls(r,e,...n){if(r=Mt(r),arguments.length===1&&(e=Np.newId()),$E("doc","path",e),r instanceof af){const s=dt.fromString(e,...n);return Nv(s),new Ot(r,null,new ve(s))}{if(!(r instanceof Ot||r instanceof ms))throw new oe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(dt.fromString(e,...n));return Nv(s),new Ot(r.firestore,r instanceof ms?r.converter:null,new ve(s))}}const bb="AsyncQueue";class Eb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PT(this,"async_queue_retry"),this._c=()=>{const s=Cm();s&&ce(bb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;ce(bb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",Tb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Yp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:Tb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Tb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function wb(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ua extends af{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Eb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Eb(e),this._firestoreClient=void 0,await e}}}function PD(r,e){const n=typeof r=="object"?r:nE(),s=typeof r=="string"?r:Ah,o=vp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Yx("firestore");u&&jD(o,...u)}return o}function eg(r){if(r._terminated)throw new oe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||LD(r),r._firestoreClient}function LD(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new aI(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,e1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new MD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(an.fromBase64String(e))}catch(n){throw new oe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Ft("string",Xn._jsonSchemaVersion),bytes:Ft("string")};class bu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tg{constructor(e){this._methodName=e}}class qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(mu(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Ft("string",qi._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class Hi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,Hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Hi(e.vectorValues);throw new oe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:Ft("string",Hi._jsonSchemaVersion),vectorValues:Ft("object")};const UD=/^__.*__$/;class zD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class n1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function i1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:r})}}class ng{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(i1(this.Ac)&&UD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||nf(e)}Cc(e,n,s,o=!1){return new ng({Ac:e,methodName:n,Dc:s,path:sn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function of(r){const e=r._freezeSettings(),n=nf(r._databaseId);return new BD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function r1(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);ig("Data must be an object, but it was:",f,s);const m=o1(s,f);let p,g;if(u.merge)p=new kn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=op(e,T,n);if(!f.contains(A))throw new oe(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);u1(E,A)||E.push(A)}p=new kn(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new zD(new Sn(m),p,g)}class lf extends tg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}function s1(r,e,n,s){const o=r.Cc(1,e,n);ig("Data must be an object, but it was:",o,s);const u=[],f=Sn.empty();ws(s,((p,g)=>{const E=rg(e,p,n);g=Mt(g);const T=o.yc(E);if(g instanceof lf)u.push(E);else{const A=Eu(g,T);A!=null&&(u.push(E),f.set(E,A))}}));const m=new kn(u);return new n1(f,m,o.fieldTransforms)}function a1(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[op(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(op(e,u[A])),p.push(u[A+1]);const g=[],E=Sn.empty();for(let A=m.length-1;A>=0;--A)if(!u1(g,m[A])){const j=m[A];let $=p[A];$=Mt($);const Y=f.yc(j);if($ instanceof lf)g.push(j);else{const F=Eu($,Y);F!=null&&(g.push(j),E.set(j,F))}}const T=new kn(g);return new n1(E,T,f.fieldTransforms)}function qD(r,e,n,s=!1){return Eu(n,r.Cc(s?4:3,e))}function Eu(r,e){if(l1(r=Mt(r)))return ig("Unsupported field value:",e,r),o1(r,e);if(r instanceof tg)return(function(s,o){if(!i1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Eu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Mt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return II(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=yt.fromDate(s);return{timestampValue:Oh(o.serializer,u)}}if(s instanceof yt){const u=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Oh(o.serializer,u)}}if(s instanceof qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:AT(o.serializer,s._byteString)};if(s instanceof Ot){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Hi)return(function(f,m){return{mapValue:{fields:{[tT]:{stringValue:nT},[Rh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Pp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${$h(s)}`)})(r,e)}function o1(r,e){const n={};return YE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(r,((s,o)=>{const u=Eu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function l1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof yt||r instanceof qi||r instanceof Xn||r instanceof Ot||r instanceof tg||r instanceof Hi)}function ig(r,e,n){if(!l1(n)||!QE(n)){const s=$h(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function op(r,e,n){if((e=Mt(e))instanceof bu)return e._internalPath;if(typeof e=="string")return rg(r,e);throw jh("Field path arguments must be of type string or ",r,!1,void 0,n)}const HD=new RegExp("[~\\*/\\[\\]]");function rg(r,e,n){if(e.search(HD)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new bu(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function jh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new oe(ee.INVALID_ARGUMENT,m+r+p)}function u1(r,e){return r.some((n=>n.isEqual(e)))}class c1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FD extends c1{data(){return super.data()}}function sg(r,e){return typeof e=="string"?rg(r,e):e instanceof bu?e._internalPath:e._delegate._internalPath}function GD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ag{}class $D extends ag{}function QD(r,e,...n){let s=[];e instanceof ag&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof og)).length,m=u.filter((p=>p instanceof uf)).length;if(f>1||f>0&&m>0)throw new oe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class uf extends $D{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new uf(e,n,s)}_apply(e){const n=this._parse(e);return h1(e._query,n),new Oo(e.firestore,e.converter,Xm(e._query,n))}_parse(e){const n=of(e.firestore);return(function(u,f,m,p,g,E,T){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){xb(T,E);const $=[];for(const Y of T)$.push(Sb(p,u,Y));A={arrayValue:{values:$}}}else A=Sb(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||xb(T,E),A=qD(m,f,T,E==="in"||E==="not-in");return Ht.create(g,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function KD(r,e,n){const s=e,o=sg("where",r);return uf._create(o,s,n)}class og extends ag{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new og(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)h1(f,p),f=Xm(f,p)})(e._query,n),new Oo(e.firestore,e.converter,Xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Sb(r,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new oe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cT(e)&&n.indexOf("/")!==-1)throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(dt.fromString(n));if(!ve.isDocumentKey(s))throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Uv(r,new ve(s))}if(n instanceof Ot)return Uv(r,n._key);throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function xb(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function h1(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YD{convertValue(e,n="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ws(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Rh].arrayValue?.values?.map((s=>Dt(s.doubleValue)));return new Hi(n)}convertGeoPoint(e){return new qi(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Yh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=gs(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=dt.fromString(e);tt(OT(s),9688,{name:e});const o=new eu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function f1(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends c1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(sg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Ft("string",ia._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class mh extends ia{data(e={}){return super.data(e)}}class co{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new mh(this._firestore,this._userDataWriter,s.key,s,new Bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:XD(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Np.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Ft("string",co._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class d1 extends YD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function Nm(r,e,n){r=Ui(r,Ot);const s=Ui(r.firestore,ua),o=f1(r.converter,e,n);return cf(s,[r1(of(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,xn.none())])}function JD(r,e,n,...s){r=Ui(r,Ot);const o=Ui(r.firestore,ua),u=of(o);let f;return f=typeof(e=Mt(e))=="string"||e instanceof bu?a1(u,"updateDoc",r._key,e,n,s):s1(u,"updateDoc",r._key,e),cf(o,[f.toMutation(r._key,xn.exists(!0))])}function m1(r){return cf(Ui(r.firestore,ua),[new ef(r._key,xn.none())])}function lp(r,...e){r=Mt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||wb(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wb(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof Ot)f=Ui(r.firestore,ua),m=jp(r._key.path),u={next:p=>{e[s]&&e[s](ZD(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Ui(r,Oo);f=Ui(p.firestore,ua),m=p._query;const g=new d1(f);u={next:E=>{e[s]&&e[s](new co(f,g,p,E))},error:e[s+1],complete:e[s+2]},GD(r._query)}return(function(g,E,T,A){const j=new OD(A),$=new dD(E,j,T);return g.asyncQueue.enqueueAndForget((async()=>uD(await gb(g),$))),()=>{j.Nu(),g.asyncQueue.enqueueAndForget((async()=>cD(await gb(g),$)))}})(eg(f),m,o,u)}function cf(r,e){return(function(s,o){const u=new na;return s.asyncQueue.enqueueAndForget((async()=>wD(await kD(s),o,u))),u.promise})(eg(r),e)}function ZD(r,e,n){const s=n.docs.get(e._key),o=new d1(r);return new ia(r,o,e._key,s,new Bl(n.hasPendingWrites,n.fromCache),e.converter)}class WD{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=of(e)}set(e,n,s){this._verifyNotCommitted();const o=Dm(e,this._firestore),u=f1(o.converter,n,s),f=r1(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,xn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Dm(e,this._firestore);let f;return f=typeof(n=Mt(n))=="string"||n instanceof bu?a1(this._dataReader,"WriteBatch.update",u._key,n,s,o):s1(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Dm(e,this._firestore);return this._mutations=this._mutations.concat(new ef(n._key,xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Dm(r,e){if((r=Mt(r)).firestore!==e)throw new oe(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Ab(r){return eg(r=Ui(r,ua)),new WD(r,(e=>cf(r,e)))}(function(e,n=!0){(function(o){Co=o})(xo),ho(new sa("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ua(new BC(s.getProvider("auth-internal")),new FC(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),hs(Av,Rv,e),hs(Av,Rv,"esm2020")})();const e4={apiKey:"AIzaSyAVhacM_THZAr5oAN37mVkzX9qBzt2DIes",authDomain:"agenda-1a3f1.firebaseapp.com",projectId:"agenda-1a3f1",storageBucket:"agenda-1a3f1.firebasestorage.app",messagingSenderId:"54495045388",appId:"1:54495045388:web:034103823e4b41f56f0b29"},p1=tE(e4),bo=kC(p1),wn=PD(p1);const t4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Rb=r=>{const e=n4(r);return e.charAt(0).toUpperCase()+e.slice(1)},g1=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),i4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var r4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s4=U.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>U.createElement("svg",{ref:p,...r4,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:g1("lucide",o),...!u&&!i4(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>U.createElement(g,E)),...Array.isArray(u)?u:[u]]));const nt=(r,e)=>{const n=U.forwardRef(({className:s,...o},u)=>U.createElement(s4,{ref:u,iconNode:e,className:g1(`lucide-${t4(Rb(r))}`,`lucide-${r}`,s),...o}));return n.displayName=Rb(r),n};const a4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],y1=nt("activity",a4);const o4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],l4=nt("arrow-left",o4);const u4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_1=nt("calendar",u4);const c4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ru=nt("chevron-left",c4);const h4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],v1=nt("chevron-right",h4);const f4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],b1=nt("circle-alert",f4);const d4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],E1=nt("circle-check-big",d4);const m4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],p4=nt("clock",m4);const g4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],y4=nt("download",g4);const _4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],T1=nt("file-text",_4);const v4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],b4=nt("funnel",v4);const E4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],T4=nt("info",E4);const w4=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],w1=nt("key-round",w4);const S4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],x4=nt("layers",S4);const A4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ph=nt("lock",A4);const R4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],S1=nt("log-out",R4);const C4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],x1=nt("map-pin",C4);const I4=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],lg=nt("moon",I4);const N4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],D4=nt("panels-top-left",N4);const O4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Cb=nt("pen",O4);const M4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],A1=nt("plus",M4);const V4=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],k4=nt("printer",V4);const j4=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],P4=nt("repeat",j4);const L4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ug=nt("sun",L4);const U4=[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],R1=nt("sunset",U4);const z4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hf=nt("trash-2",z4);const B4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Lh=nt("triangle-alert",B4);const q4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],C1=nt("user-plus",q4);const H4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ff=nt("users",H4);const F4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],su=nt("x",F4),G4=["Psiclogo(a)","Estagirio(a) de Psicologia","Psiquiatra","Mdico(a)","Assistente Social","Psicopedagoga(a)","Pedagogo(a)","Educador(a) Fsico","Enfermeiro(a)","Tc. de Enfermagem","Outro/Externo"],I1={"Psiclogo(a)":"bg-blue-100 text-blue-800 border-blue-200","Estagirio(a) de Psicologia":"bg-sky-100 text-sky-800 border-sky-200",Psiquiatra:"bg-purple-100 text-purple-800 border-purple-200","Mdico(a)":"bg-cyan-100 text-cyan-800 border-cyan-200","Assistente Social":"bg-pink-100 text-pink-800 border-pink-200","Psicopedagoga(a)":"bg-teal-100 text-teal-800 border-teal-200","Pedagogo(a)":"bg-green-100 text-green-800 border-green-200","Educador(a) Fsico":"bg-orange-100 text-orange-800 border-orange-200","Enfermeiro(a)":"bg-red-100 text-red-800 border-red-200","Tc. de Enfermagem":"bg-rose-100 text-rose-800 border-rose-200","Outro/Externo":"bg-slate-200 text-slate-800 border-slate-300"},$4={"Psiclogo(a)":"bg-blue-500/20 text-blue-200 border-blue-500/30","Estagirio(a) de Psicologia":"bg-sky-500/20 text-sky-200 border-sky-500/30",Psiquiatra:"bg-purple-500/20 text-purple-200 border-purple-500/30","Mdico(a)":"bg-cyan-500/20 text-cyan-200 border-cyan-500/30","Assistente Social":"bg-pink-500/20 text-pink-200 border-pink-500/30","Psicopedagoga(a)":"bg-teal-500/20 text-teal-200 border-teal-500/30","Pedagogo(a)":"bg-green-500/20 text-green-200 border-green-500/30","Educador(a) Fsico":"bg-orange-500/20 text-orange-200 border-orange-500/30","Enfermeiro(a)":"bg-red-500/20 text-red-200 border-red-500/30","Tc. de Enfermagem":"bg-rose-500/20 text-rose-200 border-rose-500/30","Outro/Externo":"bg-slate-500/20 text-slate-300 border-slate-500/30"},Q4=["Sala coletiva 1","Sala coletiva 2","Espao de convvio","Ptio externo","Refeitrio"],K4=Object.keys(I1),ns=r=>{if(!r)return 0;const[e,n]=r.split(":").map(Number);return e*60+n},Y4=({toast:r,onClose:e})=>{if(U.useEffect(()=>{if(r){const s=setTimeout(e,4e3);return()=>clearTimeout(s)}},[r,e]),!r)return null;const n={success:"bg-emerald-600",error:"bg-red-600",info:"bg-blue-600"};return v.jsxs("div",{className:`fixed bottom-4 right-4 z-[100] flex items-center gap-3 px-6 py-3 rounded-xl shadow-2xl text-white transition-all animate-in slide-in-from-right-5 duration-300 ${n[r.type]||n.info} border border-white/10 backdrop-blur-md`,children:[r.type==="success"&&v.jsx(E1,{size:20}),r.type==="error"&&v.jsx(b1,{size:20}),r.type==="info"&&v.jsx(T4,{size:20}),v.jsx("span",{className:"font-medium text-sm md:text-base",children:r.message}),v.jsx("button",{onClick:e,className:"ml-2 opacity-80 hover:opacity-100",children:v.jsx(su,{size:18})})]})},X4=({isOpen:r,onClose:e,onConfirm:n,isRecurring:s,isDarkMode:o,themeClasses:u})=>r?v.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60] p-4 backdrop-blur-sm",onClick:e,children:v.jsxs("div",{className:`rounded-xl shadow-2xl w-full max-w-md overflow-hidden ${u.modalBg} animate-in zoom-in-95 duration-200 border border-slate-700`,onClick:f=>f.stopPropagation(),children:[v.jsx("div",{className:`px-6 py-4 border-b ${o?"border-red-900/30 bg-red-900/10":"border-red-100 bg-red-50"}`,children:v.jsxs("h3",{className:"text-red-500 font-bold text-lg flex items-center gap-2",children:[v.jsx(Lh,{size:24})," Excluir Atividade"]})}),v.jsxs("div",{className:"p-6",children:[v.jsx("p",{className:`mb-6 ${o?"text-slate-300":"text-gray-600"}`,children:s?"Esta  uma atividade recorrente. Como voc deseja prosseguir?":"Tem certeza que deseja excluir esta atividade? Esta ao no pode ser desfeita."}),v.jsxs("div",{className:"flex flex-col gap-3",children:[s?v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>n("single"),className:`w-full py-3 rounded-lg font-medium border transition-all flex items-center justify-center gap-2 ${o?"border-slate-600 hover:bg-slate-700 text-white":"border-gray-300 hover:bg-gray-50 text-gray-700"}`,children:[v.jsx(hf,{size:18,className:"opacity-70"})," Excluir apenas esta (desta data)"]}),v.jsxs("button",{onClick:()=>n("series"),className:"w-full py-3 rounded-lg font-bold bg-red-600 hover:bg-red-700 text-white transition-colors flex items-center justify-center gap-2 shadow-lg",children:[v.jsx(x4,{size:18})," Excluir TODAS as repeties"]})]}):v.jsx("button",{onClick:()=>n("single"),className:"w-full py-3 rounded-lg font-bold bg-red-600 hover:bg-red-700 text-white transition-colors shadow-lg",children:"Sim, Excluir"}),v.jsx("button",{onClick:e,className:"mt-2 text-sm text-slate-500 hover:text-white hover:underline text-center",children:"Cancelar"})]})]})]})}):null,J4=({isOpen:r,mode:e,onClose:n,onSave:s,onRequestDelete:o,formData:u,setFormData:f,selectedActivity:m,isDarkMode:p,themeClasses:g,getAreaColor:E})=>r?e==="view"&&m?v.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:n,children:v.jsxs("div",{className:`rounded-xl shadow-2xl w-full max-w-md overflow-hidden ${g.modalBg} transition-all border border-slate-700`,onClick:T=>T.stopPropagation(),children:[v.jsxs("div",{className:`px-6 py-4 flex justify-between items-center ${p?"bg-slate-900/50 border-b border-slate-700":"bg-white border-b border-gray-200"}`,children:[v.jsxs("h2",{className:`${p?"text-white":"text-gray-900"} font-bold text-lg flex items-center gap-2`,children:[v.jsx(D4,{size:20})," Detalhes"]}),v.jsx("button",{onClick:n,className:"text-slate-500 hover:text-white transition-colors",children:v.jsx(su,{size:24})})]}),v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${E(m.area)}`,children:[v.jsx("h3",{className:`text-xl font-bold ${p?"text-white":"text-gray-900"}`,children:m.title}),v.jsx("span",{className:`text-xs px-2 py-1 rounded mt-2 inline-block border ${E(m.area)}`,children:m.area})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-6 text-sm",children:[v.jsxs("div",{children:[v.jsx("p",{className:g.subText,children:"Horrio"}),v.jsxs("p",{className:`font-semibold text-lg ${p?"text-slate-200":"text-gray-800"}`,children:[m.startTime," - ",m.endTime]})]}),v.jsxs("div",{children:[v.jsx("p",{className:g.subText,children:"Local"}),v.jsxs("p",{className:`font-semibold flex items-center gap-1 ${p?"text-slate-200":"text-gray-800"}`,children:[v.jsx(x1,{size:16})," ",m.local]})]}),v.jsxs("div",{className:"col-span-2",children:[v.jsx("p",{className:g.subText,children:"Descrio"}),v.jsx("p",{className:`mt-1 p-3 rounded-md border ${p?"bg-slate-800/50 border-slate-700 text-slate-300":"bg-gray-50 border-gray-200 text-gray-700"}`,children:m.description||"Sem descrio definida."})]}),m.recurrence!=="none"&&v.jsxs("div",{className:"col-span-2 flex items-center gap-2 text-orange-400 text-xs font-bold bg-orange-500/10 p-2 rounded border border-orange-500/20",children:[v.jsx(P4,{size:14})," ",v.jsxs("span",{children:["Srie Recorrente (",m.recurrence==="daily"?"Diria":m.recurrence,")"]})]})]}),v.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-700",children:[v.jsxs("button",{onClick:()=>o(m),className:"flex-1 bg-red-500/10 hover:bg-red-500/20 text-red-400 hover:text-red-300 py-2 rounded-md font-medium transition-colors flex items-center justify-center gap-2 border border-red-500/20",children:[v.jsx(hf,{size:18})," Excluir"]}),v.jsxs("button",{onClick:s,className:"flex-1 bg-blue-600 text-white hover:bg-blue-700 py-2 rounded-md font-medium transition-colors flex items-center justify-center gap-2 shadow-lg",children:[v.jsx(Cb,{size:18})," Editar"]})]})]})]})}):v.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:n,children:v.jsxs("div",{className:`rounded-xl shadow-2xl w-full max-w-md overflow-hidden ${g.modalBg} transition-all border border-slate-700`,onClick:T=>T.stopPropagation(),children:[v.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 flex justify-between items-center",children:[v.jsx("h2",{className:"text-white font-bold text-lg flex items-center gap-2",children:e==="create"?v.jsxs(v.Fragment,{children:[v.jsx(p4,{size:20})," Agendar Atividade"]}):v.jsxs(v.Fragment,{children:[v.jsx(Cb,{size:20})," Editar Atividade"]})}),v.jsx("button",{onClick:n,className:"text-blue-200 hover:text-white transition-colors",children:v.jsx(su,{size:24})})]}),v.jsxs("div",{className:"p-6 space-y-4 max-h-[80vh] overflow-y-auto custom-scrollbar",children:[v.jsxs("div",{children:[v.jsxs("label",{className:`block text-sm font-bold mb-1 ${p?"text-slate-300":"text-gray-700"}`,children:["Ttulo ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"text",className:`w-full border rounded-lg p-2 outline-none focus:ring-2 focus:ring-blue-500 ${g.input}`,placeholder:"Ex: Assembleia Comunitria",value:u.title,onChange:T=>f({...u,title:T.target.value})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsxs("label",{className:`block text-sm font-bold mb-1 ${p?"text-slate-300":"text-gray-700"}`,children:["Profissional ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsxs("select",{className:`w-full border rounded-lg p-2 text-sm ${g.input}`,value:u.area,onChange:T=>f({...u,area:T.target.value}),children:[v.jsx("option",{value:"",children:"Selecione..."}),G4.map(T=>v.jsx("option",{value:T,children:T},T))]})]}),v.jsxs("div",{children:[v.jsxs("label",{className:`block text-sm font-bold mb-1 ${p?"text-slate-300":"text-gray-700"}`,children:["Local ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsxs("select",{className:`w-full border rounded-lg p-2 text-sm ${g.input}`,value:u.local,onChange:T=>f({...u,local:T.target.value}),children:[v.jsx("option",{value:"",children:"Selecione..."}),Q4.map(T=>v.jsx("option",{value:T,children:T},T))]})]})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[v.jsxs("div",{className:"col-span-1",children:[v.jsxs("label",{className:`block text-sm font-bold mb-1 ${p?"text-slate-300":"text-gray-700"}`,children:["Data ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"date",className:`w-full border rounded-lg p-2 text-sm ${g.input}`,value:u.date,onChange:T=>f({...u,date:T.target.value})})]}),v.jsxs("div",{className:"col-span-1",children:[v.jsxs("label",{className:`block text-sm font-bold mb-1 ${p?"text-slate-300":"text-gray-700"}`,children:["Incio ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"time",className:`w-full border rounded-lg p-2 text-sm ${g.input}`,value:u.startTime,min:"07:00",max:"19:00",onChange:T=>f({...u,startTime:T.target.value})})]}),v.jsxs("div",{className:"col-span-1",children:[v.jsxs("label",{className:`block text-sm font-bold mb-1 ${p?"text-slate-300":"text-gray-700"}`,children:["Fim ",v.jsx("span",{className:"text-xs font-normal opacity-60",children:"(Opcional)"})]}),v.jsx("input",{type:"time",className:`w-full border rounded-lg p-2 text-sm ${g.input}`,value:u.endTime,min:"07:00",max:"19:00",placeholder:"+1h",onChange:T=>f({...u,endTime:T.target.value})})]})]}),e==="create"&&v.jsxs("div",{className:`p-3 rounded-lg border ${p?"bg-slate-800 border-slate-700":"bg-gray-50 border-gray-200"}`,children:[v.jsx("label",{className:`block text-sm font-bold mb-2 text-center ${p?"text-slate-300":"text-gray-700"}`,children:"Recorrncia"}),v.jsx("div",{className:"flex gap-2 mb-3 flex-wrap justify-center",children:["none","daily","weekly","biweekly","monthly"].map(T=>v.jsx("button",{onClick:()=>f({...u,recurrence:T}),className:`px-3 py-1.5 text-xs rounded-md transition-colors border ${u.recurrence===T?"bg-blue-600 border-blue-600 text-white font-bold":`${p?"bg-slate-700 text-slate-300 border-slate-600 hover:bg-slate-600":"bg-white text-gray-600"}`}`,children:T==="none"?"nica":T==="daily"?"Diria":T==="weekly"?"Semanal":T==="biweekly"?"Quinzenal":"Mensal"},T))}),u.recurrence!=="none"&&v.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-300",children:[v.jsx("label",{className:`block text-xs font-bold mb-1 ${p?"text-slate-400":"text-gray-600"}`,children:"Por quanto tempo?"}),v.jsxs("select",{className:`w-full border rounded p-1.5 text-sm ${g.input}`,value:u.recurrenceDuration,onChange:T=>f({...u,recurrenceDuration:T.target.value}),children:[v.jsx("option",{value:"1_month",children:"1 Ms"}),v.jsx("option",{value:"6_months",children:"6 Meses"}),v.jsx("option",{value:"1_year",children:"1 Ano"})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:`block text-sm font-bold mb-1 ${p?"text-slate-300":"text-gray-700"}`,children:"Descrio"}),v.jsx("textarea",{className:`w-full border rounded-lg p-2 text-sm h-20 resize-none focus:ring-2 focus:ring-blue-500 outline-none ${g.input}`,placeholder:"Detalhes...",value:u.description,onChange:T=>f({...u,description:T.target.value})})]}),v.jsxs("button",{onClick:s,className:`w-full py-3 rounded-lg font-bold transition-colors shadow-md flex justify-center items-center gap-2 mt-4 ${!u.area||!u.local||!u.startTime||!u.title?"bg-slate-700 cursor-not-allowed text-slate-500":"bg-blue-600 hover:bg-blue-700 text-white"}`,disabled:!u.area||!u.local||!u.startTime||!u.title,children:[v.jsx(E1,{size:20})," ",e==="edit"?"Salvar Alteraes":"Confirmar Agendamento"]})]})]})}):null;function Z4(){const r=ou(),[e,n]=U.useState(null),[s,o]=U.useState(!0),[u,f]=U.useState("day"),[m,p]=U.useState(new Date),[g,E]=U.useState([]),[T,A]=U.useState("Todas"),[j,$]=U.useState(null),[Y,F]=U.useState(!1),[W,ie]=U.useState("create"),[re,ge]=U.useState(null),[ke,Ie]=U.useState(!1),[I,x]=U.useState(null),[R,V]=U.useState(new Date);U.useEffect(()=>{const ue=setInterval(()=>V(new Date),6e4),ye=Ap(bo,Pe=>{n(Pe)});return()=>{clearInterval(ue),ye()}},[]),U.useEffect(()=>{const ue=so(wn,"activities"),ye=lp(ue,Pe=>{const Be=Pe.docs.map(be=>({id:be.id,...be.data()}));E(Be)});return()=>ye()},[]);const D=(ue,ye="success")=>$({message:ue,type:ye}),k={bg:s?"bg-transparent":"bg-gray-100",text:s?"text-slate-200":"text-slate-900",card:s?"bg-slate-900/60 backdrop-blur-md border-slate-800":"bg-white border-gray-200",headerNav:s?"bg-slate-900/40 backdrop-blur-sm border-slate-800":"bg-gray-50 border-gray-200",input:s?"bg-slate-950 border-slate-700 text-white focus:ring-blue-500":"bg-white border-gray-300 text-gray-900 focus:ring-blue-500",subText:s?"text-slate-400":"text-gray-500",gridLines:s?"divide-slate-800 border-slate-800":"divide-gray-200 border-gray-200",slotBg:s?"bg-slate-900/40":"bg-gray-50",modalBg:s?"bg-slate-900/90 backdrop-blur-xl text-white":"bg-white text-gray-900",activeTab:s?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"bg-white text-blue-800 shadow",inactiveTab:s?"text-slate-400 hover:text-white hover:bg-slate-800":"text-gray-500 hover:bg-gray-200"},C=ue=>s?$4[ue]||"bg-slate-800 border-slate-700":I1[ue]||"bg-gray-100 border-gray-200",at=ue=>{const ye=new Date(ue),Pe=ye.getDay(),Be=ye.getDate()-Pe+(Pe===0?-6:1);return new Date(ye.setDate(Be))},mt=ue=>{if(!ue||ue.length===0)return[];const ye=ue.map(pe=>({...pe,startMin:ns(pe.startTime),endMin:ns(pe.endTime)})).sort((pe,Oe)=>pe.startMin-Oe.startMin||Oe.endMin-pe.endMin),Pe=[];let Be=[],be=-1;for(const pe of ye)Be.length===0?(Be.push(pe),be=pe.endMin):pe.startMin<be?(Be.push(pe),be=Math.max(be,pe.endMin)):(Pe.push(Be),Be=[pe],be=pe.endMin);Be.length>0&&Pe.push(Be);const Xe=[];for(const pe of Pe){const Oe=[];for(const _t of pe){let Tt=!1;for(let qe=0;qe<Oe.length;qe++)if(Oe[qe]<=_t.startMin){Oe[qe]=_t.endMin,_t.laneIndex=qe,Tt=!0;break}Tt||(Oe.push(_t.endMin),_t.laneIndex=Oe.length-1)}const Ae=100/Oe.length;for(const _t of pe)Xe.push({..._t,style:{width:`${Ae}%`,left:`${_t.laneIndex*Ae}%`}})}return Xe},[P,ne]=U.useState({title:"",area:"",local:"",date:"",startTime:"",endTime:"",recurrence:"none",recurrenceDuration:"1_month",description:""}),he=ue=>{const ye=new Date(m);u==="day"?ye.setDate(m.getDate()+ue):u==="week"?ye.setDate(m.getDate()+ue*7):ye.setMonth(m.getMonth()+ue),p(ye)},de=()=>{ne({title:"",area:"",local:"",date:m.toISOString().split("T")[0],startTime:"",endTime:"",recurrence:"none",recurrenceDuration:"1_month",description:""}),ie("create"),ge(null),F(!0)},xe=ue=>{ge(ue),ie("view"),F(!0)},O=()=>{re&&(ne({...re,recurrence:"none",recurrenceDuration:"1_month",description:re.description||""}),ie("edit"))},X=(ue,ye,Pe,Be,be=null)=>{const Xe=g.filter(Ae=>Ae.date===Pe&&Ae.id!==be),pe=Xe.find(Ae=>Ae.local===Be&&ue<ns(Ae.endTime)&&ye>ns(Ae.startTime));if(pe)return{type:"local",activity:pe};const Oe=Xe.filter(Ae=>ue<ns(Ae.endTime)&&ye>ns(Ae.startTime));return Oe.length>=2?{type:"capacity",count:Oe.length}:null},ae=async()=>{let ue=P.endTime;if(!ue&&P.startTime){const[be,Xe]=P.startTime.split(":").map(Number);let pe=be+1;pe>23&&(pe=0),ue=`${String(pe).padStart(2,"0")}:${String(Xe).padStart(2,"0")}`}const ye=ns(P.startTime),Pe=ns(ue);if(ye>=Pe){D("Horrio invlido.","error");return}const Be={...P,endTime:ue};if(delete Be.recurrenceDuration,W==="edit"){const be=X(ye,Pe,P.date,P.local,re.id);if(be){D(be.type==="local"?"Local ocupado!":"Capacidade excedida!","error");return}try{await JD(ls(wn,"activities",re.id),Be),F(!1),D("Atividade atualizada!","success")}catch{D("Erro ao salvar.","error")}}else{const be=`series-${Date.now()}`,Xe={...Be,seriesId:be};let pe=X(ye,Pe,P.date,P.local);if(pe){D(pe.type==="local"?"Local ocupado!":"Capacidade excedida!","error");return}const Oe=Ab(wn),Ae=ls(so(wn,"activities"));if(Oe.set(Ae,{...Xe,date:P.date}),P.recurrence!=="none"){const _t=new Date(P.date+"T12:00:00");let Tt=new Date(_t);P.recurrenceDuration==="1_month"?Tt.setMonth(Tt.getMonth()+1):P.recurrenceDuration==="6_months"?Tt.setMonth(Tt.getMonth()+6):Tt.setFullYear(Tt.getFullYear()+1);let qe=new Date(_t);for(;P.recurrence==="daily"?qe.setDate(qe.getDate()+1):P.recurrence==="weekly"?qe.setDate(qe.getDate()+7):P.recurrence==="biweekly"?qe.setDate(qe.getDate()+14):qe.setMonth(qe.getMonth()+1),!(qe>Tt);){const mn=qe.toISOString().split("T")[0];if(!X(ye,Pe,mn,P.local)){const xs=ls(so(wn,"activities"));Oe.set(xs,{...Xe,date:mn})}}}try{await Oe.commit(),F(!1),D("Atividade(s) agendada(s)!","success")}catch{D("Erro ao criar.","error")}}},le=ue=>{x(ue),Ie(!0),F(!1)},Se=async ue=>{if(I)try{if(ue==="series"&&I.seriesId){const ye=QD(so(wn,"activities"),KD("seriesId","==",I.seriesId)),Pe=await getDocs(ye),Be=Ab(wn);Pe.forEach(be=>Be.delete(be.ref)),await Be.commit()}else await m1(ls(wn,"activities",I.id));Ie(!1),x(null),D("Excludo com sucesso.","success")}catch{D("Erro ao excluir.","error")}},Re=()=>{const ue=[];for(let ye=7;ye<=19;ye++)ue.push(ye);return ue},Le=g.filter(ue=>T==="Todas"?!0:ue.area===T),At=()=>{const ue=R.getHours(),ye=R.getMinutes();return ue<7||ue>19?-10:(ue-7)*6+ye/60*6},ht=({offset:ue=0})=>{const ye=At();return ye<0?null:v.jsx("div",{className:"absolute w-full z-20 pointer-events-none flex items-center left-0 right-0",style:{top:`${ye+ue}rem`},children:v.jsx("div",{className:"w-full border-t-2 border-red-500 shadow-sm relative",children:v.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full absolute -top-[5px] -left-1.5 shadow-sm"})})})},$i=()=>{const ue=at(m),ye=Array.from({length:7},(Pe,Be)=>{const be=new Date(ue);return be.setDate(ue.getDate()+Be),be});return v.jsxs("div",{className:`overflow-x-auto border rounded-2xl shadow-lg ${k.card} custom-scrollbar relative w-full`,children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none z-20 min-w-[1000px]",children:v.jsx(ht,{offset:3})}),v.jsxs("div",{className:`grid grid-cols-8 w-full divide-x ${k.gridLines} min-w-[1000px]`,children:[v.jsxs("div",{className:`col-span-1 ${k.slotBg}`,children:[v.jsx("div",{className:`h-12 border-b p-2 font-bold text-sm flex items-center justify-center ${k.subText} ${s?"border-slate-800":"border-gray-200"}`,children:"Horrio"}),Re().map(Pe=>v.jsxs("div",{className:`h-24 border-b p-2 flex items-center justify-center text-sm font-semibold ${k.subText} ${s?"border-slate-800":"border-gray-200"}`,children:[Pe,":00"]},Pe))]}),v.jsx("div",{className:"col-span-7 grid grid-cols-7 relative",children:ye.map((Pe,Be)=>{const be=Pe.toISOString().split("T")[0],Xe=be===new Date().toISOString().split("T")[0],pe=Le.filter(Ae=>Ae.date===be),Oe=mt(pe);return v.jsxs("div",{className:`col-span-1 relative group border-r last:border-r-0 cursor-pointer transition-colors ${s?"bg-transparent border-slate-800 hover:bg-slate-800/50":"bg-white border-gray-100 hover:bg-gray-50"}`,onClick:()=>{p(Pe),f("day")},children:[v.jsxs("div",{className:`h-12 border-b p-2 text-center ${s?"border-slate-800":"border-gray-200"} ${Xe?s?"bg-blue-500/10":"bg-blue-50":""}`,children:[v.jsx("div",{className:`font-bold ${s?"text-slate-200":"text-gray-800"}`,children:Pe.toLocaleDateString("pt-BR",{weekday:"short"})}),v.jsxs("div",{className:`text-xs ${Xe?"text-blue-400 font-bold":k.subText}`,children:[Pe.getDate(),"/",Pe.getMonth()+1]})]}),v.jsxs("div",{className:"relative h-[calc(13*6rem)]",children:[Re().map(Ae=>v.jsx("div",{className:`h-24 border-b w-full absolute ${s?"border-slate-800":"border-gray-100"}`,style:{top:`${(Ae-7)*6}rem`}},Ae)),Oe.map(Ae=>{const _t=parseInt(Ae.startTime.split(":")[0]),Tt=parseInt(Ae.startTime.split(":")[1]),qe=(_t-7)*6+Tt/60*6,mn=(parseInt(Ae.endTime.split(":")[0])-_t+(parseInt(Ae.endTime.split(":")[1])-Tt)/60)*6,jn=new Date(`${be}T${Ae.endTime}:00`)<R;return v.jsxs("div",{className:`absolute rounded p-1 text-xs border shadow-sm overflow-hidden transition-all backdrop-blur-sm ${C(Ae.area)} ${jn?"opacity-60 grayscale-[0.5]":""}`,style:{top:`${qe}rem`,height:`${mn}rem`,width:`calc(${Ae.style.width} - 4px)`,left:`calc(${Ae.style.left} + 2px)`},title:Ae.title,children:[v.jsx("div",{className:"font-bold truncate",children:Ae.title}),v.jsx("div",{className:"truncate opacity-75 text-[10px]",children:Ae.local})]},Ae.id)})]})]},Be)})})]})]})},Er=()=>{const ue=m.toISOString().split("T")[0],ye=ue===new Date().toISOString().split("T")[0],Pe=Le.filter(be=>be.date===ue),Be=mt(Pe);return v.jsx("div",{className:`border rounded-2xl shadow-lg overflow-hidden flex flex-col ${k.card}`,children:v.jsxs("div",{className:"flex-1 relative min-h-[600px]",children:[ye&&v.jsx(ht,{}),Re().map(be=>v.jsx("div",{className:`h-24 border-b flex items-start group ${s?"border-slate-800":"border-gray-100"}`,style:{height:"6rem"},children:v.jsxs("div",{className:`w-20 flex-shrink-0 text-right pr-4 pt-2 text-sm font-semibold ${s?"text-blue-400":"text-blue-700"}`,children:[be,":00"]})},be)),v.jsx("div",{className:"absolute top-0 left-20 right-0 bottom-0",children:Be.map(be=>{const Xe=parseInt(be.startTime.split(":")[0]),pe=parseInt(be.startTime.split(":")[1]),Oe=(Xe-7)*6+pe/60*6,Ae=(parseInt(be.endTime.split(":")[0])-Xe+(parseInt(be.endTime.split(":")[1])-pe)/60)*6,_t=new Date(`${ue}T${be.endTime}:00`)<R;return v.jsxs("div",{className:`absolute rounded-md p-3 border-l-4 shadow-md cursor-pointer hover:shadow-lg transition-all flex flex-col justify-center backdrop-blur-sm ${C(be.area)} ${_t?"opacity-50":""}`,style:{top:`${Oe}rem`,height:`${Ae}rem`,minHeight:"3rem",width:`calc(${be.style.width} - 8px)`,left:`calc(${be.style.left} + 4px)`},onClick:Tt=>{Tt.stopPropagation(),xe(be)},children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsx("span",{className:"font-bold text-sm truncate",children:be.title}),v.jsx("span",{className:"text-xs opacity-75 whitespace-nowrap ml-1",children:be.startTime})]}),v.jsxs("div",{className:"flex items-center gap-2 text-xs mt-1 opacity-90 truncate",children:[v.jsx(x1,{size:12})," ",be.local]})]},be.id)})})]})})},Tr=()=>{const ue=m.getFullYear(),ye=m.getMonth(),Pe=new Date(ue,ye+1,0).getDate(),Be=new Date(ue,ye,1).getDay(),be=Array(Be).fill(null).concat(Array.from({length:Pe},(Xe,pe)=>pe+1));return v.jsxs("div",{className:`rounded-2xl shadow border ${k.card} ${s?"border-slate-800":""}`,children:[v.jsx("div",{className:`grid grid-cols-7 border-b ${s?"bg-slate-900/50 border-slate-800":"bg-gray-50 border-gray-200"}`,children:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"].map(Xe=>v.jsx("div",{className:`p-2 text-center text-xs md:text-sm font-bold ${k.subText}`,children:Xe},Xe))}),v.jsx("div",{className:"grid grid-cols-7 auto-rows-fr",children:be.map((Xe,pe)=>{if(!Xe)return v.jsx("div",{className:`border-b border-r min-h-[80px] md:min-h-[120px] ${s?"bg-transparent border-slate-800":"bg-gray-50/50 border-gray-200"}`},pe);const Oe=`${ue}-${String(ye+1).padStart(2,"0")}-${String(Xe).padStart(2,"0")}`,Ae=Le.filter(jn=>jn.date===Oe),_t=new Date(ue,ye,Xe),Tt=new Date(R.getFullYear(),R.getMonth(),R.getDate()),qe=_t<Tt,mn=_t.getTime()===Tt.getTime();return v.jsxs("div",{className:`border-b border-r min-h-[80px] md:min-h-[120px] relative transition-colors group cursor-pointer ${s?"border-slate-800 hover:bg-slate-800/50":"border-gray-200 hover:bg-gray-50"} ${qe?"opacity-60":""}`,onClick:()=>{const jn=new Date(ue,ye,Xe);p(jn),f("day")},children:[v.jsxs("div",{className:"absolute top-1 left-1 right-1 flex justify-between items-start pointer-events-none",children:[v.jsx("span",{}),v.jsx("span",{className:`text-xs md:text-sm font-bold p-1 rounded-full ${s?"text-slate-400":"text-gray-700"} ${mn?"bg-blue-600 text-white min-w-[24px] text-center":""}`,children:Xe})]}),v.jsx("div",{className:"w-full h-full flex items-center justify-center pt-4",children:Ae.length>0&&v.jsx("span",{className:`text-2xl md:text-5xl font-bold ${s?"text-blue-500/50":"text-blue-600"}`,children:Ae.length})})]},pe)})})]})};return v.jsxs("div",{className:"min-h-screen bg-slate-950 font-sans text-slate-200 pb-10 relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-[50vh] bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-900/20 via-slate-950 to-slate-950 pointer-events-none"}),v.jsx("style",{children:`
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: ${s?"#334155":"#cbd5e1"}; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: ${s?"#475569":"#94a3b8"}; }
      `}),v.jsxs("div",{className:"max-w-7xl mx-auto px-4 pt-6 pb-4 relative z-10",children:[v.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[v.jsxs("div",{children:[v.jsxs("button",{onClick:()=>r("/dashboard"),className:`mb-2 text-xs font-bold uppercase tracking-wider flex items-center gap-1 hover:text-white transition-colors ${s?"text-slate-500":"text-gray-600"}`,children:[v.jsx(ru,{size:14})," Voltar ao Menu"]}),v.jsxs("h1",{className:`text-2xl md:text-3xl font-bold flex items-center gap-2 ${s?"text-white":"text-blue-600"}`,children:[v.jsx(_1,{className:"text-blue-500"})," Agenda de Atividades"]}),v.jsx("p",{className:`text-sm ${s?"text-slate-400":"text-gray-500"}`,children:"CAPS AD III - Organizao da Equipe"})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[v.jsx("div",{className:"flex items-center gap-2 justify-between sm:justify-start",children:v.jsx("button",{onClick:()=>o(!s),className:`p-2 rounded-full transition-all border ${s?"text-yellow-400 bg-slate-800 border-slate-700 hover:bg-slate-700":"text-gray-600 bg-white border-gray-200 hover:bg-gray-50"}`,children:s?v.jsx(ug,{size:20}):v.jsx(lg,{size:20})})}),v.jsxs("div",{className:"relative flex-grow",children:[v.jsxs("select",{value:T,onChange:ue=>A(ue.target.value),className:`w-full appearance-none pl-3 pr-8 py-2 rounded-lg border text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer ${s?"bg-slate-900 border-slate-700 text-slate-200":"bg-white border-gray-300 text-gray-700"}`,children:[v.jsx("option",{value:"Todas",children:"Filtrar Profissional (Todos)"})," ",K4.map(ue=>v.jsx("option",{value:ue,children:ue},ue))]}),v.jsx(b4,{size:14,className:"absolute right-3 top-1/2 transform -translate-y-1/2 opacity-50 pointer-events-none"})]}),v.jsxs("button",{onClick:de,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg font-bold shadow-lg shadow-blue-900/20 flex items-center justify-center gap-2 transition-transform active:scale-95",children:[v.jsx(A1,{size:18,strokeWidth:3})," Nova"]})]})]}),v.jsxs("div",{className:`rounded-xl p-1.5 flex flex-col md:flex-row items-center justify-between gap-4 ${k.headerNav}`,children:[v.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto justify-between md:justify-start pl-2",children:[v.jsx("button",{onClick:()=>he(-1),className:`p-1.5 rounded-md transition-colors ${s?"hover:bg-slate-700 text-slate-400 hover:text-white":"hover:bg-gray-200 text-gray-600"}`,children:v.jsx(ru,{size:20})}),v.jsx("button",{onClick:()=>he(1),className:`p-1.5 rounded-md transition-colors ${s?"hover:bg-slate-700 text-slate-400 hover:text-white":"hover:bg-gray-200 text-gray-600"}`,children:v.jsx(v1,{size:20})})]}),v.jsx("div",{className:`text-lg md:text-xl font-bold capitalize text-center ${s?"text-white":"text-gray-800"}`,children:u==="month"?m.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}):m.toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),v.jsxs("div",{className:`flex p-1 rounded-lg w-full md:w-auto ${s?"bg-slate-950/50":"bg-gray-200/50"}`,children:[v.jsx("button",{onClick:()=>f("day"),className:`flex-1 md:flex-none px-4 py-1.5 text-xs md:text-sm font-medium rounded-md transition-all ${u==="day"?k.activeTab:k.inactiveTab}`,children:"Dia"}),v.jsx("button",{onClick:()=>f("week"),className:`flex-1 md:flex-none px-4 py-1.5 text-xs md:text-sm font-medium rounded-md transition-all ${u==="week"?k.activeTab:k.inactiveTab}`,children:"Semana"}),v.jsx("button",{onClick:()=>f("month"),className:`flex-1 md:flex-none px-4 py-1.5 text-xs md:text-sm font-medium rounded-md transition-all ${u==="month"?k.activeTab:k.inactiveTab}`,children:"Ms"})]})]})]}),v.jsxs("main",{className:"max-w-7xl mx-auto px-4 mt-4 relative z-10",children:[u==="day"&&v.jsx(Er,{}),u==="week"&&v.jsx($i,{}),u==="month"&&v.jsx(Tr,{})]}),v.jsx(Y4,{toast:j,onClose:()=>$(null)}),v.jsx(J4,{isOpen:Y,mode:W,onClose:()=>F(!1),onSave:W==="view"?O:ae,onRequestDelete:le,formData:P,setFormData:ne,selectedActivity:re,isDarkMode:s,themeClasses:k,getAreaColor:C}),v.jsx(X4,{isOpen:ke,onClose:()=>Ie(!1),onConfirm:Se,isRecurring:I?.recurrence!=="none",isDarkMode:s,themeClasses:k})]})}const W4=U.memo(()=>v.jsx("style",{children:`
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: #475569; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }

    @media print {
        @page { margin: 5mm; size: landscape; }
        body { background-color: white !important; color: black !important; -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; margin: 0 !important; }
        .no-print, button, nav, header { display: none !important; }
        .print-only { display: block !important; }
        .bg-slate-900, .bg-slate-800, .bg-white { background-color: white !important; color: black !important; border: none !important; box-shadow: none !important; }
        #escala-pdf-content { border: none !important; box-shadow: none !important; margin: 0 !important; padding: 0 !important; width: 100% !important; }
        .print-table-container { width: 100% !important; overflow: visible !important; display: block !important; border: none !important; padding: 0 !important; margin: 0 !important; }
        .print-compact-text { font-size: 8px !important; }
        .print-compact-cell { padding: 1px 2px !important; line-height: 1.1 !important; }
        .print-compact-header { font-size: 9px !important; padding: 2px !important; background-color: #f3f4f6 !important; }
        .print-compact-badge { font-size: 7px !important; padding: 0px 2px !important; margin-bottom: 0px !important; margin-right: 1px !important; border: 1px solid #ccc !important; height: auto !important; line-height: normal !important; }
        tr { page-break-inside: avoid; }
        .text-slate-200, .text-slate-400, .text-white { color: black !important; }
        .max-w-6xl { max-width: none !important; width: 100% !important; padding: 0 !important; margin: 0 !important; }
        ::-webkit-scrollbar { display: none; }
    }
  `})),N1={MANHA:{id:"manha",label:"Manh",horario:"07h - 13h",icon:ug,color:"text-orange-400",bg:"bg-orange-500/10",border:"border-orange-500/20"},TARDE:{id:"tarde",label:"Tarde",horario:"13h - 19h",icon:R1,color:"text-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/20"},NOITE:{id:"noite",label:"Noite",horario:"19h - 07h",icon:lg,color:"text-indigo-400",bg:"bg-indigo-500/10",border:"border-indigo-500/20"}},ph={PSICOLOGO:"Psiclogo(a)",PSIQUIATRA:"Psiquiatra",MEDICO:"Mdico(a)",ASSISTENTE_SOCIAL:"Assistente Social",PSICOPEDAGOGO:"Psicopedagogo(a)",PEDAGOGO:"Pedagogo(a)",EDUCADOR_FISICO:"Educador(a) Fsico(a)",ENFERMEIRO:"Enfermeiro(a)",TECNICO_ENFERMAGEM:"Tc. de Enfermagem",ADMIN:"Coordenao"},Om=[{id:"admin_base",nome:"Coord. de Escalas",categoria:ph.ADMIN,admin:!0}],eO=r=>{const e=r.getFullYear(),n=r.getMonth(),s=new Date(e,n+1,0).getDate(),o=[];for(let u=1;u<=s;u++){const f=u.toString().padStart(2,"0"),m=(n+1).toString().padStart(2,"0");o.push(`${e}-${m}-${f}`)}return o},cg=r=>{const[e,n,s]=r.split("-");return`${s}/${n}`},hg=r=>{const e=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],[n,s,o]=r.split("-").map(Number),u=new Date(n,s-1,o);return e[u.getDay()]},tO=({modalAviso:r,onClose:e})=>r.open?v.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in no-print",children:v.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-2xl shadow-2xl max-w-sm w-full relative",children:[v.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-400 hover:text-white",children:v.jsx(su,{size:20})}),v.jsxs("div",{className:"flex flex-col items-center text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-amber-900/20 rounded-full flex items-center justify-center mb-4 text-amber-500 border border-amber-500/20",children:v.jsx(Ph,{size:32})}),v.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:r.titulo}),v.jsx("p",{className:"text-slate-300 text-sm mb-6 leading-relaxed",children:r.mensagem}),v.jsx("button",{onClick:e,className:"bg-slate-800 hover:bg-slate-700 text-white font-bold py-2.5 px-6 rounded-lg w-full transition-colors border border-slate-700",children:"Entendido"})]})]})}):null,nO=({modal:r,onConfirm:e,onCancel:n})=>r.open?v.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in no-print",children:v.jsx("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-2xl shadow-2xl max-w-sm w-full relative",children:v.jsxs("div",{className:"flex flex-col items-center text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mb-4 text-red-500 border border-red-500/20",children:v.jsx(hf,{size:32})}),v.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Excluir Usurio?"}),v.jsxs("p",{className:"text-slate-300 text-sm mb-6 leading-relaxed",children:["Tem certeza que deseja remover ",v.jsx("span",{className:"font-bold text-white",children:r.nome}),"?"]}),v.jsxs("div",{className:"flex gap-3 w-full",children:[v.jsx("button",{onClick:n,className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white font-bold py-2.5 rounded-lg border border-slate-700",children:"Cancelar"}),v.jsx("button",{onClick:e,className:"flex-1 bg-red-600 hover:bg-red-500 text-white font-bold py-2.5 rounded-lg shadow-lg shadow-red-900/20",children:"Excluir"})]})]})})}):null,iO=({modal:r,setModal:e,onConfirm:n})=>{const[s,o]=U.useState(""),u=f=>{f.preventDefault(),n(s)};return U.useEffect(()=>{r.open&&o("")},[r.open]),r.open?v.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in no-print",children:v.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-2xl shadow-2xl max-w-xs w-full relative",children:[v.jsx("button",{onClick:()=>e({...r,open:!1}),className:"absolute top-4 right-4 text-slate-400 hover:text-white",children:v.jsx(su,{size:20})}),v.jsxs("div",{className:"text-center mb-6",children:[v.jsx("div",{className:"w-14 h-14 bg-purple-900/20 rounded-full flex items-center justify-center mx-auto mb-3 text-purple-400 border border-purple-500/20",children:v.jsx(w1,{size:24})}),v.jsx("h3",{className:"text-lg font-bold text-white",children:"Acesso Restrito"}),v.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Digite a senha de administrador"})]}),v.jsxs("form",{onSubmit:u,className:"space-y-4",children:[v.jsx("input",{type:"password",value:s,onChange:f=>o(f.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white text-center focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"Senha",autoFocus:!0}),r.erro&&v.jsx("p",{className:"text-red-400 text-xs text-center font-medium",children:r.erro}),v.jsx("button",{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-2 rounded-lg shadow-lg shadow-purple-900/20",children:"Entrar"})]})]})}):null},rO=({usuarioLogado:r,onLogout:e})=>v.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-md border-b border-slate-800 p-4 mb-6 flex flex-col md:flex-row justify-between items-center shadow-lg sticky top-0 z-50 no-print rounded-b-2xl",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-0",children:[v.jsx("div",{className:"bg-emerald-600/20 p-2.5 rounded-xl shadow-lg border border-emerald-500/20",children:v.jsx(ff,{size:24,className:"text-emerald-400"})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-bold text-white leading-tight",children:"Escala Digital"}),v.jsx("p",{className:"text-xs text-slate-400 font-medium tracking-wide",children:"CAPS AD 3 Mossor"})]})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"flex items-center bg-slate-950 px-4 py-1.5 rounded-full border border-slate-800",children:[v.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${r?.admin?"bg-purple-500":"bg-emerald-500"}`}),v.jsx("span",{className:"text-sm font-medium text-slate-200",children:r?.nome})]}),v.jsx("button",{onClick:e,className:"text-slate-400 hover:text-red-400 p-2 rounded-full transition-colors",children:v.jsx(S1,{size:20})})]})]}),D1=({mesAtual:r,mudarMes:e})=>v.jsxs("div",{className:"flex justify-between items-center mb-6 bg-slate-900/60 backdrop-blur-sm p-3 rounded-xl border border-slate-800 shadow-sm no-print",children:[v.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",children:v.jsx(ru,{})}),v.jsx("h2",{className:"text-lg font-bold text-white capitalize",children:r.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),v.jsx("button",{onClick:()=>e(1),className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",children:v.jsx(v1,{})})]}),sO=({usuarios:r,onLoginRequest:e,setView:n,solicitarRemocao:s})=>{const o=r.filter(f=>f.admin),u=r.filter(f=>!f.admin);return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[600px] animate-fade-in no-print",children:[v.jsxs("div",{className:"text-center mb-10",children:[v.jsx("h2",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest mb-2",children:"Portal da Equipe"}),v.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-500",children:"Escala Digital"})]}),v.jsxs("div",{className:"w-full max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"bg-slate-900/60 backdrop-blur-md p-6 rounded-2xl border border-purple-500/20 flex flex-col shadow-2xl",children:[v.jsxs("h3",{className:"text-purple-400 font-bold mb-4 flex items-center gap-2 uppercase text-xs tracking-wider",children:[v.jsx(Ph,{size:14})," Acesso Administrativo"]}),v.jsx("div",{className:"space-y-3 flex-1",children:o.map(f=>v.jsxs("button",{onClick:()=>e(f),className:"w-full flex items-center p-4 rounded-xl border border-slate-800 bg-slate-950/50 hover:bg-slate-800 hover:border-purple-500/50 transition-all group",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500/20 flex items-center justify-center text-purple-400 mr-4 group-hover:scale-110 transition-transform",children:v.jsx(w1,{size:18})}),v.jsxs("div",{className:"text-left",children:[v.jsx("div",{className:"font-bold text-slate-200 group-hover:text-white",children:f.nome}),v.jsx("div",{className:"text-[10px] text-purple-400 font-medium uppercase",children:"Coordenao"})]})]},f.id))})]}),v.jsxs("div",{className:"bg-slate-900/60 backdrop-blur-md p-6 rounded-2xl border border-emerald-500/20 flex flex-col shadow-2xl relative",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("h3",{className:"text-emerald-400 font-bold flex items-center gap-2 uppercase text-xs tracking-wider",children:[v.jsx(ff,{size:14})," Equipe Multidisciplinar"]}),v.jsxs("button",{onClick:()=>n("cadastro"),className:"text-xs bg-slate-800 hover:bg-emerald-600 text-slate-300 hover:text-white px-3 py-1.5 rounded-full transition-colors flex items-center gap-1",children:[v.jsx(C1,{size:12})," Novo"]})]}),v.jsxs("div",{className:"grid gap-3 max-h-[350px] overflow-y-auto pr-2 custom-scrollbar",children:[u.map(f=>v.jsxs("div",{className:"relative group",children:[v.jsxs("button",{onClick:()=>e(f),className:"w-full flex items-center p-3 rounded-xl border border-slate-800 bg-slate-950/50 hover:bg-slate-800 hover:border-emerald-500/50 transition-all",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-emerald-500 mr-3 border border-slate-700",children:v.jsx("span",{className:"font-bold text-sm",children:f.nome.charAt(0)})}),v.jsxs("div",{className:"text-left flex-1 min-w-0",children:[v.jsx("div",{className:"font-bold text-slate-300 truncate",children:f.nome}),v.jsx("div",{className:"text-[10px] text-slate-500 truncate",children:f.categoria})]})]}),v.jsx("button",{onClick:m=>{m.stopPropagation(),s(f.id,f.nome)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 text-slate-600 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 rounded-full",title:"Remover usurio",children:v.jsx(hf,{size:16})})]},f.id)),u.length===0&&v.jsx("p",{className:"text-slate-500 text-center text-sm py-4",children:"Nenhum profissional cadastrado."})]})]})]})]})},aO=({adicionarUsuario:r,setView:e})=>{const[n,s]=U.useState(""),[o,u]=U.useState(ph.ENFERMEIRO),f=m=>{m.preventDefault(),n.trim()&&r({nome:n,categoria:o,admin:!1})};return v.jsx("div",{className:"flex flex-col items-center justify-center min-h-[500px] no-print",children:v.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md p-8 rounded-2xl shadow-2xl border border-slate-800 w-full max-w-md relative",children:[v.jsx("button",{onClick:()=>e("login"),className:"absolute top-4 left-4 text-slate-400 hover:text-white transition-colors",children:v.jsx(l4,{size:24})}),v.jsxs("div",{className:"text-center mb-6",children:[v.jsx("div",{className:"bg-emerald-500/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-emerald-500 border border-emerald-500/20",children:v.jsx(C1,{size:32})}),v.jsx("h2",{className:"text-2xl font-bold text-white",children:"Novo Profissional"}),v.jsx("p",{className:"text-slate-400 text-sm",children:"Adicione um membro  equipe"})]}),v.jsxs("form",{onSubmit:f,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-500 mb-1",children:"Nome Completo"}),v.jsx("input",{type:"text",value:n,onChange:m=>s(m.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Ex: Enf. Maria Silva",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-500 mb-1",children:"Cargo / Funo"}),v.jsx("select",{value:o,onChange:m=>u(m.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-emerald-500 outline-none",children:Object.values(ph).filter(m=>m!==ph.ADMIN).map(m=>v.jsx("option",{value:m,children:m},m))})]}),v.jsxs("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 rounded-lg transition-all shadow-lg shadow-emerald-900/20 mt-6 flex items-center justify-center gap-2",children:[v.jsx(A1,{size:20})," Cadastrar Profissional"]})]})]})})},oO=({mesAtual:r,dias:e,disponibilidades:n,escala:s,usuarioLogado:o,toggleDisponibilidade:u,mudarMes:f,setView:m})=>v.jsxs("div",{className:"animate-fade-in",children:[v.jsxs("div",{className:"mb-6 bg-blue-500/10 border border-blue-500/20 p-4 rounded-xl flex items-start gap-3 no-print backdrop-blur-sm",children:[v.jsx(b1,{className:"text-blue-400 shrink-0 mt-1"}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-blue-300",children:"Instrues"}),v.jsxs("p",{className:"text-sm text-blue-200/60 mt-1",children:["Clique nos perodos para marcar sua disponibilidade. ",v.jsx("br",{}),v.jsxs("span",{className:"text-emerald-400 font-bold flex items-center gap-1 mt-1 text-xs uppercase tracking-wide",children:[v.jsx(Ph,{size:12})," Confirmado na escala"]})]})]})]}),v.jsx(D1,{mesAtual:r,mudarMes:f}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-3",children:e.map(p=>{const g=hg(p),E=g==="Sb"||g==="Dom",T=n[p]||{manha:[],tarde:[],noite:[]},A=s[p]||{manha:[],tarde:[],noite:[]};return v.jsxs("div",{className:`rounded-xl border p-3 transition-colors duration-200 backdrop-blur-sm ${E?"bg-slate-900/80 border-slate-700":"bg-slate-900/40 border-slate-800"}`,children:[v.jsxs("div",{className:"flex justify-between items-center mb-3",children:[v.jsx("span",{className:"text-xl font-bold text-slate-200",children:cg(p).split("/")[0]}),v.jsx("span",{className:`text-xs font-bold uppercase ${E?"text-rose-500":"text-slate-500"}`,children:g})]}),v.jsx("div",{className:"grid grid-cols-3 gap-1",children:Object.values(N1).map(j=>{const $=T[j.id]?.includes(o.id),Y=A[j.id]?.includes(o.id);return v.jsxs("button",{onClick:()=>u(p,j.id),className:`flex flex-col items-center justify-center py-2 rounded-lg text-xs font-bold transition-all border relative ${$?`${j.bg} ${j.color} ${j.border}`:"bg-slate-950 text-slate-600 border-slate-900 hover:border-slate-700 hover:text-slate-400"} ${Y?"ring-1 ring-emerald-500 ring-offset-1 ring-offset-slate-900 cursor-not-allowed opacity-90":""}`,title:j.label,children:[Y&&v.jsx(Ph,{size:10,className:"absolute top-1 right-1 text-emerald-400"}),v.jsx(j.icon,{size:14,className:"mb-1"}),j.id.charAt(0).toUpperCase()]},j.id)})})]},p)})}),v.jsx("div",{className:"mt-10 flex justify-center no-print",children:v.jsxs("button",{onClick:()=>m("escala_publica"),className:"flex items-center gap-2 text-slate-400 hover:text-emerald-400 transition-colors px-6 py-2 rounded-full hover:bg-slate-900 border border-transparent hover:border-slate-800",children:[v.jsx(T1,{size:20})," Ver Escala Publicada"]})})]}),lO=({mesAtual:r,dias:e,disponibilidades:n,escala:s,usuarios:o,definirEscalado:u,mudarMes:f,setView:m})=>v.jsxs("div",{className:"animate-fade-in",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4 no-print",children:[v.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 p-4 rounded-xl flex-1 w-full backdrop-blur-sm",children:[v.jsxs("h3",{className:"font-bold text-purple-300 flex items-center gap-2",children:[v.jsx(ff,{size:20})," Painel de Gesto"]}),v.jsxs("p",{className:"text-sm text-purple-200/60 mt-1",children:[v.jsx(Lh,{size:12,className:"inline text-amber-500 mr-1"})," Profissionais que removeram disponibilidade mas seguem escalados aparecem com alerta."]})]}),v.jsxs("button",{onClick:()=>m("escala_publica"),className:"bg-emerald-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-emerald-500 flex items-center gap-2 shadow-lg shadow-emerald-900/20 w-full md:w-auto justify-center transition-all transform hover:-translate-y-1",children:[v.jsx(T1,{size:18})," Visualizar Escala Final"]})]}),v.jsx(D1,{mesAtual:r,mudarMes:f}),v.jsx("div",{className:"space-y-4",children:e.map(p=>{const g=hg(p),E=n[p]||{manha:[],tarde:[],noite:[]},T=s[p]||{manha:[],tarde:[],noite:[]};return v.jsxs("div",{className:"bg-slate-900/60 backdrop-blur-md border border-slate-800 rounded-xl overflow-hidden shadow-md",children:[v.jsx("div",{className:"bg-slate-950/50 p-3 border-b border-slate-800 flex justify-between items-center",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-lg font-bold text-slate-200",children:cg(p)}),v.jsx("span",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider bg-slate-900 px-2 py-1 rounded",children:g})]})}),v.jsx("div",{className:"p-4 grid md:grid-cols-3 gap-6 divide-y md:divide-y-0 md:divide-x divide-slate-800",children:Object.values(N1).map(A=>{const j=E[A.id]||[],$=T[A.id]||[],Y=Array.from(new Set([...j,...$])),F=o.filter(W=>Y.includes(W.id));return v.jsxs("div",{className:"pt-4 md:pt-0 md:pl-6 first:pl-0",children:[v.jsxs("h4",{className:`text-xs font-bold mb-3 flex items-center gap-2 uppercase tracking-wide ${A.color}`,children:[v.jsx(A.icon,{size:14})," ",A.label]}),v.jsxs("div",{className:"space-y-2",children:[F.map(W=>{const ie=j.includes(W.id),re=$.includes(W.id),ge=re&&!ie;return v.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border transition-all ${ge?"bg-amber-900/10 border-amber-500/30":"bg-slate-950/40 border-slate-800 hover:bg-slate-800/60"}`,children:[v.jsxs("div",{className:"text-sm truncate mr-2 flex flex-col",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("p",{className:`font-medium truncate ${ge?"text-amber-400":"text-slate-300"}`,children:W.nome}),ge&&v.jsx("div",{title:"Profissional removeu disponibilidade",className:"text-amber-500",children:v.jsx(Lh,{size:12})})]}),v.jsx("p",{className:"text-[10px] text-slate-500",children:W.categoria})]}),v.jsx("button",{onClick:()=>u(p,A.id,W.id),className:`px-3 py-1 text-[10px] uppercase rounded-md font-bold transition-all group shadow-sm ${re?"bg-emerald-900/30 text-emerald-400 border border-emerald-500/30 hover:bg-red-900/30 hover:text-red-400 hover:border-red-500/30 min-w-[70px]":"bg-slate-900 border border-slate-700 text-slate-400 hover:border-slate-500 hover:text-slate-200"}`,children:re?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"group-hover:hidden",children:"OK"}),v.jsx("span",{className:"hidden group-hover:inline",children:"Remover"})]}):"Aceitar"})]},W.id)}),F.length===0&&v.jsx("p",{className:"text-xs text-slate-600 italic py-1",children:"Ningum disponvel"})]})]},A.id)})})]},p)})})]}),uO=({mesAtual:r,dias:e,escala:n,usuarios:s,setView:o,usuarioLogado:u})=>{const[f,m]=U.useState(!1);U.useEffect(()=>{if(!document.getElementById("html2pdf-script")){const E=document.createElement("script");E.id="html2pdf-script",E.src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js",E.async=!0,document.body.appendChild(E)}},[]);const p=()=>{const E=document.getElementById("escala-pdf-content");if(!window.html2pdf){alert("A biblioteca de PDF ainda est carregando. Tente novamente em alguns segundos.");return}m(!0);const T={margin:2,filename:`Escala_CAPS_${r.toISOString().slice(0,7)}.pdf`,image:{type:"jpeg",quality:.95},html2canvas:{scale:3,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"landscape",compress:!0}};window.html2pdf().set(T).from(E).save().then(()=>{m(!1)})},g=()=>{setTimeout(()=>{window.print()},100)};return v.jsxs("div",{className:"print:p-0 animate-fade-in w-full",children:[v.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6 no-print gap-3",children:[v.jsxs("button",{onClick:()=>o(u?.admin?"coordenacao":"disponibilidade"),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors",children:[v.jsx(ru,{size:20})," Voltar"]}),u?.admin&&v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-slate-800 text-slate-300 px-4 py-2 rounded-lg hover:bg-slate-700 border border-slate-700 shadow-sm text-sm",children:[v.jsx(k4,{size:18})," Imprimir"]}),v.jsx("button",{onClick:p,disabled:f,className:`flex items-center gap-2 bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-500 border border-emerald-500 shadow-lg font-bold transition-all ${f?"opacity-70 cursor-wait":""}`,children:f?"Gerando...":v.jsxs(v.Fragment,{children:[v.jsx(y4,{size:18})," Baixar PDF"]})})]})]}),v.jsx("div",{className:"bg-white rounded-xl shadow-2xl border border-slate-200 overflow-hidden print:shadow-none print:border-none print:rounded-none",children:v.jsxs("div",{id:"escala-pdf-content",className:"bg-white p-6 text-slate-900 print-table-container print:p-0 print:w-full print:bg-white print:text-black",children:[v.jsxs("div",{className:"flex justify-between items-start mb-2 border-b pb-2 print:border-slate-400",children:[v.jsxs("div",{className:"text-left",children:[v.jsx("h2",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"ESCALA MENSAL"}),v.jsx("h3",{className:"text-base font-medium text-slate-700",children:"CAPS AD 3 - Mossor/RN"}),v.jsx("p",{className:"text-xs text-slate-500 mt-1 capitalize",children:r.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),v.jsxs("div",{className:"flex gap-4 text-[9px] text-slate-400 mt-2 uppercase tracking-wider font-semibold",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(ug,{size:8})," Manh"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(R1,{size:8})," Tarde"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(lg,{size:8})," Noite"]})]})]}),v.jsxs("div",{className:"text-right flex flex-col items-end mt-2",children:[v.jsx("div",{className:"w-48 border-b border-slate-400 mb-1 print:border-black"}),v.jsx("p",{className:"uppercase font-bold text-slate-500 print:text-black text-[10px]",children:"Coordenao CAPS AD 3"}),v.jsxs("p",{className:"text-[8px] text-slate-400 mt-1 print:text-slate-600",children:["Gerado em ",new Date().toLocaleDateString()]})]})]}),v.jsx("div",{className:"w-full overflow-x-auto print:overflow-visible",children:v.jsxs("table",{className:"w-full text-xs border-collapse print:w-full print-compact-text",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-slate-100 text-slate-700 print:bg-slate-200",children:[v.jsx("th",{className:"border p-1 w-16 text-center text-[10px] uppercase font-bold text-slate-500 print:text-black print:border-slate-400 print-compact-header",children:"Data"}),v.jsx("th",{className:"border p-1 w-1/3 text-orange-800 bg-orange-50 font-semibold text-center border-orange-200 print:border-slate-400 print:bg-white print:text-black print-compact-header",children:"Manh"}),v.jsx("th",{className:"border p-1 w-1/3 text-amber-800 bg-amber-50 font-semibold text-center border-amber-200 print:border-slate-400 print:bg-white print:text-black print-compact-header",children:"Tarde"}),v.jsx("th",{className:"border p-1 w-1/3 text-indigo-800 bg-indigo-50 font-semibold text-center border-indigo-200 print:border-slate-400 print:bg-white print:text-black print-compact-header",children:"Noite"})]})}),v.jsx("tbody",{children:e.map(E=>{const T=n[E]||{manha:[],tarde:[],noite:[]},A=hg(E),j=A==="Sb"||A==="Dom",$=Y=>!Y||Y.length===0?null:Y.map(F=>{const W=s.find(ie=>ie.id===F);return W?v.jsxs("div",{className:"inline-block bg-white border border-slate-300 rounded px-1.5 py-0 mr-1 mb-0.5 text-[10px] shadow-sm print:shadow-none print:border-slate-400 print-compact-badge",children:[v.jsx("span",{className:"font-bold text-slate-700 print:text-black",children:W.nome}),v.jsxs("span",{className:"text-[8px] text-slate-400 ml-1 print:text-slate-600",children:["(",W.categoria.substring(0,3),")"]})]},F):null});return v.jsxs("tr",{className:`border-b border-slate-200 print:border-slate-400 ${j?"bg-slate-50 print:bg-slate-100":"bg-white"}`,children:[v.jsxs("td",{className:"border border-slate-200 p-1 text-center print:border-slate-400 print-compact-cell",children:[v.jsx("div",{className:`font-bold text-sm ${j?"text-red-500 print:text-black":"text-slate-700 print:text-black"}`,children:cg(E).split("/")[0]}),v.jsx("div",{className:"text-[8px] uppercase font-bold text-slate-400 print:text-slate-600",children:A})]}),v.jsx("td",{className:"border border-slate-200 p-1 align-top print:border-slate-400 print-compact-cell",children:$(T.manha)}),v.jsx("td",{className:"border border-slate-200 p-1 align-top print:border-slate-400 print-compact-cell",children:$(T.tarde)}),v.jsx("td",{className:"border border-slate-200 p-1 align-top print:border-slate-400 print-compact-cell",children:$(T.noite)})]},E)})})]})})]})})]})},cO=()=>{const r=ou(),[e,n]=U.useState(Om),[s,o]=U.useState({}),[u,f]=U.useState({}),[m,p]=U.useState(null),[g,E]=U.useState(null),[T,A]=U.useState(new Date),[j,$]=U.useState({open:!1,titulo:"",mensagem:""}),[Y,F]=U.useState({open:!1,id:null,nome:""}),[W,ie]=U.useState({open:!1,erro:""}),[re,ge]=U.useState("login");U.useEffect(()=>{const P=so(wn,"escala_usuarios"),ne=lp(P,he=>{const de=he.docs.map(xe=>({id:xe.id,...xe.data()}));de.length>0?(de.find(O=>O.admin)||de.push(Om[0]),n(de)):n(Om)});return()=>ne()},[]),U.useEffect(()=>{const P=so(wn,"escala_registros"),ne=lp(P,he=>{let de={},xe={};he.docs.forEach(O=>{const X=O.data();O.id==="disponibilidades"&&(de=X.dados||{}),O.id==="escala"&&(xe=X.dados||{})}),o(de),f(xe)});return()=>ne()},[]);const ke=async P=>{const ne=`user_${Date.now()}`,he={...P,id:ne};try{await Nm(ls(wn,"escala_usuarios",ne),he),ge("login")}catch(de){console.error("Erro ao salvar usurio:",de)}},Ie=async()=>{if(Y.id)try{await m1(ls(wn,"escala_usuarios",Y.id)),F({open:!1,id:null,nome:""})}catch(P){console.error("Erro ao remover usurio:",P)}},I=async P=>{try{await Nm(ls(wn,"escala_registros","disponibilidades"),{dados:P},{merge:!0})}catch(ne){console.error("Erro ao salvar disponibilidade:",ne)}},x=async P=>{try{await Nm(ls(wn,"escala_registros","escala"),{dados:P},{merge:!0})}catch(ne){console.error("Erro ao salvar escala:",ne)}},R=eO(T),V=(P,ne)=>{F({open:!0,id:P,nome:ne})},D=P=>{P.admin?(E(P),ie({open:!0,erro:""})):(p(P),ge("disponibilidade"))},k=P=>{P==="escala"?(p(g),ge("coordenacao"),ie({open:!1,erro:""}),E(null)):ie(ne=>({...ne,erro:"Senha incorreta."}))},C=(P,ne)=>{if(!m)return;if(u[P]?.[ne]?.includes(m.id)){$({open:!0,titulo:"Alterao Bloqueada",mensagem:"Voc j est confirmado neste planto."});return}const de={...s};de[P]||(de[P]={manha:[],tarde:[],noite:[]});const xe=de[P][ne]||[];xe.includes(m.id)?de[P][ne]=xe.filter(O=>O!==m.id):de[P][ne]=[...xe,m.id],o(de),I(de)},at=(P,ne,he)=>{const de={...u};de[P]||(de[P]={manha:[],tarde:[],noite:[]});const xe=de[P][ne]||[];xe.includes(he)?de[P][ne]=xe.filter(O=>O!==he):de[P][ne]=[...xe,he],f(de),x(de)},mt=P=>{const ne=new Date(T);ne.setMonth(ne.getMonth()+P),A(ne)};return v.jsxs(v.Fragment,{children:[v.jsx(W4,{}),v.jsxs("div",{className:"min-h-screen bg-slate-950 font-sans text-slate-200 pb-10 relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-[50vh] bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-900/20 via-slate-950 to-slate-950 pointer-events-none"}),v.jsx("div",{className:"max-w-6xl mx-auto px-4 pt-4 relative z-10 no-print",children:v.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-slate-500 hover:text-white transition-colors mb-2",children:[v.jsx(ru,{size:14})," Voltar ao Menu"]})}),v.jsx(tO,{modalAviso:j,onClose:()=>$({...j,open:!1})}),v.jsx(nO,{modal:Y,onConfirm:Ie,onCancel:()=>F({open:!1,id:null,nome:""})}),v.jsx(iO,{modal:W,setModal:ie,onConfirm:k}),v.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 relative z-10 print:max-w-none print:p-0",children:[m&&v.jsx(rO,{usuarioLogado:m,onLogout:()=>{p(null),ge("login")}}),v.jsxs("main",{children:[re==="login"&&v.jsx(sO,{usuarios:e,onLoginRequest:D,setView:ge,solicitarRemocao:V}),re==="cadastro"&&v.jsx(aO,{adicionarUsuario:ke,setView:ge}),re==="disponibilidade"&&v.jsx(oO,{mesAtual:T,dias:R,disponibilidades:s,escala:u,usuarioLogado:m,toggleDisponibilidade:C,mudarMes:mt,setView:ge}),re==="coordenacao"&&v.jsx(lO,{mesAtual:T,dias:R,disponibilidades:s,escala:u,usuarios:e,definirEscalado:at,mudarMes:mt,setView:ge}),re==="escala_publica"&&v.jsx(uO,{mesAtual:T,dias:R,escala:u,usuarios:e,setView:ge,usuarioLogado:m})]})]})]})]})},hO=()=>{const[r,e]=U.useState(""),[n,s]=U.useState(""),[o,u]=U.useState(""),[f,m]=U.useState(!1),p=async g=>{g.preventDefault(),m(!0),u("");try{await ER(bo,r,n)}catch{u("Acesso negado. Verifique suas credenciais.")}finally{m(!1)}};return v.jsxs("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4 relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-900/20 via-slate-950 to-slate-950 pointer-events-none"}),v.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md p-8 rounded-2xl shadow-2xl w-full max-w-md border border-slate-800 relative z-10",children:[v.jsxs("div",{className:"flex flex-col items-center mb-8",children:[v.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-teal-500 rounded-xl flex items-center justify-center shadow-lg mb-4",children:v.jsx(y1,{size:32,className:"text-white"})}),v.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:"Portal CAPS AD III"}),v.jsx("p",{className:"text-slate-400 text-sm",children:"Acesso Restrito  Equipe"})]}),v.jsxs("form",{onSubmit:p,className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-slate-400 text-xs font-bold uppercase tracking-wider mb-2",children:"E-mail Institucional"}),v.jsx("input",{type:"email",required:!0,className:"w-full p-3 rounded-lg bg-slate-950 text-white border border-slate-700 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all",value:r,onChange:g=>e(g.target.value),placeholder:"seu.nome@caps.com"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-slate-400 text-xs font-bold uppercase tracking-wider mb-2",children:"Senha"}),v.jsx("input",{type:"password",required:!0,className:"w-full p-3 rounded-lg bg-slate-950 text-white border border-slate-700 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all",value:n,onChange:g=>s(g.target.value),placeholder:""})]}),o&&v.jsxs("div",{className:"bg-red-500/10 text-red-400 p-3 rounded-lg text-sm border border-red-500/20 flex items-center gap-2",children:[v.jsx(Lh,{size:16})," ",o]}),v.jsx("button",{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 text-white font-bold py-3.5 rounded-lg transition-all shadow-lg shadow-blue-900/20 disabled:opacity-70 disabled:cursor-not-allowed transform active:scale-[0.98]",children:f?"Validando Acesso...":"Entrar no Sistema"})]})]})]})},fO=()=>{const r=ou(),[e,n]=U.useState(bo.currentUser);return v.jsxs("div",{className:"min-h-screen bg-slate-950 text-white relative overflow-hidden flex flex-col",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-[50vh] bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-900/20 via-slate-950 to-slate-950 pointer-events-none"}),v.jsxs("header",{className:"relative z-10 px-6 py-4 flex justify-between items-center border-b border-slate-800/50 bg-slate-900/50 backdrop-blur-sm",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:v.jsx(y1,{size:18,className:"text-white"})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-sm font-bold leading-none text-slate-200",children:"CAPS AD III"}),v.jsx("p",{className:"text-[10px] text-slate-500 font-medium",children:"Mossor / RN"})]})]}),v.jsxs("button",{onClick:()=>SR(bo),className:"flex items-center gap-2 text-xs font-bold text-slate-400 hover:text-red-400 transition-colors bg-slate-800/50 px-3 py-1.5 rounded-full border border-slate-700 hover:border-red-900/50",children:[v.jsx(S1,{size:14})," Sair"]})]}),v.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-6 relative z-10 animate-fade-in",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h2",{className:"text-slate-400 text-sm font-medium uppercase tracking-widest mb-2",children:"Portal de Gesto Unificada"}),v.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-white to-slate-400 mb-4",children:"Bem-vindo ao Sistema"}),v.jsx("p",{className:"text-slate-500 max-w-lg mx-auto",children:"Selecione abaixo o mdulo que deseja acessar."})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6 w-full max-w-4xl",children:[v.jsxs("button",{onClick:()=>r("/agendamento"),className:"group relative bg-slate-900/50 hover:bg-slate-800/80 border border-slate-800 hover:border-blue-500/50 p-8 rounded-2xl transition-all duration-300 hover:shadow-2xl hover:shadow-blue-900/10 flex flex-col items-center text-center overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),v.jsx("div",{className:"relative bg-slate-800 p-5 rounded-2xl mb-6 group-hover:scale-110 transition-transform duration-300 border border-slate-700 group-hover:border-blue-500/30 group-hover:bg-blue-500/10",children:v.jsx(_1,{size:48,className:"text-blue-400 group-hover:text-blue-300"})}),v.jsx("h3",{className:"relative text-2xl font-bold text-slate-100 mb-2 group-hover:text-white",children:"Agendamento de Grupos"}),v.jsx("p",{className:"relative text-slate-400 text-sm leading-relaxed group-hover:text-slate-300",children:"Gerencie atividades teraputicas, horrios, salas e profissionais responsveis pelos grupos."}),v.jsx("div",{className:"mt-6 flex items-center text-blue-500 text-sm font-bold opacity-0 group-hover:opacity-100 transition-all translate-y-2 group-hover:translate-y-0",children:"Acessar Mdulo "})]}),v.jsxs("button",{onClick:()=>r("/escala"),className:"group relative bg-slate-900/50 hover:bg-slate-800/80 border border-slate-800 hover:border-emerald-500/50 p-8 rounded-2xl transition-all duration-300 hover:shadow-2xl hover:shadow-emerald-900/10 flex flex-col items-center text-center overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-emerald-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),v.jsx("div",{className:"relative bg-slate-800 p-5 rounded-2xl mb-6 group-hover:scale-110 transition-transform duration-300 border border-slate-700 group-hover:border-emerald-500/30 group-hover:bg-emerald-500/10",children:v.jsx(ff,{size:48,className:"text-emerald-400 group-hover:text-emerald-300"})}),v.jsx("h3",{className:"relative text-2xl font-bold text-slate-100 mb-2 group-hover:text-white",children:"Escala da Equipe"}),v.jsx("p",{className:"relative text-slate-400 text-sm leading-relaxed group-hover:text-slate-300",children:"Controle de plantes, disponibilidade dos profissionais e gerao de escalas em PDF."}),v.jsx("div",{className:"mt-6 flex items-center text-emerald-500 text-sm font-bold opacity-0 group-hover:opacity-100 transition-all translate-y-2 group-hover:translate-y-0",children:"Acessar Mdulo "})]})]})]}),v.jsx("footer",{className:"p-6 text-center text-[10px] text-slate-600 uppercase tracking-widest relative z-10",children:"Sistema Integrado CAPS AD III  Mossor/RN  2025"})]})},Mm=({children:r})=>{const[e,n]=U.useState(null),[s,o]=U.useState(!0);return U.useEffect(()=>Ap(bo,f=>{n(f),o(!1)}),[]),s?v.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-white",children:v.jsx("div",{className:"animate-pulse",children:"Carregando Portal..."})}):e?r:v.jsx(Lb,{to:"/"})};function dO(){const[r,e]=U.useState(null),[n,s]=U.useState(!0);return U.useEffect(()=>Ap(bo,u=>{e(u),s(!1)}),[]),n?null:v.jsx(Dx,{children:v.jsxs(lx,{children:[v.jsx(kl,{path:"/",element:r?v.jsx(Lb,{to:"/dashboard"}):v.jsx(hO,{})}),v.jsx(kl,{path:"/dashboard",element:v.jsx(Mm,{children:v.jsx(fO,{})})}),v.jsx(kl,{path:"/agendamento",element:v.jsx(Mm,{children:v.jsx(Z4,{})})}),v.jsx(kl,{path:"/escala",element:v.jsx(Mm,{children:v.jsx(cO,{})})})]})})}yS.createRoot(document.getElementById("root")).render(v.jsx(U.StrictMode,{children:v.jsx(dO,{})}));
