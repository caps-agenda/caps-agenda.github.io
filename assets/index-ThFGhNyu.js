(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Md={exports:{}},Sl={};var j_;function B1(){if(j_)return Sl;j_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return Sl.Fragment=t,Sl.jsx=i,Sl.jsxs=i,Sl}var B_;function q1(){return B_||(B_=1,Md.exports=B1()),Md.exports}var I=q1(),Vd={exports:{}},At={};var q_;function H1(){if(q_)return At;q_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.iterator;function Q(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,J={};function gt(M,H,tt){this.props=M,this.context=H,this.refs=J,this.updater=tt||Z}gt.prototype.isReactComponent={},gt.prototype.setState=function(M,H){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,H,"setState")},gt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function bt(){}bt.prototype=gt.prototype;function yt(M,H,tt){this.props=M,this.context=H,this.refs=J,this.updater=tt||Z}var Jt=yt.prototype=new bt;Jt.constructor=yt,nt(Jt,gt.prototype),Jt.isPureReactComponent=!0;var Qt=Array.isArray;function Ot(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(M,H,tt){var rt=tt.ref;return{$$typeof:r,type:M,key:H,ref:rt!==void 0?rt:null,props:tt}}function V(M,H){return C(M.type,H,M.props)}function x(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var H={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(tt){return H[tt]})}var w=/\/+/g;function he(M,H){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):H.toString(36)}function Te(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ot,Ot):(M.status="pending",M.then(function(H){M.status==="pending"&&(M.status="fulfilled",M.value=H)},function(H){M.status==="pending"&&(M.status="rejected",M.reason=H)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,H,tt,rt,_t){var ht=typeof M;(ht==="undefined"||ht==="boolean")&&(M=null);var Dt=!1;if(M===null)Dt=!0;else switch(ht){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(M.$$typeof){case r:case t:Dt=!0;break;case b:return Dt=M._init,F(Dt(M._payload),H,tt,rt,_t)}}if(Dt)return _t=_t(M),Dt=rt===""?"."+he(M,0):rt,Qt(_t)?(tt="",Dt!=null&&(tt=Dt.replace(w,"$&/")+"/"),F(_t,H,tt,"",function(Hi){return Hi})):_t!=null&&(x(_t)&&(_t=V(_t,tt+(_t.key==null||M&&M.key===_t.key?"":(""+_t.key).replace(w,"$&/")+"/")+Dt)),H.push(_t)),1;Dt=0;var Se=rt===""?".":rt+":";if(Qt(M))for(var fe=0;fe<M.length;fe++)rt=M[fe],ht=Se+he(rt,fe),Dt+=F(rt,H,tt,ht,_t);else if(fe=Q(M),typeof fe=="function")for(M=fe.call(M),fe=0;!(rt=M.next()).done;)rt=rt.value,ht=Se+he(rt,fe++),Dt+=F(rt,H,tt,ht,_t);else if(ht==="object"){if(typeof M.then=="function")return F(Te(M),H,tt,rt,_t);throw H=String(M),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function et(M,H,tt){if(M==null)return M;var rt=[],_t=0;return F(M,rt,"","",function(ht){return H.call(tt,ht,_t++)}),rt}function lt(M){if(M._status===-1){var H=M._result;H=H(),H.then(function(tt){(M._status===0||M._status===-1)&&(M._status=1,M._result=tt)},function(tt){(M._status===0||M._status===-1)&&(M._status=2,M._result=tt)}),M._status===-1&&(M._status=0,M._result=H)}if(M._status===1)return M._result.default;throw M._result}var Bt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},$t={map:et,forEach:function(M,H,tt){et(M,function(){H.apply(this,arguments)},tt)},count:function(M){var H=0;return et(M,function(){H++}),H},toArray:function(M){return et(M,function(H){return H})||[]},only:function(M){if(!x(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return At.Activity=A,At.Children=$t,At.Component=gt,At.Fragment=i,At.Profiler=l,At.PureComponent=yt,At.StrictMode=s,At.Suspense=g,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,At.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},At.cache=function(M){return function(){return M.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(M,H,tt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=nt({},M.props),_t=M.key;if(H!=null)for(ht in H.key!==void 0&&(_t=""+H.key),H)!S.call(H,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&H.ref===void 0||(rt[ht]=H[ht]);var ht=arguments.length-2;if(ht===1)rt.children=tt;else if(1<ht){for(var Dt=Array(ht),Se=0;Se<ht;Se++)Dt[Se]=arguments[Se+2];rt.children=Dt}return C(M.type,_t,rt)},At.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},At.createElement=function(M,H,tt){var rt,_t={},ht=null;if(H!=null)for(rt in H.key!==void 0&&(ht=""+H.key),H)S.call(H,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=H[rt]);var Dt=arguments.length-2;if(Dt===1)_t.children=tt;else if(1<Dt){for(var Se=Array(Dt),fe=0;fe<Dt;fe++)Se[fe]=arguments[fe+2];_t.children=Se}if(M&&M.defaultProps)for(rt in Dt=M.defaultProps,Dt)_t[rt]===void 0&&(_t[rt]=Dt[rt]);return C(M,ht,_t)},At.createRef=function(){return{current:null}},At.forwardRef=function(M){return{$$typeof:p,render:M}},At.isValidElement=x,At.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:lt}},At.memo=function(M,H){return{$$typeof:_,type:M,compare:H===void 0?null:H}},At.startTransition=function(M){var H=N.T,tt={};N.T=tt;try{var rt=M(),_t=N.S;_t!==null&&_t(tt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ot,Bt)}catch(ht){Bt(ht)}finally{H!==null&&tt.types!==null&&(H.types=tt.types),N.T=H}},At.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},At.use=function(M){return N.H.use(M)},At.useActionState=function(M,H,tt){return N.H.useActionState(M,H,tt)},At.useCallback=function(M,H){return N.H.useCallback(M,H)},At.useContext=function(M){return N.H.useContext(M)},At.useDebugValue=function(){},At.useDeferredValue=function(M,H){return N.H.useDeferredValue(M,H)},At.useEffect=function(M,H){return N.H.useEffect(M,H)},At.useEffectEvent=function(M){return N.H.useEffectEvent(M)},At.useId=function(){return N.H.useId()},At.useImperativeHandle=function(M,H,tt){return N.H.useImperativeHandle(M,H,tt)},At.useInsertionEffect=function(M,H){return N.H.useInsertionEffect(M,H)},At.useLayoutEffect=function(M,H){return N.H.useLayoutEffect(M,H)},At.useMemo=function(M,H){return N.H.useMemo(M,H)},At.useOptimistic=function(M,H){return N.H.useOptimistic(M,H)},At.useReducer=function(M,H,tt){return N.H.useReducer(M,H,tt)},At.useRef=function(M){return N.H.useRef(M)},At.useState=function(M){return N.H.useState(M)},At.useSyncExternalStore=function(M,H,tt){return N.H.useSyncExternalStore(M,H,tt)},At.useTransition=function(){return N.H.useTransition()},At.version="19.2.0",At}var H_;function Im(){return H_||(H_=1,Vd.exports=H1()),Vd.exports}var se=Im(),kd={exports:{}},wl={},Ld={exports:{}},Pd={};var F_;function F1(){return F_||(F_=1,(function(r){function t(F,et){var lt=F.length;F.push(et);t:for(;0<lt;){var Bt=lt-1>>>1,$t=F[Bt];if(0<l($t,et))F[Bt]=et,F[lt]=$t,lt=Bt;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var et=F[0],lt=F.pop();if(lt!==et){F[0]=lt;t:for(var Bt=0,$t=F.length,M=$t>>>1;Bt<M;){var H=2*(Bt+1)-1,tt=F[H],rt=H+1,_t=F[rt];if(0>l(tt,lt))rt<$t&&0>l(_t,tt)?(F[Bt]=_t,F[rt]=lt,Bt=rt):(F[Bt]=tt,F[H]=lt,Bt=H);else if(rt<$t&&0>l(_t,lt))F[Bt]=_t,F[rt]=lt,Bt=rt;else break t}}return et}function l(F,et){var lt=F.sortIndex-et.sortIndex;return lt!==0?lt:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var g=[],_=[],b=1,A=null,D=3,Q=!1,Z=!1,nt=!1,J=!1,gt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Jt(F){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=F)s(_),et.sortIndex=et.expirationTime,t(g,et);else break;et=i(_)}}function Qt(F){if(nt=!1,Jt(F),!Z)if(i(g)!==null)Z=!0,Ot||(Ot=!0,L());else{var et=i(_);et!==null&&Te(Qt,et.startTime-F)}}var Ot=!1,N=-1,S=5,C=-1;function V(){return J?!0:!(r.unstable_now()-C<S)}function x(){if(J=!1,Ot){var F=r.unstable_now();C=F;var et=!0;try{t:{Z=!1,nt&&(nt=!1,bt(N),N=-1),Q=!0;var lt=D;try{e:{for(Jt(F),A=i(g);A!==null&&!(A.expirationTime>F&&V());){var Bt=A.callback;if(typeof Bt=="function"){A.callback=null,D=A.priorityLevel;var $t=Bt(A.expirationTime<=F);if(F=r.unstable_now(),typeof $t=="function"){A.callback=$t,Jt(F),et=!0;break e}A===i(g)&&s(g),Jt(F)}else s(g);A=i(g)}if(A!==null)et=!0;else{var M=i(_);M!==null&&Te(Qt,M.startTime-F),et=!1}}break t}finally{A=null,D=lt,Q=!1}et=void 0}}finally{et?L():Ot=!1}}}var L;if(typeof yt=="function")L=function(){yt(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,he=w.port2;w.port1.onmessage=x,L=function(){he.postMessage(null)}}else L=function(){gt(x,0)};function Te(F,et){N=gt(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(F){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var lt=D;D=et;try{return F()}finally{D=lt}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var lt=D;D=F;try{return et()}finally{D=lt}},r.unstable_scheduleCallback=function(F,et,lt){var Bt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Bt+lt:Bt):lt=Bt,F){case 1:var $t=-1;break;case 2:$t=250;break;case 5:$t=1073741823;break;case 4:$t=1e4;break;default:$t=5e3}return $t=lt+$t,F={id:b++,callback:et,priorityLevel:F,startTime:lt,expirationTime:$t,sortIndex:-1},lt>Bt?(F.sortIndex=lt,t(_,F),i(g)===null&&F===i(_)&&(nt?(bt(N),N=-1):nt=!0,Te(Qt,lt-Bt))):(F.sortIndex=$t,t(g,F),Z||Q||(Z=!0,Ot||(Ot=!0,L()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var et=D;return function(){var lt=D;D=et;try{return F.apply(this,arguments)}finally{D=lt}}}})(Pd)),Pd}var G_;function G1(){return G_||(G_=1,Ld.exports=F1()),Ld.exports}var Ud={exports:{}},ln={};var Q_;function Q1(){if(Q_)return ln;Q_=1;var r=Im();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(g,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(g,_,null,b)},ln.flushSync=function(g){var _=d.T,b=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=_,s.p=b,s.d.f()}},ln.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(g,_))},ln.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},ln.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?s.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:Q}):b==="script"&&s.d.X(g,{crossOrigin:A,integrity:D,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},ln.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(g)},ln.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin);s.d.L(g,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},ln.preloadModule=function(g,_){if(typeof g=="string")if(_){var b=p(_.as,_.crossOrigin);s.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(g)},ln.requestFormReset=function(g){s.d.r(g)},ln.unstable_batchedUpdates=function(g,_){return g(_)},ln.useFormState=function(g,_,b){return d.H.useFormState(g,_,b)},ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},ln.version="19.2.0",ln}var K_;function K1(){if(K_)return Ud.exports;K_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ud.exports=Q1(),Ud.exports}var Y_;function Y1(){if(Y_)return wl;Y_=1;var r=G1(),t=Im(),i=K1();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Jt=Symbol.for("react.forward_ref"),Qt=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function he(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case gt:return"Profiler";case J:return"StrictMode";case Qt:return"Suspense";case Ot:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case yt:return e.displayName||"Context";case bt:return(e._context.displayName||"Context")+".Consumer";case Jt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:he(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return he(e(n))}catch{}}return null}var Te=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Bt=[],$t=-1;function M(e){return{current:e}}function H(e){0>$t||(e.current=Bt[$t],Bt[$t]=null,$t--)}function tt(e,n){$t++,Bt[$t]=e.current,e.current=n}var rt=M(null),_t=M(null),ht=M(null),Dt=M(null);function Se(e,n){switch(tt(ht,n),tt(_t,e),tt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?u_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=u_(n),e=c_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(rt),tt(rt,e)}function fe(){H(rt),H(_t),H(ht)}function Hi(e){e.memoizedState!==null&&tt(Dt,e);var n=rt.current,a=c_(n,e.type);n!==a&&(tt(_t,e),tt(rt,a))}function yr(e){_t.current===e&&(H(rt),H(_t)),Dt.current===e&&(H(Dt),El._currentValue=lt)}var hi,_r;function kn(e){if(hi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);hi=n&&n[1]||"",_r=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hi+e+_r}var Es=!1;function $n(e,n){if(!e||Es)return"";Es=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Es=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?kn(a):""}function Fi(e,n){switch(e.tag){case 26:case 27:case 5:return kn(e.type);case 16:return kn("Lazy");case 13:return e.child!==n&&n!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return $n(e.type,!1);case 11:return $n(e.type.render,!1);case 1:return $n(e.type,!0);case 31:return kn("Activity");default:return""}}function Ts(e){try{var n="",a=null;do n+=Fi(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var be=Object.prototype.hasOwnProperty,Ie=r.unstable_scheduleCallback,fi=r.unstable_cancelCallback,So=r.unstable_shouldYield,at=r.unstable_requestPaint,ut=r.unstable_now,Rt=r.unstable_getCurrentPriorityLevel,Ht=r.unstable_ImmediatePriority,mt=r.unstable_UserBlockingPriority,Ft=r.unstable_NormalPriority,Nt=r.unstable_LowPriority,Wt=r.unstable_IdlePriority,wt=r.log,ye=r.unstable_setDisableYieldValue,ee=null,kt=null;function Je(e){if(typeof wt=="function"&&ye(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(ee,e)}catch{}}var _e=Math.clz32?Math.clz32:au,ca=Math.log,ha=Math.LN2;function au(e){return e>>>=0,e===0?32:31-(ca(e)/ha|0)|0}var di=256,bs=262144,Me=4194304;function mi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gi(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=mi(o):(y&=E,y!==0?h=mi(y):a||(a=E&~e,a!==0&&(h=mi(a))))):(E=o&~f,E!==0?h=mi(E):y!==0?h=mi(y):a||(a=o&~e,a!==0&&(h=mi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Lh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var e=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),e}function pi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function As(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ph(e,n,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=y&~a;0<a;){var G=31-_e(a),Y=1<<G;E[G]=0,R[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}a&=~Y}o!==0&&Ss(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function Ss(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-_e(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function wo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-_e(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Ro(e,n){var a=n&-n;return a=(a&42)!==0?1:ws(a),(a&(e.suspendedLanes|n))!==0?0:a}function ws(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:M_(e.type))}function Zn(e,n){var a=et.p;try{return et.p=e,n()}finally{et.p=a}}var Jn=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Jn,Ye="__reactProps$"+Jn,yi="__reactContainer$"+Jn,fa="__reactEvents$"+Jn,Uh="__reactListeners$"+Jn,uu="__reactHandles$"+Jn,cu="__reactResources$"+Jn,_i="__reactMarker$"+Jn;function da(e){delete e[Ve],delete e[Ye],delete e[fa],delete e[Uh],delete e[uu]}function vi(e){var n=e[Ve];if(n)return n;for(var a=e.parentNode;a;){if(n=a[yi]||a[Ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=y_(e);e!==null;){if(a=e[Ve])return a;e=y_(e)}return n}e=a,a=e.parentNode}return null}function Ln(e){if(e=e[Ve]||e[yi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Sn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Ei(e){var n=e[cu];return n||(n=e[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ke(e){e[_i]=!0}var Io=new Set,Co={};function Ti(e,n){bi(e,n),bi(e+"Capture",n)}function bi(e,n){for(Co[e]=n,e=0;e<n.length;e++)Io.add(n[e])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Do={};function hu(e){return be.call(Do,e)?!0:be.call(xo,e)?!1:No.test(e)?Do[e]=!0:(xo[e]=!0,!1)}function ma(e,n,a){if(hu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function wn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Le(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ne(e){if(!e._valueTracker){var n=vr(e)?"checked":"value";e._valueTracker=Oo(e,n,""+e[n])}}function Rs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=vr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Is=/[\n"\\]/g;function gn(e){return e.replace(Is,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ga(e,n,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+$e(n)):e.value!==""+$e(n)&&(e.value=""+$e(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Mo(e,y,$e(n)):a!=null?Mo(e,y,$e(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+$e(E):e.removeAttribute("name")}function fu(e,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ne(e);return}a=a!=null?""+$e(a):"",n=n!=null?""+$e(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),ne(e)}function Mo(e,n,a){n==="number"&&Ai(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Er(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+$e(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function du(e,n,a){if(n!=null&&(n=""+$e(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+$e(a):""}function Tr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(Te(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=$e(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),ne(e)}function pn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||mu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function ko(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Vo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Vo(e,f,n[f])}function pa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(e){return br.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wn(){}var Lo=null;function Pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ar=null,Si=null;function Cs(e){var n=Ln(e);if(n&&(e=n.stateNode)){var a=e[Ye]||null;t:switch(e=n.stateNode,n.type){case"input":if(ga(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Ye]||null;if(!h)throw Error(s(90));ga(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Rs(o)}break t;case"textarea":du(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Er(e,!!a.multiple,n,!1)}}}var _a=!1;function Sr(e,n,a){if(_a)return e(n,a);_a=!0;try{var o=e(n);return o}finally{if(_a=!1,(Ar!==null||Si!==null)&&(lc(),Ar&&(n=Ar,e=Si,Si=Ar=null,Cs(n),e)))for(n=0;n<e.length;n++)Cs(e[n])}}function ti(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ye]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ns=!1;if(Un)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{Ns=!1}var wi=null,Po=null,xs=null;function Uo(){if(xs)return xs;var e,n=Po,a=n.length,o,h="value"in wi?wi.value:wi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return xs=h.slice(e,1<o?1-o:void 0)}function Ds(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qi(){return!0}function ei(){return!1}function We(e){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qi:ei,this.isPropagationStopped=ei,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),n}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=We(Ki),wr=A({},Ki,{view:0,detail:0}),zo=We(wr),Rr,va,Ii,Ea=A({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(Rr=e.screenX-Ii.screenX,va=e.screenY-Ii.screenY):va=Rr=0,Ii=e),Rr)},movementY:function(e){return"movementY"in e?e.movementY:va}}),jo=We(Ea),Os=A({},Ea,{dataTransfer:0}),pu=We(Os),yu=A({},wr,{relatedTarget:0}),Ms=We(yu),Bo=A({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=We(Bo),Ta=A({},Ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vu=We(Ta),Eu=A({},Ki,{data:0}),Ci=We(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Au[e])?!!n[e]:!1}function Ir(){return Su}var dn=A({},wr,{key:function(e){if(e.key){var n=Tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(e){return e.type==="keypress"?Ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wu=We(dn),Ru=A({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=We(Ru),u=A({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),m=We(u),v=A({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=We(v),P=A({},Ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=We(P),W=A({},Ki,{newState:0,oldState:0}),It=We(W),Ce=[9,13,27,32],Xt=Un&&"CompositionEvent"in window,ve=null;Un&&"documentMode"in document&&(ve=document.documentMode);var zn=Un&&"TextEvent"in window&&!ve,Ni=Un&&(!Xt||ve&&8<ve&&11>=ve),ni=" ",ii=!1;function Vs(e,n){switch(e){case"keyup":return Ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Aa=!1;function hb(e,n){switch(e){case"compositionend":return ba(n);case"keypress":return n.which!==32?null:(ii=!0,ni);case"textInput":return e=n.data,e===ni&&ii?null:e;default:return null}}function fb(e,n){if(Aa)return e==="compositionend"||!Xt&&Vs(e,n)?(e=Uo(),xs=Po=wi=null,Aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ni&&n.locale!=="ko"?null:n.data;default:return null}}var db={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!db[e.type]:n==="textarea"}function Tg(e,n,a,o){Ar?Si?Si.push(o):Si=[o]:Ar=o,n=gc(n,"onChange"),0<n.length&&(a=new Ri("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var qo=null,Ho=null;function mb(e){i_(e,0)}function Iu(e){var n=Sn(e);if(Rs(n))return e}function bg(e,n){if(e==="change")return n}var Ag=!1;if(Un){var zh;if(Un){var jh="oninput"in document;if(!jh){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),jh=typeof Sg.oninput=="function"}zh=jh}else zh=!1;Ag=zh&&(!document.documentMode||9<document.documentMode)}function wg(){qo&&(qo.detachEvent("onpropertychange",Rg),Ho=qo=null)}function Rg(e){if(e.propertyName==="value"&&Iu(Ho)){var n=[];Tg(n,Ho,e,Pn(e)),Sr(mb,n)}}function gb(e,n,a){e==="focusin"?(wg(),qo=n,Ho=a,qo.attachEvent("onpropertychange",Rg)):e==="focusout"&&wg()}function pb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iu(Ho)}function yb(e,n){if(e==="click")return Iu(n)}function _b(e,n){if(e==="input"||e==="change")return Iu(n)}function vb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Rn=typeof Object.is=="function"?Object.is:vb;function Fo(e,n){if(Rn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!be.call(n,h)||!Rn(e[h],n[h]))return!1}return!0}function Ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cg(e,n){var a=Ig(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ig(a)}}function Ng(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ng(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function xg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ai(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Ai(e.document)}return n}function Bh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Eb=Un&&"documentMode"in document&&11>=document.documentMode,Sa=null,qh=null,Go=null,Hh=!1;function Dg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hh||Sa==null||Sa!==Ai(o)||(o=Sa,"selectionStart"in o&&Bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Go&&Fo(Go,o)||(Go=o,o=gc(qh,"onSelect"),0<o.length&&(n=new Ri("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Sa)))}function ks(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var wa={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Fh={},Og={};Un&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Ls(e){if(Fh[e])return Fh[e];if(!wa[e])return e;var n=wa[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Og)return Fh[e]=n[a];return e}var Mg=Ls("animationend"),Vg=Ls("animationiteration"),kg=Ls("animationstart"),Tb=Ls("transitionrun"),bb=Ls("transitionstart"),Ab=Ls("transitioncancel"),Lg=Ls("transitionend"),Pg=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function ri(e,n){Pg.set(e,n),Ti(n,[e])}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],Ra=0,Qh=0;function Nu(){for(var e=Ra,n=Qh=Ra=0;n<e;){var a=jn[n];jn[n++]=null;var o=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var f=jn[n];if(jn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Ug(a,h,f)}}function xu(e,n,a,o){jn[Ra++]=e,jn[Ra++]=n,jn[Ra++]=a,jn[Ra++]=o,Qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Kh(e,n,a,o){return xu(e,n,a,o),Du(e)}function Ps(e,n){return xu(e,null,null,n),Du(e)}function Ug(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-_e(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Du(e){if(50<dl)throw dl=0,id=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ia={};function Sb(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,n,a,o){return new Sb(e,n,a,o)}function Yh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $i(e,n){var a=e.alternate;return a===null?(a=In(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function zg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ou(e,n,a,o,h,f){var y=0;if(o=e,typeof e=="function")Yh(e)&&(y=1);else if(typeof e=="string")y=N1(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=In(31,a,n,h),e.elementType=C,e.lanes=f,e;case nt:return Us(a.children,h,f,n);case J:y=8,h|=24;break;case gt:return e=In(12,a,n,h|2),e.elementType=gt,e.lanes=f,e;case Qt:return e=In(13,a,n,h),e.elementType=Qt,e.lanes=f,e;case Ot:return e=In(19,a,n,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:y=10;break t;case bt:y=9;break t;case Jt:y=11;break t;case N:y=14;break t;case S:y=16,o=null;break t}y=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=In(y,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Us(e,n,a,o){return e=In(7,e,o,n),e.lanes=a,e}function $h(e,n,a){return e=In(6,e,null,n),e.lanes=a,e}function jg(e){var n=In(18,null,null,0);return n.stateNode=e,n}function Xh(e,n,a){return n=In(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Bg=new WeakMap;function Bn(e,n){if(typeof e=="object"&&e!==null){var a=Bg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ts(n)},Bg.set(e,n),n)}return{value:e,source:n,stack:Ts(n)}}var Ca=[],Na=0,Mu=null,Qo=0,qn=[],Hn=0,Cr=null,xi=1,Di="";function Xi(e,n){Ca[Na++]=Qo,Ca[Na++]=Mu,Mu=e,Qo=n}function qg(e,n,a){qn[Hn++]=xi,qn[Hn++]=Di,qn[Hn++]=Cr,Cr=e;var o=xi;e=Di;var h=32-_e(o)-1;o&=~(1<<h),a+=1;var f=32-_e(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,xi=1<<32-_e(n)+h|a<<h|o,Di=f+e}else xi=1<<f|a<<h|o,Di=e}function Zh(e){e.return!==null&&(Xi(e,1),qg(e,1,0))}function Jh(e){for(;e===Mu;)Mu=Ca[--Na],Ca[Na]=null,Qo=Ca[--Na],Ca[Na]=null;for(;e===Cr;)Cr=qn[--Hn],qn[Hn]=null,Di=qn[--Hn],qn[Hn]=null,xi=qn[--Hn],qn[Hn]=null}function Hg(e,n){qn[Hn++]=xi,qn[Hn++]=Di,qn[Hn++]=Cr,xi=n.id,Di=n.overflow,Cr=e}var tn=null,me=null,qt=!1,Nr=null,Fn=!1,Wh=Error(s(519));function xr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(Bn(n,e)),Wh}function Fg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ve]=e,n[Ye]=o,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<gl.length;a++)Vt(gl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),fu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Tr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||o_(n.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=Wn),n=!0):n=!1,n||xr(e,!0)}function Gg(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:tn=tn.return}}function xa(e){if(e!==tn)return!1;if(!qt)return Gg(e),qt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||_d(e.type,e.memoizedProps)),a=!a),a&&me&&xr(e),Gg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));me=p_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));me=p_(e)}else n===27?(n=me,Fr(e.type)?(e=Ad,Ad=null,me=e):me=n):me=tn?Qn(e.stateNode.nextSibling):null;return!0}function zs(){me=tn=null,qt=!1}function tf(){var e=Nr;return e!==null&&(En===null?En=e:En.push.apply(En,e),Nr=null),e}function Ko(e){Nr===null?Nr=[e]:Nr.push(e)}var ef=M(null),js=null,Zi=null;function Dr(e,n,a){tt(ef,n._currentValue),n._currentValue=a}function Ji(e){e._currentValue=ef.current,H(ef)}function nf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function rf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),nf(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),nf(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Da(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=h.type;Rn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Dt.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(El):e=[El])}h=h.return}e!==null&&rf(n,e,a,o),n.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!Rn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bs(e){js=e,Zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function en(e){return Qg(js,e)}function ku(e,n){return js===null&&Bs(e),Qg(e,n)}function Qg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Zi===null){if(e===null)throw Error(s(308));Zi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Zi=Zi.next=n;return a}var wb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},Rb=r.unstable_scheduleCallback,Ib=r.unstable_NormalPriority,Pe={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new wb,data:new Map,refCount:0}}function Yo(e){e.refCount--,e.refCount===0&&Rb(Ib,function(){e.controller.abort()})}var $o=null,af=0,Oa=0,Ma=null;function Cb(e,n){if($o===null){var a=$o=[];af=0,Oa=ud(),Ma={status:"pending",value:void 0,then:function(o){a.push(o)}}}return af++,n.then(Kg,Kg),n}function Kg(){if(--af===0&&$o!==null){Ma!==null&&(Ma.status="fulfilled");var e=$o;$o=null,Oa=0,Ma=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Nb(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Yg=F.S;F.S=function(e,n){Dy=ut(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Cb(e,n),Yg!==null&&Yg(e,n)};var qs=M(null);function of(){var e=qs.current;return e!==null?e:ce.pooledCache}function Lu(e,n){n===null?tt(qs,qs.current):tt(qs,n.pool)}function $g(){var e=of();return e===null?null:{parent:Pe._currentValue,pool:e}}var Va=Error(s(460)),lf=Error(s(474)),Pu=Error(s(542)),Uu={then:function(){}};function Xg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Wn,Wn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wg(e),e;default:if(typeof n.status=="string")n.then(Wn,Wn);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wg(e),e}throw Fs=n,Va}}function Hs(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fs=a,Va):a}}var Fs=null;function Jg(){if(Fs===null)throw Error(s(459));var e=Fs;return Fs=null,e}function Wg(e){if(e===Va||e===Pu)throw Error(s(483))}var ka=null,Xo=0;function zu(e){var n=Xo;return Xo+=1,ka===null&&(ka=[]),Zg(ka,e,n)}function Zo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ju(e,n){throw n.$$typeof===D?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function tp(e){function n(k,O){if(e){var U=k.deletions;U===null?(k.deletions=[O],k.flags|=16):U.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=$i(k,O),k.index=0,k.sibling=null,k}function f(k,O,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<O?(k.flags|=67108866,O):U):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,U,K){return O===null||O.tag!==6?(O=$h(U,k.mode,K),O.return=k,O):(O=h(O,U),O.return=k,O)}function R(k,O,U,K){var ft=U.type;return ft===nt?G(k,O,U.props.children,K,U.key):O!==null&&(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Hs(ft)===O.type)?(O=h(O,U.props),Zo(O,U),O.return=k,O):(O=Ou(U.type,U.key,U.props,null,k.mode,K),Zo(O,U),O.return=k,O)}function z(k,O,U,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Xh(U,k.mode,K),O.return=k,O):(O=h(O,U.children||[]),O.return=k,O)}function G(k,O,U,K,ft){return O===null||O.tag!==7?(O=Us(U,k.mode,K,ft),O.return=k,O):(O=h(O,U),O.return=k,O)}function Y(k,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=$h(""+O,k.mode,U),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Q:return U=Ou(O.type,O.key,O.props,null,k.mode,U),Zo(U,O),U.return=k,U;case Z:return O=Xh(O,k.mode,U),O.return=k,O;case S:return O=Hs(O),Y(k,O,U)}if(Te(O)||L(O))return O=Us(O,k.mode,U,null),O.return=k,O;if(typeof O.then=="function")return Y(k,zu(O),U);if(O.$$typeof===yt)return Y(k,ku(k,O),U);ju(k,O)}return null}function j(k,O,U,K){var ft=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ft!==null?null:E(k,O,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Q:return U.key===ft?R(k,O,U,K):null;case Z:return U.key===ft?z(k,O,U,K):null;case S:return U=Hs(U),j(k,O,U,K)}if(Te(U)||L(U))return ft!==null?null:G(k,O,U,K,null);if(typeof U.then=="function")return j(k,O,zu(U),K);if(U.$$typeof===yt)return j(k,O,ku(k,U),K);ju(k,U)}return null}function q(k,O,U,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(U)||null,E(O,k,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return k=k.get(K.key===null?U:K.key)||null,R(O,k,K,ft);case Z:return k=k.get(K.key===null?U:K.key)||null,z(O,k,K,ft);case S:return K=Hs(K),q(k,O,U,K,ft)}if(Te(K)||L(K))return k=k.get(U)||null,G(O,k,K,ft,null);if(typeof K.then=="function")return q(k,O,U,zu(K),ft);if(K.$$typeof===yt)return q(k,O,U,ku(O,K),ft);ju(O,K)}return null}function ot(k,O,U,K){for(var ft=null,Kt=null,ct=O,xt=O=0,Pt=null;ct!==null&&xt<U.length;xt++){ct.index>xt?(Pt=ct,ct=null):Pt=ct.sibling;var Yt=j(k,ct,U[xt],K);if(Yt===null){ct===null&&(ct=Pt);break}e&&ct&&Yt.alternate===null&&n(k,ct),O=f(Yt,O,xt),Kt===null?ft=Yt:Kt.sibling=Yt,Kt=Yt,ct=Pt}if(xt===U.length)return a(k,ct),qt&&Xi(k,xt),ft;if(ct===null){for(;xt<U.length;xt++)ct=Y(k,U[xt],K),ct!==null&&(O=f(ct,O,xt),Kt===null?ft=ct:Kt.sibling=ct,Kt=ct);return qt&&Xi(k,xt),ft}for(ct=o(ct);xt<U.length;xt++)Pt=q(ct,k,xt,U[xt],K),Pt!==null&&(e&&Pt.alternate!==null&&ct.delete(Pt.key===null?xt:Pt.key),O=f(Pt,O,xt),Kt===null?ft=Pt:Kt.sibling=Pt,Kt=Pt);return e&&ct.forEach(function($r){return n(k,$r)}),qt&&Xi(k,xt),ft}function pt(k,O,U,K){if(U==null)throw Error(s(151));for(var ft=null,Kt=null,ct=O,xt=O=0,Pt=null,Yt=U.next();ct!==null&&!Yt.done;xt++,Yt=U.next()){ct.index>xt?(Pt=ct,ct=null):Pt=ct.sibling;var $r=j(k,ct,Yt.value,K);if($r===null){ct===null&&(ct=Pt);break}e&&ct&&$r.alternate===null&&n(k,ct),O=f($r,O,xt),Kt===null?ft=$r:Kt.sibling=$r,Kt=$r,ct=Pt}if(Yt.done)return a(k,ct),qt&&Xi(k,xt),ft;if(ct===null){for(;!Yt.done;xt++,Yt=U.next())Yt=Y(k,Yt.value,K),Yt!==null&&(O=f(Yt,O,xt),Kt===null?ft=Yt:Kt.sibling=Yt,Kt=Yt);return qt&&Xi(k,xt),ft}for(ct=o(ct);!Yt.done;xt++,Yt=U.next())Yt=q(ct,k,xt,Yt.value,K),Yt!==null&&(e&&Yt.alternate!==null&&ct.delete(Yt.key===null?xt:Yt.key),O=f(Yt,O,xt),Kt===null?ft=Yt:Kt.sibling=Yt,Kt=Yt);return e&&ct.forEach(function(j1){return n(k,j1)}),qt&&Xi(k,xt),ft}function ue(k,O,U,K){if(typeof U=="object"&&U!==null&&U.type===nt&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Q:t:{for(var ft=U.key;O!==null;){if(O.key===ft){if(ft=U.type,ft===nt){if(O.tag===7){a(k,O.sibling),K=h(O,U.props.children),K.return=k,k=K;break t}}else if(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Hs(ft)===O.type){a(k,O.sibling),K=h(O,U.props),Zo(K,U),K.return=k,k=K;break t}a(k,O);break}else n(k,O);O=O.sibling}U.type===nt?(K=Us(U.props.children,k.mode,K,U.key),K.return=k,k=K):(K=Ou(U.type,U.key,U.props,null,k.mode,K),Zo(K,U),K.return=k,k=K)}return y(k);case Z:t:{for(ft=U.key;O!==null;){if(O.key===ft)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(k,O.sibling),K=h(O,U.children||[]),K.return=k,k=K;break t}else{a(k,O);break}else n(k,O);O=O.sibling}K=Xh(U,k.mode,K),K.return=k,k=K}return y(k);case S:return U=Hs(U),ue(k,O,U,K)}if(Te(U))return ot(k,O,U,K);if(L(U)){if(ft=L(U),typeof ft!="function")throw Error(s(150));return U=ft.call(U),pt(k,O,U,K)}if(typeof U.then=="function")return ue(k,O,zu(U),K);if(U.$$typeof===yt)return ue(k,O,ku(k,U),K);ju(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(k,O.sibling),K=h(O,U),K.return=k,k=K):(a(k,O),K=$h(U,k.mode,K),K.return=k,k=K),y(k)):a(k,O)}return function(k,O,U,K){try{Xo=0;var ft=ue(k,O,U,K);return ka=null,ft}catch(ct){if(ct===Va||ct===Pu)throw ct;var Kt=In(29,ct,null,k.mode);return Kt.lanes=K,Kt.return=k,Kt}finally{}}}var Gs=tp(!0),ep=tp(!1),Or=!1;function uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Zt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(e),Ug(e,null,a),n}return xu(e,o,n,a),Du(e)}function Jo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,wo(e,a)}}function hf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var ff=!1;function Wo(){if(ff){var e=Ma;if(e!==null)throw e}}function tl(e,n,a,o){ff=!1;var h=e.updateQueue;Or=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,y===null?f=z:y.next=z,y=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;y=0,G=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Lt&j)===j:(o&j)===j){j!==0&&j===Oa&&(ff=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,pt=E;j=n;var ue=a;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){Y=ot.call(ue,Y,j);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,j=typeof ot=="function"?ot.call(ue,Y,j):ot,j==null)break t;Y=A({},Y,j);break t;case 2:Or=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,R=Y):G=G.next=q,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),zr|=y,e.lanes=y,e.memoizedState=Y}}function np(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function ip(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)np(a[e],n)}var La=M(null),Bu=M(0);function rp(e,n){e=or,tt(Bu,e),tt(La,n),or=e|n.baseLanes}function df(){tt(Bu,or),tt(La,La.current)}function mf(){or=Bu.current,H(La),H(Bu)}var Cn=M(null),Gn=null;function kr(e){var n=e.alternate;tt(Ne,Ne.current&1),tt(Cn,e),Gn===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Gn=e)}function gf(e){tt(Ne,Ne.current),tt(Cn,e),Gn===null&&(Gn=e)}function sp(e){e.tag===22?(tt(Ne,Ne.current),tt(Cn,e),Gn===null&&(Gn=e)):Lr()}function Lr(){tt(Ne,Ne.current),tt(Cn,Cn.current)}function Nn(e){H(Cn),Gn===e&&(Gn=null),H(Ne)}var Ne=M(0);function qu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Td(a)||bd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wi=0,Ct=null,oe=null,Ue=null,Hu=!1,Pa=!1,Qs=!1,Fu=0,el=0,Ua=null,xb=0;function we(){throw Error(s(321))}function pf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Rn(e[a],n[a]))return!1;return!0}function yf(e,n,a,o,h,f){return Wi=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?qp:Of,Qs=!1,f=a(o,h),Qs=!1,Pa&&(f=op(n,a,o,h)),ap(e),f}function ap(e){F.H=rl;var n=oe!==null&&oe.next!==null;if(Wi=0,Ue=oe=Ct=null,Hu=!1,el=0,Ua=null,n)throw Error(s(300));e===null||ze||(e=e.dependencies,e!==null&&Vu(e)&&(ze=!0))}function op(e,n,a,o){Ct=e;var h=0;do{if(Pa&&(Ua=null),el=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,Ue=oe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Hp,f=n(a,o)}while(Pa);return f}function Db(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?nl(n):n,e=e.useState()[0],(oe!==null?oe.memoizedState:null)!==e&&(Ct.flags|=1024),n}function _f(){var e=Fu!==0;return Fu=0,e}function vf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Ef(e){if(Hu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Hu=!1}Wi=0,Ue=oe=Ct=null,Pa=!1,el=Fu=0,Ua=null}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Ct.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function xe(){if(oe===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var n=Ue===null?Ct.memoizedState:Ue.next;if(n!==null)Ue=n,oe=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Ue===null?Ct.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var n=el;return el+=1,Ua===null&&(Ua=[]),e=Zg(Ua,e,n),n=Ct,(Ue===null?n.memoizedState:Ue.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?qp:Of),e}function Qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===yt)return en(e)}throw Error(s(438,String(e)))}function Tf(e){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Gu(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function tr(e,n){return typeof n=="function"?n(e):n}function Ku(e){var n=xe();return bf(n,oe,e)}function bf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,R=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Lt&Y)===Y:(Wi&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Oa&&(G=!0);else if((Wi&j)===j){z=z.next,j===Oa&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,y=f):R=R.next=Y,Ct.lanes|=j,zr|=j;Y=z.action,Qs&&a(f,Y),f=z.hasEagerState?z.eagerState:a(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,y=f):R=R.next=j,Ct.lanes|=Y,zr|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?y=f:R.next=E,!Rn(f,e.memoizedState)&&(ze=!0,G&&(a=Ma,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Af(e){var n=xe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);Rn(f,n.memoizedState)||(ze=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function lp(e,n,a){var o=Ct,h=xe(),f=qt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!Rn((oe||h).memoizedState,a);if(y&&(h.memoizedState=a,ze=!0),h=h.queue,Rf(hp.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||Ue!==null&&Ue.memoizedState.tag&1){if(o.flags|=2048,za(9,{destroy:void 0},cp.bind(null,o,h,a,n),null),ce===null)throw Error(s(349));f||(Wi&127)!==0||up(o,n,a)}return a}function up(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=Gu(),Ct.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function cp(e,n,a,o){n.value=a,n.getSnapshot=o,fp(n)&&dp(e)}function hp(e,n,a){return a(function(){fp(n)&&dp(e)})}function fp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Rn(e,a)}catch{return!0}}function dp(e){var n=Ps(e,2);n!==null&&Tn(n,e,2)}function Sf(e){var n=mn();if(typeof e=="function"){var a=e;if(e=a(),Qs){Je(!0);try{a()}finally{Je(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:e},n}function mp(e,n,a,o){return e.baseState=a,bf(e,oe,typeof o=="function"?o:tr)}function Ob(e,n,a,o,h){if(Xu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,gp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function gp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var E=a(h,o),R=F.S;R!==null&&R(y,E),pp(e,n,E)}catch(z){wf(e,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=a(h,o),pp(e,n,f)}catch(z){wf(e,n,z)}}function pp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){yp(e,n,o)},function(o){return wf(e,n,o)}):yp(e,n,a)}function yp(e,n,a){n.status="fulfilled",n.value=a,_p(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,gp(e,a)))}function wf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,_p(n),n=n.next;while(n!==o)}e.action=null}function _p(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function vp(e,n){return n}function Ep(e,n){if(qt){var a=ce.formState;if(a!==null){t:{var o=Ct;if(qt){if(me){e:{for(var h=me,f=Fn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Qn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){me=Qn(h.nextSibling),o=h.data==="F!";break t}}xr(o)}o=!1}o&&(n=a[0])}}return a=mn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:n},a.queue=o,a=zp.bind(null,Ct,o),o.dispatch=a,o=Sf(!1),f=Df.bind(null,Ct,!1,o.queue),o=mn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=Ob.bind(null,Ct,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Tp(e){var n=xe();return bp(n,oe,e)}function bp(e,n,a){if(n=bf(e,n,vp)[0],e=Ku(tr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=nl(n)}catch(y){throw y===Va?Pu:y}else o=n;n=xe();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ct.flags|=2048,za(9,{destroy:void 0},Mb.bind(null,h,a),null)),[o,f,e]}function Mb(e,n){e.action=n}function Ap(e){var n=xe(),a=oe;if(a!==null)return bp(n,a,e);xe(),n=n.memoizedState,a=xe();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function za(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Gu(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Sp(){return xe().memoizedState}function Yu(e,n,a,o){var h=mn();Ct.flags|=e,h.memoizedState=za(1|n,{destroy:void 0},a,o===void 0?null:o)}function $u(e,n,a,o){var h=xe();o=o===void 0?null:o;var f=h.memoizedState.inst;oe!==null&&o!==null&&pf(o,oe.memoizedState.deps)?h.memoizedState=za(n,f,a,o):(Ct.flags|=e,h.memoizedState=za(1|n,f,a,o))}function wp(e,n){Yu(8390656,8,e,n)}function Rf(e,n){$u(2048,8,e,n)}function Vb(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Gu(),Ct.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Rp(e){var n=xe().memoizedState;return Vb({ref:n,nextImpl:e}),function(){if((Zt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Ip(e,n){return $u(4,2,e,n)}function Cp(e,n){return $u(4,4,e,n)}function Np(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function xp(e,n,a){a=a!=null?a.concat([e]):null,$u(4,4,Np.bind(null,n,e),a)}function If(){}function Dp(e,n){var a=xe();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&pf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Op(e,n){var a=xe();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&pf(n,o[1]))return o[0];if(o=e(),Qs){Je(!0);try{e()}finally{Je(!1)}}return a.memoizedState=[o,n],o}function Cf(e,n,a){return a===void 0||(Wi&1073741824)!==0&&(Lt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=My(),Ct.lanes|=e,zr|=e,a)}function Mp(e,n,a,o){return Rn(a,n)?a:La.current!==null?(e=Cf(e,a,o),Rn(e,n)||(ze=!0),e):(Wi&42)===0||(Wi&1073741824)!==0&&(Lt&261930)===0?(ze=!0,e.memoizedState=a):(e=My(),Ct.lanes|=e,zr|=e,n)}function Vp(e,n,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,Df(e,!1,n,a);try{var R=h(),z=F.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=Nb(R,o);il(e,n,G,On(e))}else il(e,n,o,On(e))}catch(Y){il(e,n,{then:function(){},status:"rejected",reason:Y},On())}finally{et.p=f,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function kb(){}function Nf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=kp(e).queue;Vp(e,h,n,lt,a===null?kb:function(){return Lp(e),a(o)})}function kp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:lt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Lp(e){var n=kp(e);n.next===null&&(n=e.alternate.memoizedState),il(e,n.next.queue,{},On())}function xf(){return en(El)}function Pp(){return xe().memoizedState}function Up(){return xe().memoizedState}function Lb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=On();e=Mr(a);var o=Vr(n,e,a);o!==null&&(Tn(o,n,a),Jo(o,n,a)),n={cache:sf()},e.payload=n;return}n=n.return}}function Pb(e,n,a){var o=On();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(e)?jp(n,a):(a=Kh(e,n,a,o),a!==null&&(Tn(a,e,o),Bp(a,n,o)))}function zp(e,n,a){var o=On();il(e,n,a,o)}function il(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))jp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,Rn(E,y))return xu(e,n,h,0),ce===null&&Nu(),!1}catch{}finally{}if(a=Kh(e,n,h,o),a!==null)return Tn(a,e,o),Bp(a,n,o),!0}return!1}function Df(e,n,a,o){if(o={lane:2,revertLane:ud(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(n)throw Error(s(479))}else n=Kh(e,a,o,2),n!==null&&Tn(n,e,2)}function Xu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function jp(e,n){Pa=Hu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Bp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,wo(e,a)}}var rl={readContext:en,use:Qu,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};rl.useEffectEvent=we;var qp={readContext:en,use:Qu,useCallback:function(e,n){return mn().memoizedState=[e,n===void 0?null:n],e},useContext:en,useEffect:wp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Yu(4194308,4,Np.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Yu(4194308,4,e,n)},useInsertionEffect:function(e,n){Yu(4,2,e,n)},useMemo:function(e,n){var a=mn();n=n===void 0?null:n;var o=e();if(Qs){Je(!0);try{e()}finally{Je(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=mn();if(a!==void 0){var h=a(n);if(Qs){Je(!0);try{a(n)}finally{Je(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Pb.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=mn();return e={current:e},n.memoizedState=e},useState:function(e){e=Sf(e);var n=e.queue,a=zp.bind(null,Ct,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:If,useDeferredValue:function(e,n){var a=mn();return Cf(a,e,n)},useTransition:function(){var e=Sf(!1);return e=Vp.bind(null,Ct,e.queue,!0,!1),mn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Ct,h=mn();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ce===null)throw Error(s(349));(Lt&127)!==0||up(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,wp(hp.bind(null,o,f,e),[e]),o.flags|=2048,za(9,{destroy:void 0},cp.bind(null,o,f,a,n),null),a},useId:function(){var e=mn(),n=ce.identifierPrefix;if(qt){var a=Di,o=xi;a=(o&~(1<<32-_e(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Fu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=xb++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:xf,useFormState:Ep,useActionState:Ep,useOptimistic:function(e){var n=mn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Df.bind(null,Ct,!0,a),a.dispatch=n,[e,n]},useMemoCache:Tf,useCacheRefresh:function(){return mn().memoizedState=Lb.bind(null,Ct)},useEffectEvent:function(e){var n=mn(),a={impl:e};return n.memoizedState=a,function(){if((Zt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Of={readContext:en,use:Qu,useCallback:Dp,useContext:en,useEffect:Rf,useImperativeHandle:xp,useInsertionEffect:Ip,useLayoutEffect:Cp,useMemo:Op,useReducer:Ku,useRef:Sp,useState:function(){return Ku(tr)},useDebugValue:If,useDeferredValue:function(e,n){var a=xe();return Mp(a,oe.memoizedState,e,n)},useTransition:function(){var e=Ku(tr)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:nl(e),n]},useSyncExternalStore:lp,useId:Pp,useHostTransitionStatus:xf,useFormState:Tp,useActionState:Tp,useOptimistic:function(e,n){var a=xe();return mp(a,oe,e,n)},useMemoCache:Tf,useCacheRefresh:Up};Of.useEffectEvent=Rp;var Hp={readContext:en,use:Qu,useCallback:Dp,useContext:en,useEffect:Rf,useImperativeHandle:xp,useInsertionEffect:Ip,useLayoutEffect:Cp,useMemo:Op,useReducer:Af,useRef:Sp,useState:function(){return Af(tr)},useDebugValue:If,useDeferredValue:function(e,n){var a=xe();return oe===null?Cf(a,e,n):Mp(a,oe.memoizedState,e,n)},useTransition:function(){var e=Af(tr)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:nl(e),n]},useSyncExternalStore:lp,useId:Pp,useHostTransitionStatus:xf,useFormState:Ap,useActionState:Ap,useOptimistic:function(e,n){var a=xe();return oe!==null?mp(a,oe,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Up};Hp.useEffectEvent=Rp;function Mf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Vf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=On(),h=Mr(o);h.payload=n,a!=null&&(h.callback=a),n=Vr(e,h,o),n!==null&&(Tn(n,e,o),Jo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=On(),h=Mr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Vr(e,h,o),n!==null&&(Tn(n,e,o),Jo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=On(),o=Mr(a);o.tag=2,n!=null&&(o.callback=n),n=Vr(e,o,a),n!==null&&(Tn(n,e,a),Jo(n,e,a))}};function Fp(e,n,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Fo(a,o)||!Fo(h,f):!0}function Gp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Vf.enqueueReplaceState(n,n.state,null)}function Ks(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Qp(e){Cu(e)}function Kp(e){console.error(e)}function Yp(e){Cu(e)}function Zu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function $p(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(e,n,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){Zu(e,n)},a}function Xp(e){return e=Mr(e),e.tag=3,e}function Zp(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){$p(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){$p(n,a,o),typeof h!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function Ub(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Da(n,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?uc():a.alternate===null&&Re===0&&(Re=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ad(e,o,h)),!1;case 22:return a.flags|=65536,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ad(e,o,h)),!1}throw Error(s(435,a.tag))}return ad(e,o,h),uc(),!1}if(qt)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Wh&&(e=Error(s(422),{cause:o}),Ko(Bn(e,a)))):(o!==Wh&&(n=Error(s(423),{cause:o}),Ko(Bn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Bn(o,a),h=kf(e.stateNode,o,h),hf(e,h),Re!==4&&(Re=2)),!1;var f=Error(s(520),{cause:o});if(f=Bn(f,a),fl===null?fl=[f]:fl.push(f),Re!==4&&(Re=2),n===null)return!0;o=Bn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=kf(a.stateNode,o,e),hf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(jr===null||!jr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Xp(h),Zp(h,e,a,o),hf(a,h),!1}a=a.return}while(a!==null);return!1}var Lf=Error(s(461)),ze=!1;function nn(e,n,a,o){n.child=e===null?ep(n,null,a,o):Gs(n,e.child,a,o)}function Jp(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Bs(n),o=yf(e,n,a,y,f,h),E=_f(),e!==null&&!ze?(vf(e,n,h),er(e,n,h)):(qt&&E&&Zh(n),n.flags|=1,nn(e,n,o,h),n.child)}function Wp(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ty(e,n,f,o,h)):(e=Ou(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Ff(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(y,o)&&e.ref===n.ref)return er(e,n,h)}return n.flags|=1,e=$i(f,o),e.ref=n.ref,e.return=n,n.child=e}function ty(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Fo(f,o)&&e.ref===n.ref)if(ze=!1,n.pendingProps=o=f,Ff(e,h))(e.flags&131072)!==0&&(ze=!0);else return n.lanes=e.lanes,er(e,n,h)}return Pf(e,n,a,o,h)}function ey(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ny(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lu(n,f!==null?f.cachePool:null),f!==null?rp(n,f):df(),sp(n);else return o=n.lanes=536870912,ny(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Lu(n,f.cachePool),rp(n,f),Lr(),n.memoizedState=null):(e!==null&&Lu(n,null),df(),Lr());return nn(e,n,h,a),n.child}function sl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ny(e,n,a,o,h){var f=of();return f=f===null?null:{parent:Pe._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Lu(n,null),df(),sp(n),e!==null&&Da(e,n,o,!0),n.childLanes=h,null}function Ju(e,n){return n=tc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function iy(e,n,a){return Gs(n,e.child,null,a),e=Ju(n,n.pendingProps),e.flags|=2,Nn(n),n.memoizedState=null,e}function zb(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(qt){if(o.mode==="hidden")return e=Ju(n,o),n.lanes=536870912,sl(null,e);if(gf(n),(e=me)?(e=g_(e,Fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Cr!==null?{id:xi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=jg(e),a.return=n,n.child=a,tn=n,me=null)):e=null,e===null)throw xr(n);return n.lanes=536870912,null}return Ju(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=iy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(ze||Da(e,n,a,!1),h=(a&e.childLanes)!==0,ze||h){if(o=ce,o!==null&&(y=Ro(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Ps(e,y),Tn(o,e,y),Lf;uc(),n=iy(e,n,a)}else e=f.treeContext,me=Qn(y.nextSibling),tn=n,qt=!0,Nr=null,Fn=!1,e!==null&&Hg(n,e),n=Ju(n,o),n.flags|=4096;return n}return e=$i(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Wu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Pf(e,n,a,o,h){return Bs(n),a=yf(e,n,a,o,void 0,h),o=_f(),e!==null&&!ze?(vf(e,n,h),er(e,n,h)):(qt&&o&&Zh(n),n.flags|=1,nn(e,n,a,h),n.child)}function ry(e,n,a,o,h,f){return Bs(n),n.updateQueue=null,a=op(n,o,a,h),ap(e),o=_f(),e!==null&&!ze?(vf(e,n,f),er(e,n,f)):(qt&&o&&Zh(n),n.flags|=1,nn(e,n,a,f),n.child)}function sy(e,n,a,o,h){if(Bs(n),n.stateNode===null){var f=Ia,y=a.contextType;typeof y=="object"&&y!==null&&(f=en(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},uf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?en(y):Ia,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Mf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Vf.enqueueReplaceState(f,f.state,null),tl(n,o,f,h),Wo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ks(a,E);f.props=R;var z=f.context,G=a.contextType;y=Ia,typeof G=="object"&&G!==null&&(y=en(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Gp(n,f,o,y),Or=!1;var j=n.memoizedState;f.state=j,tl(n,o,f,h),Wo(),z=n.memoizedState,E||j!==z||Or?(typeof Y=="function"&&(Mf(n,a,Y,o),z=n.memoizedState),(R=Or||Fp(n,a,R,o,j,z,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=y,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,cf(e,n),y=n.memoizedProps,G=Ks(a,y),f.props=G,Y=n.pendingProps,j=f.context,z=a.contextType,R=Ia,typeof z=="object"&&z!==null&&(R=en(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||j!==R)&&Gp(n,f,o,R),Or=!1,j=n.memoizedState,f.state=j,tl(n,o,f,h),Wo();var q=n.memoizedState;y!==Y||j!==q||Or||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof E=="function"&&(Mf(n,a,E,o),q=n.memoizedState),(G=Or||Fp(n,a,G,o,j,q,R)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Wu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Gs(n,e.child,null,h),n.child=Gs(n,null,a,h)):nn(e,n,a,h),n.memoizedState=f.state,e=n.child):e=er(e,n,h),e}function ay(e,n,a,o){return zs(),n.flags|=256,nn(e,n,a,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(e){return{baseLanes:e,cachePool:$g()}}function jf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Dn),e}function oy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Ne.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(qt){if(h?kr(n):Lr(),(e=me)?(e=g_(e,Fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Cr!==null?{id:xi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=jg(e),a.return=n,n.child=a,tn=n,me=null)):e=null,e===null)throw xr(n);return bd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Lr(),h=n.mode,E=tc({mode:"hidden",children:E},h),o=Us(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=zf(a),o.childLanes=jf(e,y,a),n.memoizedState=Uf,sl(null,o)):(kr(n),Bf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(kr(n),n.flags&=-257,n=qf(e,n,a)):n.memoizedState!==null?(Lr(),n.child=e.child,n.flags|=128,n=null):(Lr(),E=o.fallback,h=n.mode,o=tc({mode:"visible",children:o.children},h),E=Us(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Gs(n,e.child,null,a),o=n.child,o.memoizedState=zf(a),o.childLanes=jf(e,y,a),n.memoizedState=Uf,n=sl(null,o));else if(kr(n),bd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(s(419)),o.stack="",o.digest=y,Ko({value:o,source:null,stack:null}),n=qf(e,n,a)}else if(ze||Da(e,n,a,!1),y=(a&e.childLanes)!==0,ze||y){if(y=ce,y!==null&&(o=Ro(y,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Ps(e,o),Tn(y,e,o),Lf;Td(E)||uc(),n=qf(e,n,a)}else Td(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,me=Qn(E.nextSibling),tn=n,qt=!0,Nr=null,Fn=!1,e!==null&&Hg(n,e),n=Bf(n,o.children),n.flags|=4096);return n}return h?(Lr(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=$i(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=$i(z,E):(E=Us(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,sl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=zf(a):(h=E.cachePool,h!==null?(R=Pe._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=$g(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=jf(e,y,a),n.memoizedState=Uf,sl(e.child,o)):(kr(n),a=e.child,e=a.sibling,a=$i(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function Bf(e,n){return n=tc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function tc(e,n){return e=In(22,e,null,n),e.lanes=0,e}function qf(e,n,a){return Gs(n,e.child,null,a),e=Bf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ly(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),nf(e.return,n,a)}function Hf(e,n,a,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function uy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=Ne.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,tt(Ne,y),nn(e,n,o,a),o=qt?Qo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ly(e,a,n);else if(e.tag===19)ly(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&qu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Hf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&qu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Hf(n,!0,a,null,f,o);break;case"together":Hf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function er(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),zr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Da(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=$i(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=$i(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Ff(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function jb(e,n,a){switch(n.tag){case 3:Se(n,n.stateNode.containerInfo),Dr(n,Pe,e.memoizedState.cache),zs();break;case 27:case 5:Hi(n);break;case 4:Se(n,n.stateNode.containerInfo);break;case 10:Dr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(kr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?oy(e,n,a):(kr(n),e=er(e,n,a),e!==null?e.sibling:null);kr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Da(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return uy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(Ne,Ne.current),o)break;return null;case 22:return n.lanes=0,ey(e,n,a,n.pendingProps);case 24:Dr(n,Pe,e.memoizedState.cache)}return er(e,n,a)}function cy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)ze=!0;else{if(!Ff(e,a)&&(n.flags&128)===0)return ze=!1,jb(e,n,a);ze=(e.flags&131072)!==0}else ze=!1,qt&&(n.flags&1048576)!==0&&qg(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Hs(n.elementType),n.type=e,typeof e=="function")Yh(e)?(o=Ks(e,o),n.tag=1,n=sy(null,n,e,o,a)):(n.tag=0,n=Pf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Jt){n.tag=11,n=Jp(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=Wp(null,n,e,o,a);break t}}throw n=he(e)||e,Error(s(306,n,""))}}return n;case 0:return Pf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ks(o,n.pendingProps),sy(e,n,o,h,a);case 3:t:{if(Se(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,cf(e,n),tl(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Dr(n,Pe,o),o!==f.cache&&rf(n,[Pe],a,!0),Wo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ay(e,n,o,a);break t}else if(o!==h){h=Bn(Error(s(424)),n),Ko(h),n=ay(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(me=Qn(e.firstChild),tn=n,qt=!0,Nr=null,Fn=!0,a=ep(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zs(),o===h){n=er(e,n,a);break t}nn(e,n,o,a)}n=n.child}return n;case 26:return Wu(e,n),e===null?(a=T_(n.type,null,n.pendingProps,null))?n.memoizedState=a:qt||(a=n.type,e=n.pendingProps,o=pc(ht.current).createElement(a),o[Ve]=n,o[Ye]=e,rn(o,a,e),ke(o),n.stateNode=o):n.memoizedState=T_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Hi(n),e===null&&qt&&(o=n.stateNode=__(n.type,n.pendingProps,ht.current),tn=n,Fn=!0,h=me,Fr(n.type)?(Ad=h,me=Qn(o.firstChild)):me=h),nn(e,n,n.pendingProps.children,a),Wu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qt&&((h=o=me)&&(o=p1(o,n.type,n.pendingProps,Fn),o!==null?(n.stateNode=o,tn=n,me=Qn(o.firstChild),Fn=!1,h=!0):h=!1),h||xr(n)),Hi(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,_d(h,f)?o=null:y!==null&&_d(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=yf(e,n,Db,null,null,a),El._currentValue=h),Wu(e,n),nn(e,n,o,a),n.child;case 6:return e===null&&qt&&((e=a=me)&&(a=y1(a,n.pendingProps,Fn),a!==null?(n.stateNode=a,tn=n,me=null,e=!0):e=!1),e||xr(n)),null;case 13:return oy(e,n,a);case 4:return Se(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Gs(n,null,o,a):nn(e,n,o,a),n.child;case 11:return Jp(e,n,n.type,n.pendingProps,a);case 7:return nn(e,n,n.pendingProps,a),n.child;case 8:return nn(e,n,n.pendingProps.children,a),n.child;case 12:return nn(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Dr(n,n.type,o.value),nn(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Bs(n),h=en(h),o=o(h),n.flags|=1,nn(e,n,o,a),n.child;case 14:return Wp(e,n,n.type,n.pendingProps,a);case 15:return ty(e,n,n.type,n.pendingProps,a);case 19:return uy(e,n,a);case 31:return zb(e,n,a);case 22:return ey(e,n,a,n.pendingProps);case 24:return Bs(n),o=en(Pe),e===null?(h=of(),h===null&&(h=ce,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},uf(n),Dr(n,Pe,h)):((e.lanes&a)!==0&&(cf(e,n),tl(n,null,null,a),Wo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Dr(n,Pe,o)):(o=f.cache,Dr(n,Pe,o),o!==h.cache&&rf(n,[Pe],a,!0))),nn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function nr(e){e.flags|=4}function Gf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Py())e.flags|=8192;else throw Fs=Uu,lf}else e.flags&=-16777217}function hy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!R_(n))if(Py())e.flags|=8192;else throw Fs=Uu,lf}function ec(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ou():536870912,e.lanes|=n,Ha|=n)}function al(e,n){if(!qt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function Bb(e,n,a){var o=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(n),null;case 1:return ge(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ji(Pe),fe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(xa(n)?nr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),ge(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(nr(n),f!==null?(ge(n),hy(n,f)):(ge(n),Gf(n,h,null,o,a))):f?f!==e.memoizedState?(nr(n),ge(n),hy(n,f)):(ge(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&nr(n),ge(n),Gf(n,h,e,o,a)),null;case 27:if(yr(n),a=ht.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&nr(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ge(n),null}e=rt.current,xa(n)?Fg(n):(e=__(h,o,a),n.stateNode=e,nr(n))}return ge(n),null;case 5:if(yr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&nr(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ge(n),null}if(f=rt.current,xa(n))Fg(n);else{var y=pc(ht.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Ve]=n,f[Ye]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(rn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&nr(n)}}return ge(n),Gf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&nr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=ht.current,xa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ve]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||o_(e.nodeValue,a)),e||xr(n,!0)}else e=pc(e).createTextNode(o),e[Ve]=n,n.stateNode=e}return ge(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=xa(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ve]=n}else zs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ge(n),e=!1}else a=tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Nn(n),n):(Nn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ge(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=xa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ve]=n}else zs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ge(n),h=!1}else h=tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Nn(n),n):(Nn(n),null)}return Nn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),ec(n,n.updateQueue),ge(n),null);case 4:return fe(),e===null&&dd(n.stateNode.containerInfo),ge(n),null;case 10:return Ji(n.type),ge(n),null;case 19:if(H(Ne),o=n.memoizedState,o===null)return ge(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)al(o,!1);else{if(Re!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=qu(e),f!==null){for(n.flags|=128,al(o,!1),e=f.updateQueue,n.updateQueue=e,ec(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)zg(a,e),a=a.sibling;return tt(Ne,Ne.current&1|2),qt&&Xi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ut()>ac&&(n.flags|=128,h=!0,al(o,!1),n.lanes=4194304)}else{if(!h)if(e=qu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ec(n,e),al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!qt)return ge(n),null}else 2*ut()-o.renderingStartTime>ac&&a!==536870912&&(n.flags|=128,h=!0,al(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ut(),e.sibling=null,a=Ne.current,tt(Ne,h?a&1|2:a&1),qt&&Xi(n,o.treeForkCount),e):(ge(n),null);case 22:case 23:return Nn(n),mf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ge(n),n.subtreeFlags&6&&(n.flags|=8192)):ge(n),a=n.updateQueue,a!==null&&ec(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&H(qs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ji(Pe),ge(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function qb(e,n){switch(Jh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ji(Pe),fe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return yr(n),null;case 31:if(n.memoizedState!==null){if(Nn(n),n.alternate===null)throw Error(s(340));zs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Nn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));zs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(Ne),null;case 4:return fe(),null;case 10:return Ji(n.type),null;case 22:case 23:return Nn(n),mf(),e!==null&&H(qs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ji(Pe),null;case 25:return null;default:return null}}function fy(e,n){switch(Jh(n),n.tag){case 3:Ji(Pe),fe();break;case 26:case 27:case 5:yr(n);break;case 4:fe();break;case 31:n.memoizedState!==null&&Nn(n);break;case 13:Nn(n);break;case 19:H(Ne);break;case 10:Ji(n.type);break;case 22:case 23:Nn(n),mf(),e!==null&&H(qs);break;case 24:Ji(Pe)}}function ol(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){re(n,n.return,E)}}function Pr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var R=a,z=E;try{z()}catch(G){re(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){re(n,n.return,G)}}function dy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{ip(n,a)}catch(o){re(e,e.return,o)}}}function my(e,n,a){a.props=Ks(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){re(e,n,o)}}function ll(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){re(e,n,h)}}function Oi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){re(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){re(e,n,h)}else a.current=null}function gy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){re(e,e.return,h)}}function Qf(e,n,a){try{var o=e.stateNode;c1(o,e.type,a,n),o[Ye]=n}catch(h){re(e,e.return,h)}}function py(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fr(e.type)||e.tag===4}function Kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||py(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Wn));else if(o!==4&&(o===27&&Fr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Yf(e,n,a),e=e.sibling;e!==null;)Yf(e,n,a),e=e.sibling}function nc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Fr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(nc(e,n,a),e=e.sibling;e!==null;)nc(e,n,a),e=e.sibling}function yy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);rn(n,o,a),n[Ve]=e,n[Ye]=a}catch(f){re(e,e.return,f)}}var ir=!1,je=!1,$f=!1,_y=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Hb(e,n){if(e=e.containerInfo,pd=Ac,e=xg(e),Bh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,R=-1,z=0,G=0,Y=e,j=null;e:for(;;){for(var q;Y!==a||h!==0&&Y.nodeType!==3||(E=y+h),Y!==f||o!==0&&Y.nodeType!==3||(R=y+o),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===a&&++z===h&&(E=y),j===f&&++G===o&&(R=y),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(yd={focusedElem:e,selectionRange:a},Ac=!1,Xe=n;Xe!==null;)if(n=Xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Xe=e;else for(;Xe!==null;){switch(n=Xe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=Ks(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){re(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Ed(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ed(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Xe=e;break}Xe=n.return}}function vy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:sr(e,a),o&4&&ol(5,a);break;case 1:if(sr(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){re(a,a.return,y)}else{var h=Ks(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){re(a,a.return,y)}}o&64&&dy(a),o&512&&ll(a,a.return);break;case 3:if(sr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ip(e,n)}catch(y){re(a,a.return,y)}}break;case 27:n===null&&o&4&&yy(a);case 26:case 5:sr(e,a),n===null&&o&4&&gy(a),o&512&&ll(a,a.return);break;case 12:sr(e,a);break;case 31:sr(e,a),o&4&&by(e,a);break;case 13:sr(e,a),o&4&&Ay(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Jb.bind(null,a),_1(e,a))));break;case 22:if(o=a.memoizedState!==null||ir,!o){n=n!==null&&n.memoizedState!==null||je,h=ir;var f=je;ir=o,(je=n)&&!f?ar(e,a,(a.subtreeFlags&8772)!==0):sr(e,a),ir=h,je=f}break;case 30:break;default:sr(e,a)}}function Ey(e){var n=e.alternate;n!==null&&(e.alternate=null,Ey(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&da(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ee=null,yn=!1;function rr(e,n,a){for(a=a.child;a!==null;)Ty(e,n,a),a=a.sibling}function Ty(e,n,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(ee,a)}catch{}switch(a.tag){case 26:je||Oi(a,n),rr(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:je||Oi(a,n);var o=Ee,h=yn;Fr(a.type)&&(Ee=a.stateNode,yn=!1),rr(e,n,a),yl(a.stateNode),Ee=o,yn=h;break;case 5:je||Oi(a,n);case 6:if(o=Ee,h=yn,Ee=null,rr(e,n,a),Ee=o,yn=h,Ee!==null)if(yn)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(a.stateNode)}catch(f){re(a,n,f)}else try{Ee.removeChild(a.stateNode)}catch(f){re(a,n,f)}break;case 18:Ee!==null&&(yn?(e=Ee,d_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Za(e)):d_(Ee,a.stateNode));break;case 4:o=Ee,h=yn,Ee=a.stateNode.containerInfo,yn=!0,rr(e,n,a),Ee=o,yn=h;break;case 0:case 11:case 14:case 15:Pr(2,a,n),je||Pr(4,a,n),rr(e,n,a);break;case 1:je||(Oi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&my(a,n,o)),rr(e,n,a);break;case 21:rr(e,n,a);break;case 22:je=(o=je)||a.memoizedState!==null,rr(e,n,a),je=o;break;default:rr(e,n,a)}}function by(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Za(e)}catch(a){re(n,n.return,a)}}}function Ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Za(e)}catch(a){re(n,n.return,a)}}function Fb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new _y),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new _y),n;default:throw Error(s(435,e.tag))}}function ic(e,n){var a=Fb(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=Wb.bind(null,e,o);o.then(h,h)}})}function _n(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Fr(E.type)){Ee=E.stateNode,yn=!1;break t}break;case 5:Ee=E.stateNode,yn=!1;break t;case 3:case 4:Ee=E.stateNode.containerInfo,yn=!0;break t}E=E.return}if(Ee===null)throw Error(s(160));Ty(f,y,h),Ee=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sy(n,e),n=n.sibling}var si=null;function Sy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(n,e),vn(e),o&4&&(Pr(3,e,e.return),ol(3,e),Pr(5,e,e.return));break;case 1:_n(n,e),vn(e),o&512&&(je||a===null||Oi(a,a.return)),o&64&&ir&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=si;if(_n(n,e),vn(e),o&512&&(je||a===null||Oi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_i]||f[Ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),rn(f,o,a),f[Ve]=e,ke(f),o=f;break t;case"link":var y=S_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),rn(f,o,a),h.head.appendChild(f);break;case"meta":if(y=S_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),rn(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ve]=e,ke(f),o=f}e.stateNode=o}else w_(h,e.type,e.stateNode);else e.stateNode=A_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?w_(h,e.type,e.stateNode):A_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Qf(e,e.memoizedProps,a.memoizedProps)}break;case 27:_n(n,e),vn(e),o&512&&(je||a===null||Oi(a,a.return)),a!==null&&o&4&&Qf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_n(n,e),vn(e),o&512&&(je||a===null||Oi(a,a.return)),e.flags&32){h=e.stateNode;try{pn(h,"")}catch(ot){re(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Qf(e,h,a!==null?a.memoizedProps:h)),o&1024&&($f=!0);break;case 6:if(_n(n,e),vn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){re(e,e.return,ot)}}break;case 3:if(vc=null,h=si,si=yc(n.containerInfo),_n(n,e),si=h,vn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(n.containerInfo)}catch(ot){re(e,e.return,ot)}$f&&($f=!1,wy(e));break;case 4:o=si,si=yc(e.stateNode.containerInfo),_n(n,e),vn(e),si=o;break;case 12:_n(n,e),vn(e);break;case 31:_n(n,e),vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 13:_n(n,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sc=ut()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=ir,G=je;if(ir=z||h,je=G||R,_n(n,e),je=G,ir=z,vn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||ir||je||Ys(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){re(R,R.return,ot)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){re(R,R.return,ot)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?m_(q,!0):m_(R.stateNode,!1)}catch(ot){re(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ic(e,a))));break;case 19:_n(n,e),vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 30:break;case 21:break;default:_n(n,e),vn(e)}}function vn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(py(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Kf(e);nc(e,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(pn(y,""),a.flags&=-33);var E=Kf(e);nc(e,E,y);break;case 3:case 4:var R=a.stateNode.containerInfo,z=Kf(e);Yf(e,z,R);break;default:throw Error(s(161))}}catch(G){re(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function wy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;wy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function sr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vy(e,n.alternate,n),n=n.sibling}function Ys(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Pr(4,n,n.return),Ys(n);break;case 1:Oi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&my(n,n.return,a),Ys(n);break;case 27:yl(n.stateNode);case 26:case 5:Oi(n,n.return),Ys(n);break;case 22:n.memoizedState===null&&Ys(n);break;case 30:Ys(n);break;default:Ys(n)}e=e.sibling}}function ar(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ar(h,f,a),ol(4,f);break;case 1:if(ar(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){re(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)np(R[h],E)}catch(z){re(o,o.return,z)}}a&&y&64&&dy(f),ll(f,f.return);break;case 27:yy(f);case 26:case 5:ar(h,f,a),a&&o===null&&y&4&&gy(f),ll(f,f.return);break;case 12:ar(h,f,a);break;case 31:ar(h,f,a),a&&y&4&&by(h,f);break;case 13:ar(h,f,a),a&&y&4&&Ay(h,f);break;case 22:f.memoizedState===null&&ar(h,f,a),ll(f,f.return);break;case 30:break;default:ar(h,f,a)}n=n.sibling}}function Xf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Yo(a))}function Zf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Yo(e))}function ai(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ry(e,n,a,o),n=n.sibling}function Ry(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ai(e,n,a,o),h&2048&&ol(9,n);break;case 1:ai(e,n,a,o);break;case 3:ai(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Yo(e)));break;case 12:if(h&2048){ai(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){re(n,n.return,R)}}else ai(e,n,a,o);break;case 31:ai(e,n,a,o);break;case 13:ai(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ai(e,n,a,o):ul(e,n):f._visibility&2?ai(e,n,a,o):(f._visibility|=2,ja(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(y,n);break;case 24:ai(e,n,a,o),h&2048&&Zf(n.alternate,n);break;default:ai(e,n,a,o)}}function ja(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=a,R=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:ja(f,y,E,R,h),ol(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?ja(f,y,E,R,h):ul(f,y):(G._visibility|=2,ja(f,y,E,R,h)),h&&z&2048&&Xf(y.alternate,y);break;case 24:ja(f,y,E,R,h),h&&z&2048&&Zf(y.alternate,y);break;default:ja(f,y,E,R,h)}n=n.sibling}}function ul(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:ul(a,o),h&2048&&Xf(o.alternate,o);break;case 24:ul(a,o),h&2048&&Zf(o.alternate,o);break;default:ul(a,o)}n=n.sibling}}var cl=8192;function Ba(e,n,a){if(e.subtreeFlags&cl)for(e=e.child;e!==null;)Iy(e,n,a),e=e.sibling}function Iy(e,n,a){switch(e.tag){case 26:Ba(e,n,a),e.flags&cl&&e.memoizedState!==null&&x1(a,si,e.memoizedState,e.memoizedProps);break;case 5:Ba(e,n,a);break;case 3:case 4:var o=si;si=yc(e.stateNode.containerInfo),Ba(e,n,a),si=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=cl,cl=16777216,Ba(e,n,a),cl=o):Ba(e,n,a));break;default:Ba(e,n,a)}}function Cy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function hl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Xe=o,xy(o,e)}Cy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ny(e),e=e.sibling}function Ny(e){switch(e.tag){case 0:case 11:case 15:hl(e),e.flags&2048&&Pr(9,e,e.return);break;case 3:hl(e);break;case 12:hl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,rc(e)):hl(e);break;default:hl(e)}}function rc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Xe=o,xy(o,e)}Cy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Pr(8,n,n.return),rc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,rc(n));break;default:rc(n)}e=e.sibling}}function xy(e,n){for(;Xe!==null;){var a=Xe;switch(a.tag){case 0:case 11:case 15:Pr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Xe=o;else t:for(a=e;Xe!==null;){o=Xe;var h=o.sibling,f=o.return;if(Ey(o),o===a){Xe=null;break t}if(h!==null){h.return=f,Xe=h;break t}Xe=f}}}var Gb={getCacheForType:function(e){var n=en(Pe),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return en(Pe).controller.signal}},Qb=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ce=null,Mt=null,Lt=0,ie=0,xn=null,Ur=!1,qa=!1,Jf=!1,or=0,Re=0,zr=0,$s=0,Wf=0,Dn=0,Ha=0,fl=null,En=null,td=!1,sc=0,Dy=0,ac=1/0,oc=null,jr=null,Ge=0,Br=null,Fa=null,lr=0,ed=0,nd=null,Oy=null,dl=0,id=null;function On(){return(Zt&2)!==0&&Lt!==0?Lt&-Lt:F.T!==null?ud():lu()}function My(){if(Dn===0)if((Lt&536870912)===0||qt){var e=bs;bs<<=1,(bs&3932160)===0&&(bs=262144),Dn=e}else Dn=536870912;return e=Cn.current,e!==null&&(e.flags|=32),Dn}function Tn(e,n,a){(e===ce&&(ie===2||ie===9)||e.cancelPendingCommit!==null)&&(Ga(e,0),qr(e,Lt,Dn,!1)),As(e,a),((Zt&2)===0||e!==ce)&&(e===ce&&((Zt&2)===0&&($s|=a),Re===4&&qr(e,Lt,Dn,!1)),Mi(e))}function Vy(e,n,a){if((Zt&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Xn(e,n),h=o?$b(e,n):sd(e,n,!0),f=o;do{if(h===0){qa&&!o&&qr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!Kb(a)){h=sd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=fl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ga(E,y).flags|=256),y=sd(E,y,!1),y!==2){if(Jf&&!R){E.errorRecoveryDisabledLanes|=f,$s|=f,h=4;break t}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ga(e,0),qr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:qr(o,n,Dn,!Ur);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=sc+300-ut(),10<h)){if(qr(o,n,Dn,!Ur),gi(o,0,!0)!==0)break t;lr=n,o.timeoutHandle=h_(ky.bind(null,o,a,En,oc,td,n,Dn,$s,Ha,Ur,f,"Throttled",-0,0),h);break t}ky(o,a,En,oc,td,n,Dn,$s,Ha,Ur,f,null,-0,0)}}break}while(!0);Mi(e)}function ky(e,n,a,o,h,f,y,E,R,z,G,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},Iy(n,f,Y);var ot=(f&62914560)===f?sc-ut():(f&4194048)===f?Dy-ut():0;if(ot=D1(Y,ot),ot!==null){lr=f,e.cancelPendingCommit=ot(Hy.bind(null,e,n,f,a,o,h,y,E,R,G,Y,null,j,q)),qr(e,f,y,!z);return}}Hy(e,n,f,a,o,h,y,E,R)}function Kb(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Rn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qr(e,n,a,o){n&=~Wf,n&=~$s,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-_e(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&Ss(e,a,n)}function lc(){return(Zt&6)===0?(ml(0),!1):!0}function rd(){if(Mt!==null){if(ie===0)var e=Mt.return;else e=Mt,Zi=js=null,Ef(e),ka=null,Xo=0,e=Mt;for(;e!==null;)fy(e.alternate,e),e=e.return;Mt=null}}function Ga(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,d1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),lr=0,rd(),ce=e,Mt=a=$i(e.current,null),Lt=n,ie=0,xn=null,Ur=!1,qa=Xn(e,n),Jf=!1,Ha=Dn=Wf=$s=zr=Re=0,En=fl=null,td=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-_e(o),f=1<<h;n|=e[h],o&=~f}return or=n,Nu(),a}function Ly(e,n){Ct=null,F.H=rl,n===Va||n===Pu?(n=Jg(),ie=3):n===lf?(n=Jg(),ie=4):ie=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Mt===null&&(Re=1,Zu(e,Bn(n,e.current)))}function Py(){var e=Cn.current;return e===null?!0:(Lt&4194048)===Lt?Gn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?e===Gn:!1}function Uy(){var e=F.H;return F.H=rl,e===null?rl:e}function zy(){var e=F.A;return F.A=Gb,e}function uc(){Re=4,Ur||(Lt&4194048)!==Lt&&Cn.current!==null||(qa=!0),(zr&134217727)===0&&($s&134217727)===0||ce===null||qr(ce,Lt,Dn,!1)}function sd(e,n,a){var o=Zt;Zt|=2;var h=Uy(),f=zy();(ce!==e||Lt!==n)&&(oc=null,Ga(e,n)),n=!1;var y=Re;t:do try{if(ie!==0&&Mt!==null){var E=Mt,R=xn;switch(ie){case 8:rd(),y=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var z=ie;if(ie=0,xn=null,Qa(e,E,R,z),a&&qa){y=0;break t}break;default:z=ie,ie=0,xn=null,Qa(e,E,R,z)}}Yb(),y=Re;break}catch(G){Ly(e,G)}while(!0);return n&&e.shellSuspendCounter++,Zi=js=null,Zt=o,F.H=h,F.A=f,Mt===null&&(ce=null,Lt=0,Nu()),y}function Yb(){for(;Mt!==null;)jy(Mt)}function $b(e,n){var a=Zt;Zt|=2;var o=Uy(),h=zy();ce!==e||Lt!==n?(oc=null,ac=ut()+500,Ga(e,n)):qa=Xn(e,n);t:do try{if(ie!==0&&Mt!==null){n=Mt;var f=xn;e:switch(ie){case 1:ie=0,xn=null,Qa(e,n,f,1);break;case 2:case 9:if(Xg(f)){ie=0,xn=null,By(n);break}n=function(){ie!==2&&ie!==9||ce!==e||(ie=7),Mi(e)},f.then(n,n);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:Xg(f)?(ie=0,xn=null,By(n)):(ie=0,xn=null,Qa(e,n,f,7));break;case 5:var y=null;switch(Mt.tag){case 26:y=Mt.memoizedState;case 5:case 27:var E=Mt;if(y?R_(y):E.stateNode.complete){ie=0,xn=null;var R=E.sibling;if(R!==null)Mt=R;else{var z=E.return;z!==null?(Mt=z,cc(z)):Mt=null}break e}}ie=0,xn=null,Qa(e,n,f,5);break;case 6:ie=0,xn=null,Qa(e,n,f,6);break;case 8:rd(),Re=6;break t;default:throw Error(s(462))}}Xb();break}catch(G){Ly(e,G)}while(!0);return Zi=js=null,F.H=o,F.A=h,Zt=a,Mt!==null?0:(ce=null,Lt=0,Nu(),Re)}function Xb(){for(;Mt!==null&&!So();)jy(Mt)}function jy(e){var n=cy(e.alternate,e,or);e.memoizedProps=e.pendingProps,n===null?cc(e):Mt=n}function By(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ry(a,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=ry(a,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:Ef(n);default:fy(a,n),n=Mt=zg(n,or),n=cy(a,n,or)}e.memoizedProps=e.pendingProps,n===null?cc(e):Mt=n}function Qa(e,n,a,o){Zi=js=null,Ef(n),ka=null,Xo=0;var h=n.return;try{if(Ub(e,h,n,a,Lt)){Re=1,Zu(e,Bn(a,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;Re=1,Zu(e,Bn(a,e.current)),Mt=null;return}n.flags&32768?(qt||o===1?e=!0:qa||(Lt&536870912)!==0?e=!1:(Ur=e=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),qy(n,e)):cc(n)}function cc(e){var n=e;do{if((n.flags&32768)!==0){qy(n,Ur);return}e=n.return;var a=Bb(n.alternate,n,or);if(a!==null){Mt=a;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);Re===0&&(Re=5)}function qy(e,n){do{var a=qb(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);Re=6,Mt=null}function Hy(e,n,a,o,h,f,y,E,R){e.cancelPendingCommit=null;do hc();while(Ge!==0);if((Zt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Qh,Ph(e,a,f,y,E,R),e===ce&&(Mt=ce=null,Lt=0),Fa=n,Br=e,lr=a,ed=f,nd=h,Oy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,t1(Ft,function(){return Yy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=et.p,et.p=2,y=Zt,Zt|=4;try{Hb(e,n,a)}finally{Zt=y,et.p=h,F.T=o}}Ge=1,Fy(),Gy(),Qy()}}function Fy(){if(Ge===1){Ge=0;var e=Br,n=Fa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=et.p;et.p=2;var h=Zt;Zt|=4;try{Sy(n,e);var f=yd,y=xg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Ng(E.ownerDocument.documentElement,E)){if(R!==null&&Bh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,pt=Math.min(R.start,ot),ue=R.end===void 0?pt:Math.min(R.end,ot);!q.extend&&pt>ue&&(y=ue,ue=pt,pt=y);var k=Cg(E,pt),O=Cg(E,ue);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var U=Y.createRange();U.setStart(k.node,k.offset),q.removeAllRanges(),pt>ue?(q.addRange(U),q.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),q.addRange(U))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ac=!!pd,yd=pd=null}finally{Zt=h,et.p=o,F.T=a}}e.current=n,Ge=2}}function Gy(){if(Ge===2){Ge=0;var e=Br,n=Fa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=et.p;et.p=2;var h=Zt;Zt|=4;try{vy(e,n.alternate,n)}finally{Zt=h,et.p=o,F.T=a}}Ge=3}}function Qy(){if(Ge===4||Ge===3){Ge=0,at();var e=Br,n=Fa,a=lr,o=Oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ge=5:(Ge=0,Fa=Br=null,Ky(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(jr=null),Gi(a),n=n.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(ee,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{F.T=n,et.p=h}}(lr&3)!==0&&hc(),Mi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===id?dl++:(dl=0,id=e):dl=0,ml(0)}}function Ky(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Yo(n)))}function hc(){return Fy(),Gy(),Qy(),Yy()}function Yy(){if(Ge!==5)return!1;var e=Br,n=ed;ed=0;var a=Gi(lr),o=F.T,h=et.p;try{et.p=32>a?32:a,F.T=null,a=nd,nd=null;var f=Br,y=lr;if(Ge=0,Fa=Br=null,lr=0,(Zt&6)!==0)throw Error(s(331));var E=Zt;if(Zt|=4,Ny(f.current),Ry(f,f.current,y,a),Zt=E,ml(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(ee,f)}catch{}return!0}finally{et.p=h,F.T=o,Ky(e,n)}}function $y(e,n,a){n=Bn(a,n),n=kf(e.stateNode,n,2),e=Vr(e,n,2),e!==null&&(As(e,2),Mi(e))}function re(e,n,a){if(e.tag===3)$y(e,e,a);else for(;n!==null;){if(n.tag===3){$y(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(jr===null||!jr.has(o))){e=Bn(a,e),a=Xp(2),o=Vr(n,a,2),o!==null&&(Zp(a,o,n,e),As(o,2),Mi(o));break}}n=n.return}}function ad(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Qb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Jf=!0,h.add(a),e=Zb.bind(null,e,n,a),n.then(e,e))}function Zb(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ce===e&&(Lt&a)===a&&(Re===4||Re===3&&(Lt&62914560)===Lt&&300>ut()-sc?(Zt&2)===0&&Ga(e,0):Wf|=a,Ha===Lt&&(Ha=0)),Mi(e)}function Xy(e,n){n===0&&(n=ou()),e=Ps(e,n),e!==null&&(As(e,n),Mi(e))}function Jb(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Xy(e,a)}function Wb(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Xy(e,a)}function t1(e,n){return Ie(e,n)}var fc=null,Ka=null,od=!1,dc=!1,ld=!1,Hr=0;function Mi(e){e!==Ka&&e.next===null&&(Ka===null?fc=Ka=e:Ka=Ka.next=e),dc=!0,od||(od=!0,n1())}function ml(e,n){if(!ld&&dc){ld=!0;do for(var a=!1,o=fc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_e(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,t_(o,f))}else f=Lt,f=gi(o,o===ce?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Xn(o,f)||(a=!0,t_(o,f));o=o.next}while(a);ld=!1}}function e1(){Zy()}function Zy(){dc=od=!1;var e=0;Hr!==0&&f1()&&(e=Hr);for(var n=ut(),a=null,o=fc;o!==null;){var h=o.next,f=Jy(o,n);f===0?(o.next=null,a===null?fc=h:a.next=h,h===null&&(Ka=a)):(a=o,(e!==0||(f&3)!==0)&&(dc=!0)),o=h}Ge!==0&&Ge!==5||ml(e),Hr!==0&&(Hr=0)}function Jy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-_e(f),E=1<<y,R=h[y];R===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Lh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ce,a=Lt,a=gi(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(ie===2||ie===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&fi(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Xn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&fi(o),Gi(a)){case 2:case 8:a=mt;break;case 32:a=Ft;break;case 268435456:a=Wt;break;default:a=Ft}return o=Wy.bind(null,e),a=Ie(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&fi(o),e.callbackPriority=2,e.callbackNode=null,2}function Wy(e,n){if(Ge!==0&&Ge!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(hc()&&e.callbackNode!==a)return null;var o=Lt;return o=gi(e,e===ce?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Vy(e,o,n),Jy(e,ut()),e.callbackNode!=null&&e.callbackNode===a?Wy.bind(null,e):null)}function t_(e,n){if(hc())return null;Vy(e,n,!0)}function n1(){m1(function(){(Zt&6)!==0?Ie(Ht,e1):Zy()})}function ud(){if(Hr===0){var e=Oa;e===0&&(e=di,di<<=1,(di&261888)===0&&(di=256)),Hr=e}return Hr}function e_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ya(""+e)}function n_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function i1(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=e_((h[Ye]||null).action),y=o.submitter;y&&(n=(n=y[Ye]||null)?e_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ri("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hr!==0){var R=y?n_(h,y):new FormData(h);Nf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?n_(h,y):new FormData(h),Nf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var cd=0;cd<Gh.length;cd++){var hd=Gh[cd],r1=hd.toLowerCase(),s1=hd[0].toUpperCase()+hd.slice(1);ri(r1,"on"+s1)}ri(Mg,"onAnimationEnd"),ri(Vg,"onAnimationIteration"),ri(kg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(Tb,"onTransitionRun"),ri(bb,"onTransitionStart"),ri(Ab,"onTransitionCancel"),ri(Lg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function i_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=R}else for(y=0;y<o.length;y++){if(E=o[y],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=R}}}}function Vt(e,n){var a=n[fa];a===void 0&&(a=n[fa]=new Set);var o=e+"__bubble";a.has(o)||(r_(n,e,2,!1),a.add(o))}function fd(e,n,a){var o=0;n&&(o|=4),r_(a,e,o,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function dd(e){if(!e[mc]){e[mc]=!0,Io.forEach(function(a){a!=="selectionchange"&&(a1.has(a)||fd(a,!1,e),fd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[mc]||(n[mc]=!0,fd("selectionchange",!1,n))}}function r_(e,n,a,o){switch(M_(n)){case 2:var h=V1;break;case 8:h=k1;break;default:h=Cd}a=h.bind(null,n,a,e),h=void 0,!Ns||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function md(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=vi(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){o=f=y;continue t}E=E.parentNode}}o=o.return}Sr(function(){var z=f,G=Pn(a),Y=[];t:{var j=Pg.get(e);if(j!==void 0){var q=Ri,ot=e;switch(e){case"keypress":if(Ds(a)===0)break t;case"keydown":case"keyup":q=wu;break;case"focusin":ot="focus",q=Ms;break;case"focusout":ot="blur",q=Ms;break;case"beforeblur":case"afterblur":q=Ms;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Mg:case Vg:case kg:q=_u;break;case Lg:q=T;break;case"scroll":case"scrollend":q=zo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Yi;break;case"toggle":case"beforetoggle":q=It}var pt=(n&4)!==0,ue=!pt&&(e==="scroll"||e==="scrollend"),k=pt?j!==null?j+"Capture":null:j;pt=[];for(var O=z,U;O!==null;){var K=O;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||k===null||(K=ti(O,k),K!=null&&pt.push(pl(O,K,U))),ue)break;O=O.return}0<pt.length&&(j=new q(j,ot,null,a,G),Y.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==Lo&&(ot=a.relatedTarget||a.fromElement)&&(vi(ot)||ot[yi]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=a.relatedTarget||a.toElement,q=z,ot=ot?vi(ot):null,ot!==null&&(ue=c(ot),pt=ot.tag,ot!==ue||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(pt=jo,K="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Yi,K="onPointerLeave",k="onPointerEnter",O="pointer"),ue=q==null?j:Sn(q),U=ot==null?j:Sn(ot),j=new pt(K,O+"leave",q,a,G),j.target=ue,j.relatedTarget=U,K=null,vi(G)===z&&(pt=new pt(k,O+"enter",ot,a,G),pt.target=U,pt.relatedTarget=ue,K=pt),ue=K,q&&ot)e:{for(pt=o1,k=q,O=ot,U=0,K=k;K;K=pt(K))U++;K=0;for(var ft=O;ft;ft=pt(ft))K++;for(;0<U-K;)k=pt(k),U--;for(;0<K-U;)O=pt(O),K--;for(;U--;){if(k===O||O!==null&&k===O.alternate){pt=k;break e}k=pt(k),O=pt(O)}pt=null}else pt=null;q!==null&&s_(Y,j,q,pt,!1),ot!==null&&ue!==null&&s_(Y,ue,ot,pt,!0)}}t:{if(j=z?Sn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Kt=bg;else if(Eg(j))if(Ag)Kt=_b;else{Kt=pb;var ct=gb}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&pa(z.elementType)&&(Kt=bg):Kt=yb;if(Kt&&(Kt=Kt(e,z))){Tg(Y,Kt,a,G);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Mo(j,"number",j.value)}switch(ct=z?Sn(z):window,e){case"focusin":(Eg(ct)||ct.contentEditable==="true")&&(Sa=ct,qh=z,Go=null);break;case"focusout":Go=qh=Sa=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Dg(Y,a,G);break;case"selectionchange":if(Eb)break;case"keydown":case"keyup":Dg(Y,a,G)}var xt;if(Xt)t:{switch(e){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Aa?Vs(e,a)&&(Pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(Ni&&a.locale!=="ko"&&(Aa||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Aa&&(xt=Uo()):(wi=G,Po="value"in wi?wi.value:wi.textContent,Aa=!0)),ct=gc(z,Pt),0<ct.length&&(Pt=new Ci(Pt,e,null,a,G),Y.push({event:Pt,listeners:ct}),xt?Pt.data=xt:(xt=ba(a),xt!==null&&(Pt.data=xt)))),(xt=zn?hb(e,a):fb(e,a))&&(Pt=gc(z,"onBeforeInput"),0<Pt.length&&(ct=new Ci("onBeforeInput","beforeinput",null,a,G),Y.push({event:ct,listeners:Pt}),ct.data=xt)),i1(Y,e,z,a,G)}i_(Y,n)})}function pl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function gc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ti(e,a),h!=null&&o.unshift(pl(e,h,f)),h=ti(e,n),h!=null&&o.push(pl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function o1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function s_(e,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=ti(a,f),z!=null&&y.unshift(pl(a,z,R))):h||(z=ti(a,f),z!=null&&y.push(pl(a,z,R)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var l1=/\r\n?/g,u1=/\u0000|\uFFFD/g;function a_(e){return(typeof e=="string"?e:""+e).replace(l1,`
`).replace(u1,"")}function o_(e,n){return n=a_(n),a_(e)===n}function le(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||pn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&pn(e,""+o);break;case"className":wn(e,"class",o);break;case"tabIndex":wn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(e,a,o);break;case"style":ko(e,o,f);break;case"data":if(n!=="object"){wn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ya(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&le(e,n,"name",h.name,h,null),le(e,n,"formEncType",h.formEncType,h,null),le(e,n,"formMethod",h.formMethod,h,null),le(e,n,"formTarget",h.formTarget,h,null)):(le(e,n,"encType",h.encType,h,null),le(e,n,"method",h.method,h,null),le(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ya(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Wn);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ya(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),ma(e,"popover",o);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ma(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gu.get(a)||a,ma(e,a,o))}}function gd(e,n,a,o,h,f){switch(a){case"style":ko(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?pn(e,o):(typeof o=="number"||typeof o=="bigint")&&pn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Ye]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ma(e,a,o)}}}function rn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:le(e,n,f,y,a,null)}}h&&le(e,n,"srcSet",a.srcSet,a,null),o&&le(e,n,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=f=y=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:le(e,n,o,G,a,null)}}fu(e,f,E,R,z,y,h,!1);return;case"select":Vt("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:le(e,n,h,E,a,null)}n=f,a=y,e.multiple=!!o,n!=null?Er(e,!!o,n,!1):a!=null&&Er(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:le(e,n,y,E,a,null)}Tr(e,o,h,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:le(e,n,R,o,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<gl.length;o++)Vt(gl[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:le(e,n,z,o,a,null)}return;default:if(pa(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&gd(e,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&le(e,n,E,o,a,null))}function c1(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,R=null,z=null,G=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||le(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=a[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Y&&le(e,n,j,q,o,Y)}}ga(e,y,E,R,z,G,f,h);return;case"select":q=y=E=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||le(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&le(e,n,h,f,o,R)}n=E,a=y,o=q,j!=null?Er(e,!!a,j,!1):!!o!=!!a&&(n!=null?Er(e,!!a,n,!0):Er(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:le(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&le(e,n,y,h,o,f)}du(e,j,q);return;case"option":for(var ot in a)if(j=a[ot],a.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:le(e,n,ot,null,o,j)}for(R in o)if(j=o[R],q=a[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:le(e,n,R,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)j=a[pt],a.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&le(e,n,pt,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:le(e,n,z,j,o,q)}return;default:if(pa(n)){for(var ue in a)j=a[ue],a.hasOwnProperty(ue)&&j!==void 0&&!o.hasOwnProperty(ue)&&gd(e,n,ue,void 0,o,j);for(G in o)j=o[G],q=a[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||gd(e,n,G,j,o,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&le(e,n,k,null,o,j);for(Y in o)j=o[Y],q=a[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||le(e,n,Y,j,o,q)}function l_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function h1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&l_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>E)break;var G=R.transferSize,Y=R.initiatorType;G&&l_(Y)&&(R=R.responseEnd,y+=G*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pd=null,yd=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function u_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function _d(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vd=null;function f1(){var e=window.event;return e&&e.type==="popstate"?e===vd?!1:(vd=e,!0):(vd=null,!1)}var h_=typeof setTimeout=="function"?setTimeout:void 0,d1=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,m1=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(e){return f_.resolve(null).then(e).catch(g1)}:h_;function g1(e){setTimeout(function(){throw e})}function Fr(e){return e==="head"}function d_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Za(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")yl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,yl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[_i]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&yl(e.ownerDocument.body);a=h}while(a);Za(n)}function m_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Ed(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ed(a),da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function p1(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[_i])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function y1(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Qn(e.nextSibling),e===null))return null;return e}function g_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qn(e.nextSibling),e===null))return null;return e}function Td(e){return e.data==="$?"||e.data==="$~"}function bd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _1(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ad=null;function p_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Qn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function y_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function __(e,n,a){switch(n=pc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function yl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);da(e)}var Kn=new Map,v_=new Set;function yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ur=et.d;et.d={f:v1,r:E1,D:T1,C:b1,L:A1,m:S1,X:R1,S:w1,M:I1};function v1(){var e=ur.f(),n=lc();return e||n}function E1(e){var n=Ln(e);n!==null&&n.tag===5&&n.type==="form"?Lp(n):ur.r(e)}var Ya=typeof document>"u"?null:document;function E_(e,n,a){var o=Ya;if(o&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),v_.has(h)||(v_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),rn(n,"link",e),ke(n),o.head.appendChild(n)))}}function T1(e){ur.D(e),E_("dns-prefetch",e,null)}function b1(e,n){ur.C(e,n),E_("preconnect",e,n)}function A1(e,n,a){ur.L(e,n,a);var o=Ya;if(o&&e&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gn(a.imageSizes)+'"]')):h+='[href="'+gn(e)+'"]';var f=h;switch(n){case"style":f=$a(e);break;case"script":f=Xa(e)}Kn.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(_l(f))||n==="script"&&o.querySelector(vl(f))||(n=o.createElement("link"),rn(n,"link",e),ke(n),o.head.appendChild(n)))}}function S1(e,n){ur.m(e,n);var a=Ya;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Xa(e)}if(!Kn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Kn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(f)))return}o=a.createElement("link"),rn(o,"link",e),ke(o),a.head.appendChild(o)}}}function w1(e,n,a){ur.S(e,n,a);var o=Ya;if(o&&e){var h=Ei(o).hoistableStyles,f=$a(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(_l(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Kn.get(f))&&Sd(e,a);var R=y=o.createElement("link");ke(R),rn(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,_c(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function R1(e,n){ur.X(e,n);var a=Ya;if(a&&e){var o=Ei(a).hoistableScripts,h=Xa(e),f=o.get(h);f||(f=a.querySelector(vl(h)),f||(e=A({src:e,async:!0},n),(n=Kn.get(h))&&wd(e,n),f=a.createElement("script"),ke(f),rn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function I1(e,n){ur.M(e,n);var a=Ya;if(a&&e){var o=Ei(a).hoistableScripts,h=Xa(e),f=o.get(h);f||(f=a.querySelector(vl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Kn.get(h))&&wd(e,n),f=a.createElement("script"),ke(f),rn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function T_(e,n,a,o){var h=(h=ht.current)?yc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=$a(a.href),a=Ei(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=$a(a.href);var f=Ei(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(_l(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(e,a),f||C1(h,e,a,y.state))),n&&o===null)throw Error(s(528,""));return y}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Xa(a),a=Ei(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function $a(e){return'href="'+gn(e)+'"'}function _l(e){return'link[rel="stylesheet"]['+e+"]"}function b_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function C1(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),rn(n,"link",a),ke(n),e.head.appendChild(n))}function Xa(e){return'[src="'+gn(e)+'"]'}function vl(e){return"script[async]"+e}function A_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+gn(a.href)+'"]');if(o)return n.instance=o,ke(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ke(o),rn(o,"style",h),_c(o,a.precedence,e),n.instance=o;case"stylesheet":h=$a(a.href);var f=e.querySelector(_l(h));if(f)return n.state.loading|=4,n.instance=f,ke(f),f;o=b_(a),(h=Kn.get(h))&&Sd(o,h),f=(e.ownerDocument||e).createElement("link"),ke(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),rn(f,"link",o),n.state.loading|=4,_c(f,a.precedence,e),n.instance=f;case"script":return f=Xa(a.src),(h=e.querySelector(vl(f)))?(n.instance=h,ke(h),h):(o=a,(h=Kn.get(f))&&(o=A({},a),wd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ke(h),rn(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,_c(o,a.precedence,e));return n.instance}function _c(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function wd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vc=null;function S_(e,n,a){if(vc===null){var o=new Map,h=vc=new Map;h.set(a,o)}else h=vc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[_i]||f[Ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function w_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function N1(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function R_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function x1(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=$a(o.href),f=n.querySelector(_l(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ec.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,ke(f);return}f=n.ownerDocument||n,o=b_(o),(h=Kn.get(h))&&Sd(o,h),f=f.createElement("link"),ke(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),rn(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ec.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Rd=0;function D1(e,n){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Rd===0&&(Rd=62500*h1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Rd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function bc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,n.forEach(O1,e),Tc=null,Ec.call(e))}function O1(e,n){if(!(n.state.loading&4)){var a=Tc.get(e);if(a)var o=a.get(null);else{a=new Map,Tc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var El={$$typeof:yt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function M1(e,n,a,o,h,f,y,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function I_(e,n,a,o,h,f,y,E,R,z,G,Y){return e=new M1(e,n,a,y,R,z,G,Y,E),n=1,f===!0&&(n|=24),f=In(3,null,null,n),e.current=f,f.stateNode=e,n=sf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},uf(f),e}function C_(e){return e?(e=Ia,e):Ia}function N_(e,n,a,o,h,f){h=C_(h),o.context===null?o.context=h:o.pendingContext=h,o=Mr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Vr(e,o,n),a!==null&&(Tn(a,e,n),Jo(a,e,n))}function x_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Id(e,n){x_(e,n),(e=e.alternate)&&x_(e,n)}function D_(e){if(e.tag===13||e.tag===31){var n=Ps(e,67108864);n!==null&&Tn(n,e,67108864),Id(e,67108864)}}function O_(e){if(e.tag===13||e.tag===31){var n=On();n=ws(n);var a=Ps(e,n);a!==null&&Tn(a,e,n),Id(e,n)}}var Ac=!0;function V1(e,n,a,o){var h=F.T;F.T=null;var f=et.p;try{et.p=2,Cd(e,n,a,o)}finally{et.p=f,F.T=h}}function k1(e,n,a,o){var h=F.T;F.T=null;var f=et.p;try{et.p=8,Cd(e,n,a,o)}finally{et.p=f,F.T=h}}function Cd(e,n,a,o){if(Ac){var h=Nd(o);if(h===null)md(e,n,o,Sc,a),V_(e,o);else if(P1(h,e,n,a,o))o.stopPropagation();else if(V_(e,o),n&4&&-1<L1.indexOf(e)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=mi(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-_e(y);E.entanglements[1]|=R,y&=~R}Mi(f),(Zt&6)===0&&(ac=ut()+500,ml(0))}}break;case 31:case 13:E=Ps(f,2),E!==null&&Tn(E,f,2),lc(),Id(f,2)}if(f=Nd(o),f===null&&md(e,n,o,Sc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else md(e,n,o,null,a)}}function Nd(e){return e=Pn(e),xd(e)}var Sc=null;function xd(e){if(Sc=null,e=vi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sc=e,null}function M_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rt()){case Ht:return 2;case mt:return 8;case Ft:case Nt:return 32;case Wt:return 268435456;default:return 32}default:return 32}}var Dd=!1,Gr=null,Qr=null,Kr=null,Tl=new Map,bl=new Map,Yr=[],L1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V_(e,n){switch(e){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Tl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(n.pointerId)}}function Al(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&D_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function P1(e,n,a,o,h){switch(n){case"focusin":return Gr=Al(Gr,e,n,a,o,h),!0;case"dragenter":return Qr=Al(Qr,e,n,a,o,h),!0;case"mouseover":return Kr=Al(Kr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Tl.set(f,Al(Tl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,bl.set(f,Al(bl.get(f)||null,e,n,a,o,h)),!0}return!1}function k_(e){var n=vi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Zn(e.priority,function(){O_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Zn(e.priority,function(){O_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Nd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Lo=o,a.target.dispatchEvent(o),Lo=null}else return n=Ln(a),n!==null&&D_(n),e.blockedOn=a,!1;n.shift()}return!0}function L_(e,n,a){wc(e)&&a.delete(n)}function U1(){Dd=!1,Gr!==null&&wc(Gr)&&(Gr=null),Qr!==null&&wc(Qr)&&(Qr=null),Kr!==null&&wc(Kr)&&(Kr=null),Tl.forEach(L_),bl.forEach(L_)}function Rc(e,n){e.blockedOn===n&&(e.blockedOn=null,Dd||(Dd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,U1)))}var Ic=null;function P_(e){Ic!==e&&(Ic=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ic===e&&(Ic=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(xd(o||a)===null)continue;break}var f=Ln(a);f!==null&&(e.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Za(e){function n(R){return Rc(R,e)}Gr!==null&&Rc(Gr,e),Qr!==null&&Rc(Qr,e),Kr!==null&&Rc(Kr,e),Tl.forEach(n),bl.forEach(n);for(var a=0;a<Yr.length;a++){var o=Yr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)k_(a),a.blockedOn===null&&Yr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Ye]||null;if(typeof f=="function")y||P_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Ye]||null)E=y.formAction;else if(xd(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),P_(a)}}}function U_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(e){this._internalRoot=e}Cc.prototype.render=Od.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=On();N_(a,o,e,n,null,null)},Cc.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;N_(e.current,2,null,e,null,null),lc(),n[yi]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=lu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Yr.length&&n!==0&&n<Yr[a].priority;a++);Yr.splice(a,0,e),a===0&&k_(e)}};var z_=t.version;if(z_!=="19.2.0")throw Error(s(527,z_,"19.2.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var z1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{ee=Nc.inject(z1),kt=Nc}catch{}}return wl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=Qp,f=Kp,y=Yp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=I_(e,1,!1,null,null,a,o,null,h,f,y,U_),e[yi]=n.current,dd(e),new Od(n)},wl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Qp,y=Kp,E=Yp,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=I_(e,1,!0,n,a??null,o,h,R,f,y,E,U_),n.context=C_(null),a=n.current,o=On(),o=ws(o),h=Mr(o),h.callback=null,Vr(a,h,o),a=o,n.current.lanes=a,As(n,a),Mi(n),e[yi]=n.current,dd(e),new Cc(n)},wl.version="19.2.0",wl}var $_;function $1(){if($_)return kd.exports;$_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),kd.exports=Y1(),kd.exports}var X1=$1();const Z1=()=>{};var X_={};const xv=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},J1=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,g=l+2<r.length,_=g?r[l+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let D=(p&15)<<2|_>>6,Q=_&63;g||(Q=64,d||(D=64)),s.push(i[b],i[A],i[D],i[Q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(xv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):J1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new W1;const D=c<<2|p>>4;if(s.push(D),_!==64){const Q=p<<4&240|_>>2;if(s.push(Q),A!==64){const Z=_<<6&192|A;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class W1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tA=function(r){const t=xv(r);return Dv.encodeByteArray(t,!0)},Yc=function(r){return tA(r).replace(/\./g,"")},Ov=function(r){try{return Dv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function eA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nA=()=>eA().__FIREBASE_DEFAULTS__,iA=()=>{if(typeof process>"u"||typeof X_>"u")return;const r=X_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},rA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Ov(r[1]);return t&&JSON.parse(t)},mh=()=>{try{return Z1()||nA()||iA()||rA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Mv=r=>mh()?.emulatorHosts?.[r],sA=r=>{const t=Mv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},Vv=()=>mh()?.config,kv=r=>mh()?.[`_${r}`];class aA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function po(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lv(r){return(await fetch(r,{credentials:"include"})).ok}function oA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Ol={};function lA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ol))Ol[t]?r.emulator.push(t):r.prod.push(t);return r}function uA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let Z_=!1;function Pv(r,t){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||Ol[r]===t||Ol[r]||Z_)return;Ol[r]=t;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=lA().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function g(D,Q){D.setAttribute("width","24"),D.setAttribute("id",Q),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{Z_=!0,d()},D}function b(D,Q){D.setAttribute("id",Q),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function A(){const D=uA(s),Q=i("text"),Z=document.getElementById(Q)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),gt=i("preprendIcon"),bt=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const yt=D.element;p(yt),b(J,nt);const Jt=_();g(bt,gt),yt.append(bt,Z,J,Jt),document.body.appendChild(yt)}c?(Z.innerText="Preview backend disconnected.",bt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(bt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function hA(){const r=mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function mA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gA(){const r=fn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function pA(){return!hA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yA(){try{return typeof indexedDB=="object"}catch{return!1}}function _A(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const vA="FirebaseError";class pr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=vA,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?EA(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new pr(l,p,s)}}function EA(r,t){return r.replace(TA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const TA=/\{\$([^}]+)}/g;function bA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ta(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(J_(c)&&J_(d)){if(!ta(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function J_(r){return r!==null&&typeof r=="object"}function Yl(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Rl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Il(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function AA(r,t){const i=new SA(r,t);return i.subscribe.bind(i)}class SA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");wA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=zd),l.error===void 0&&(l.error=zd),l.complete===void 0&&(l.complete=zd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function zd(){}function Oe(r){return r&&r._delegate?r._delegate:r}class ea{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xs="[DEFAULT]";class RA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new aA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(CA(t))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Xs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xs){return this.instances.has(t)}getOptions(t=Xs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:IA(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Xs){return this.component?this.component.multipleInstances?t:Xs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IA(r){return r===Xs?void 0:r}function CA(r){return r.instantiationMode==="EAGER"}class NA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new RA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const xA={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},DA=Ut.INFO,OA={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},MA=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=OA[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cm{constructor(t){this.name=t,this._logLevel=DA,this._logHandler=MA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const VA=(r,t)=>t.some(i=>r instanceof i);let W_,t0;function kA(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LA(){return t0||(t0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,Wd=new WeakMap,zv=new WeakMap,jd=new WeakMap,Nm=new WeakMap;function PA(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(rs(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Uv.set(i,r)}).catch(()=>{}),Nm.set(t,r),t}function UA(r){if(Wd.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Wd.set(r,t)}let tm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Wd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||zv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return rs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function zA(r){tm=r(tm)}function jA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Bd(this),t,...i);return zv.set(s,t.sort?t.sort():[t]),rs(s)}:LA().includes(r)?function(...t){return r.apply(Bd(this),t),rs(Uv.get(this))}:function(...t){return rs(r.apply(Bd(this),t))}}function BA(r){return typeof r=="function"?jA(r):(r instanceof IDBTransaction&&UA(r),VA(r,kA())?new Proxy(r,tm):r)}function rs(r){if(r instanceof IDBRequest)return PA(r);if(jd.has(r))return jd.get(r);const t=BA(r);return t!==r&&(jd.set(r,t),Nm.set(t,r)),t}const Bd=r=>Nm.get(r);function qA(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=rs(d);return s&&d.addEventListener("upgradeneeded",g=>{s(rs(d.result),g.oldVersion,g.newVersion,rs(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const HA=["get","getKey","getAll","getAllKeys","count"],FA=["put","add","delete","clear"],qd=new Map;function e0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(qd.get(t))return qd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=FA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||HA.includes(i)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&g.done]))[0]};return qd.set(t,c),c}zA(r=>({...r,get:(t,i,s)=>e0(t,i)||r.get(t,i,s),has:(t,i)=>!!e0(t,i)||r.has(t,i)}));class GA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(QA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function QA(r){return r.getComponent()?.type==="VERSION"}const em="@firebase/app",n0="0.14.6";const fr=new Cm("@firebase/app"),KA="@firebase/app-compat",YA="@firebase/analytics-compat",$A="@firebase/analytics",XA="@firebase/app-check-compat",ZA="@firebase/app-check",JA="@firebase/auth",WA="@firebase/auth-compat",tS="@firebase/database",eS="@firebase/data-connect",nS="@firebase/database-compat",iS="@firebase/functions",rS="@firebase/functions-compat",sS="@firebase/installations",aS="@firebase/installations-compat",oS="@firebase/messaging",lS="@firebase/messaging-compat",uS="@firebase/performance",cS="@firebase/performance-compat",hS="@firebase/remote-config",fS="@firebase/remote-config-compat",dS="@firebase/storage",mS="@firebase/storage-compat",gS="@firebase/firestore",pS="@firebase/ai",yS="@firebase/firestore-compat",_S="firebase",vS="12.6.0";const nm="[DEFAULT]",ES={[em]:"fire-core",[KA]:"fire-core-compat",[$A]:"fire-analytics",[YA]:"fire-analytics-compat",[ZA]:"fire-app-check",[XA]:"fire-app-check-compat",[JA]:"fire-auth",[WA]:"fire-auth-compat",[tS]:"fire-rtdb",[eS]:"fire-data-connect",[nS]:"fire-rtdb-compat",[iS]:"fire-fn",[rS]:"fire-fn-compat",[sS]:"fire-iid",[aS]:"fire-iid-compat",[oS]:"fire-fcm",[lS]:"fire-fcm-compat",[uS]:"fire-perf",[cS]:"fire-perf-compat",[hS]:"fire-rc",[fS]:"fire-rc-compat",[dS]:"fire-gcs",[mS]:"fire-gcs-compat",[gS]:"fire-fst",[yS]:"fire-fst-compat",[pS]:"fire-vertex","fire-js":"fire-js",[_S]:"fire-js-all"};const $c=new Map,TS=new Map,im=new Map;function i0(r,t){try{r.container.addComponent(t)}catch(i){fr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function oo(r){const t=r.name;if(im.has(t))return fr.debug(`There were multiple attempts to register component ${t}.`),!1;im.set(t,r);for(const i of $c.values())i0(i,r);for(const i of TS.values())i0(i,r);return!0}function xm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function oi(r){return r==null?!1:r.settings!==void 0}const bS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new Kl("app","Firebase",bS);class AS{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}const yo=vS;function jv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:nm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw ss.create("bad-app-name",{appName:String(l)});if(i||(i=Vv()),!i)throw ss.create("no-options");const c=$c.get(l);if(c){if(ta(i,c.options)&&ta(s,c.config))return c;throw ss.create("duplicate-app",{appName:l})}const d=new NA(l);for(const g of im.values())d.addComponent(g);const p=new AS(i,s,d);return $c.set(l,p),p}function Bv(r=nm){const t=$c.get(r);if(!t&&r===nm&&Vv())return jv();if(!t)throw ss.create("no-app",{appName:r});return t}function as(r,t,i){let s=ES[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fr.warn(d.join(" "));return}oo(new ea(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const SS="firebase-heartbeat-database",wS=1,Ul="firebase-heartbeat-store";let Hd=null;function qv(){return Hd||(Hd=qA(SS,wS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(r=>{throw ss.create("idb-open",{originalErrorMessage:r.message})})),Hd}async function RS(r){try{const i=(await qv()).transaction(Ul),s=await i.objectStore(Ul).get(Hv(r));return await i.done,s}catch(t){if(t instanceof pr)fr.warn(t.message);else{const i=ss.create("idb-get",{originalErrorMessage:t?.message});fr.warn(i.message)}}}async function r0(r,t){try{const s=(await qv()).transaction(Ul,"readwrite");await s.objectStore(Ul).put(t,Hv(r)),await s.done}catch(i){if(i instanceof pr)fr.warn(i.message);else{const s=ss.create("idb-set",{originalErrorMessage:i?.message});fr.warn(s.message)}}}function Hv(r){return`${r.name}!${r.options.appId}`}const IS=1024,CS=30;class NS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new DS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=s0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>CS){const l=OS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){fr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=s0(),{heartbeatsToSend:i,unsentEntries:s}=xS(this._heartbeatsCache.heartbeats),l=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return fr.warn(t),""}}}function s0(){return new Date().toISOString().substring(0,10)}function xS(r,t=IS){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),a0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),a0(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class DS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yA()?_A().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await RS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return r0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return r0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function a0(r){return Yc(JSON.stringify({version:2,heartbeats:r})).length}function OS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}function MS(r){oo(new ea("platform-logger",t=>new GA(t),"PRIVATE")),oo(new ea("heartbeat",t=>new NS(t),"PRIVATE")),as(em,n0,r),as(em,n0,"esm2020"),as("fire-js","")}MS("");var VS="firebase",kS="12.6.0";as(VS,kS,"app");function Fv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LS=Fv,Gv=new Kl("auth","Firebase",Fv());const Xc=new Cm("@firebase/auth");function PS(r,...t){Xc.logLevel<=Ut.WARN&&Xc.warn(`Auth (${yo}): ${r}`,...t)}function Uc(r,...t){Xc.logLevel<=Ut.ERROR&&Xc.error(`Auth (${yo}): ${r}`,...t)}function ui(r,...t){throw Dm(r,...t)}function ki(r,...t){return Dm(r,...t)}function Qv(r,t,i){const s={...LS(),[t]:i};return new Kl("auth","Firebase",s).create(t,{appName:r.name})}function os(r){return Qv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return Gv.create(r,...t)}function vt(r,t,...i){if(!r)throw Dm(t,...i)}function cr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Uc(t),new Error(t)}function dr(r,t){r||cr(t)}function rm(){return typeof self<"u"&&self.location?.href||""}function US(){return o0()==="http:"||o0()==="https:"}function o0(){return typeof self<"u"&&self.location?.protocol||null}function zS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(US()||dA()||"connection"in navigator)?navigator.onLine:!0}function jS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class $l{constructor(t,i){this.shortDelay=t,this.longDelay=i,dr(i>t,"Short delay should be less than long delay!"),this.isMobile=cA()||mA()}get(){return zS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Om(r,t){dr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Kv{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HS=new $l(3e4,6e4);function aa(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ys(r,t,i,s,l={}){return Yv(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=Yl({key:r.config.apiKey,...d}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:g,...c};return fA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&po(r.emulatorConfig.host)&&(_.credentials="include"),Kv.fetch()(await $v(r,r.config.apiHost,i,p),_)})}async function Yv(r,t,i){r._canInitEmulator=!1;const s={...BS,...t};try{const l=new GS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw xc(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw xc(r,"user-disabled",d);const b=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Qv(r,b,_);ui(r,b)}}catch(l){if(l instanceof pr)throw l;ui(r,"network-request-failed",{message:String(l)})}}async function gh(r,t,i,s,l={}){const c=await ys(r,t,i,s,l);return"mfaPendingCredential"in c&&ui(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function $v(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?Om(r.config,l):`${r.config.apiScheme}://${l}`;return qS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function FS(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(ki(this.auth,"network-request-failed")),HS.get())})}}function xc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=ki(r,t,s);return l.customData._tokenResponse=i,l}function l0(r){return r!==void 0&&r.enterprise!==void 0}class QS{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return FS(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KS(r,t){return ys(r,"GET","/v2/recaptchaConfig",aa(r,t))}async function YS(r,t){return ys(r,"POST","/v1/accounts:delete",t)}async function Zc(r,t){return ys(r,"POST","/v1/accounts:lookup",t)}function Ml(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $S(r,t=!1){const i=Oe(r),s=await i.getIdToken(t),l=Mm(s);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Ml(Fd(l.auth_time)),issuedAtTime:Ml(Fd(l.iat)),expirationTime:Ml(Fd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(r){return Number(r)*1e3}function Mm(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Ov(i);return l?JSON.parse(l):(Uc("Failed to decode base64 JWT payload"),null)}catch(l){return Uc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function u0(r){const t=Mm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function zl(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof pr&&XS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function XS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class ZS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jc(r){const t=r.auth,i=await r.getIdToken(),s=await zl(r,Zc(t,{idToken:i}));vt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Xv(l.providerUserInfo):[],d=WS(r.providerData,c),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!d?.length,_=p?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function JS(r){const t=Oe(r);await Jc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function WS(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function Xv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function tw(r,t){const i=await Yv(r,{},async()=>{const s=Yl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await $v(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&po(r.emulatorConfig.host)&&(g.credentials="include"),Kv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ew(r,t){return ys(r,"POST","/v2/accounts:revokeToken",aa(r,t))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):u0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=u0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await tw(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new io;return s&&(vt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return cr("not implemented")}}function Xr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class li{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new ZS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await zl(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return $S(this,t)}reload(){return JS(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new li({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(os(this.auth));const t=await this.getIdToken();return await zl(this,YS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:D,isAnonymous:Q,providerData:Z,stsTokenManager:nt}=i;vt(A&&nt,t,"internal-error");const J=io.fromJSON(this.name,nt);vt(typeof A=="string",t,"internal-error"),Xr(s,t.name),Xr(l,t.name),vt(typeof D=="boolean",t,"internal-error"),vt(typeof Q=="boolean",t,"internal-error"),Xr(c,t.name),Xr(d,t.name),Xr(p,t.name),Xr(g,t.name),Xr(_,t.name),Xr(b,t.name);const gt=new li({uid:A,auth:t,email:l,emailVerified:D,displayName:s,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:b});return Z&&Array.isArray(Z)&&(gt.providerData=Z.map(bt=>({...bt}))),g&&(gt._redirectEventId=g),gt}static async _fromIdTokenResponse(t,i,s=!1){const l=new io;l.updateFromServerResponse(i);const c=new li({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Jc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Xv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new io;p.updateFromIdToken(s);const g=new li({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const c0=new Map;function hr(r){dr(r instanceof Function,"Expected a class definition");let t=c0.get(r);return t?(dr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,c0.set(r,t),t)}class Zv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Zv.type="NONE";const h0=Zv;function zc(r,t,i){return`firebase:${r}:${t}:${i}`}class ro{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Zc(this.auth,{idToken:t}).catch(()=>{});return i?li._fromGetAccountInfoResponse(this.auth,i,t):null}return li._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new ro(hr(h0),t,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||hr(h0);const d=zc(s,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const D=await Zc(t,{idToken:b}).catch(()=>{});if(!D)break;A=await li._fromGetAccountInfoResponse(t,D,b)}else A=li._fromJSON(t,b);_!==c&&(p=A),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new ro(c,t,s):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ro(c,t,s))}}function f0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Jv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(iE(t))return"Blackberry";if(rE(t))return"Webos";if(Wv(t))return"Safari";if((t.includes("chrome/")||tE(t))&&!t.includes("edge/"))return"Chrome";if(nE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function Jv(r=fn()){return/firefox\//i.test(r)}function Wv(r=fn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tE(r=fn()){return/crios\//i.test(r)}function eE(r=fn()){return/iemobile/i.test(r)}function nE(r=fn()){return/android/i.test(r)}function iE(r=fn()){return/blackberry/i.test(r)}function rE(r=fn()){return/webos/i.test(r)}function Vm(r=fn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function nw(r=fn()){return Vm(r)&&!!window.navigator?.standalone}function iw(){return gA()&&document.documentMode===10}function sE(r=fn()){return Vm(r)||nE(r)||rE(r)||iE(r)||/windows phone/i.test(r)||eE(r)}function aE(r,t=[]){let i;switch(r){case"Browser":i=f0(fn());break;case"Worker":i=`${f0(fn())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${yo}/${s}`}class rw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const g=t(c);d(g)}catch(g){p(g)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function sw(r,t={}){return ys(r,"GET","/v2/passwordPolicy",aa(r,t))}const aw=6;class ow{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??aw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class lw{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d0(this),this.idTokenSubscription=new d0(this),this.beforeStateQueue=new rw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=hr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ro.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Zc(this,{idToken:t}),s=await li._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(oi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Jc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=jS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(oi(this.app))return Promise.reject(os(this));const i=t?Oe(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return oi(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await sw(this),i=new ow(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Kl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await ew(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&hr(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[hr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,s,l);return()=>{d=!0,g()}}else{const g=t.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=aE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&PS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function _o(r){return Oe(r)}class d0{constructor(t){this.auth=t,this.observer=null,this.addObserver=AA(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uw(r){ph=r}function oE(r){return ph.loadJS(r)}function cw(){return ph.recaptchaEnterpriseScript}function hw(){return ph.gapiScript}function fw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class dw{constructor(){this.enterprise=new mw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class mw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const gw="recaptcha-enterprise",lE="NO_RECAPTCHA";class pw{constructor(t){this.type=gw,this.auth=_o(t)}async verify(t="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{KS(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new QS(g);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;l0(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(lE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!i&&l0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=cw();g.length!==0&&(g+=p),oE(g).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function m0(r,t,i,s=!1,l=!1){const c=new pw(r);let d;if(l)d=lE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function g0(r,t,i,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await m0(r,t,i,i==="getOobCode");return s(r,c)}else return s(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await m0(r,t,i,i==="getOobCode");return s(r,d)}else return Promise.reject(c)})}function yw(r,t){const i=xm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ta(c,t??{}))return l;ui(l,"already-initialized")}return i.initialize({options:t})}function _w(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(hr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function vw(r,t,i){const s=_o(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=uE(t),{host:d,port:p}=Ew(t),g=p===null?"":`:${p}`,_={url:`${c}//${d}${g}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(ta(_,s.config.emulator)&&ta(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,po(d)?(Lv(`${c}//${d}${g}`),Pv("Auth",!0)):Tw()}function uE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Ew(r){const t=uE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:p0(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:p0(d)}}}function p0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Tw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class km{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return cr("not implemented")}_getIdTokenResponse(t){return cr("not implemented")}_linkToIdToken(t,i){return cr("not implemented")}_getReauthenticationResolver(t){return cr("not implemented")}}async function bw(r,t){return ys(r,"POST","/v1/accounts:signUp",t)}async function Aw(r,t){return gh(r,"POST","/v1/accounts:signInWithPassword",aa(r,t))}async function Sw(r,t){return gh(r,"POST","/v1/accounts:signInWithEmailLink",aa(r,t))}async function ww(r,t){return gh(r,"POST","/v1/accounts:signInWithEmailLink",aa(r,t))}class jl extends km{constructor(t,i,s,l=null){super("password",s),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new jl(t,i,"password")}static _fromEmailAndCode(t,i,s=null){return new jl(t,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return g0(t,i,"signInWithPassword",Aw);case"emailLink":return Sw(t,{email:this._email,oobCode:this._password});default:ui(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return g0(t,s,"signUpPassword",bw);case"emailLink":return ww(t,{idToken:i,email:this._email,oobCode:this._password});default:ui(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function so(r,t){return gh(r,"POST","/v1/accounts:signInWithIdp",aa(r,t))}const Rw="http://localhost";class na extends km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new na(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ui("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new na(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return so(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,so(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,so(t,i)}buildRequest(){const t={requestUri:Rw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Yl(i)}return t}}function Iw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Cw(r){const t=Rl(Il(r)).link,i=t?Rl(Il(t)).deep_link_id:null,s=Rl(Il(r)).deep_link_id;return(s?Rl(Il(s)).link:null)||s||i||t||r}class Lm{constructor(t){const i=Rl(Il(t)),s=i.apiKey??null,l=i.oobCode??null,c=Iw(i.mode??null);vt(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=Cw(t);try{return new Lm(i)}catch{return null}}}class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(t,i){return jl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const s=Lm.parseLink(i);return vt(s,"argument-error"),jl._fromEmailAndCode(t,s.code,s.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class cE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Xl extends cE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Wr extends Xl{constructor(){super("facebook.com")}static credential(t){return na._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wr.credential(t.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";class ts extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return na._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return ts.credential(i,s)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";class es extends Xl{constructor(){super("github.com")}static credential(t){return na._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return es.credential(t.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";class ns extends Xl{constructor(){super("twitter.com")}static credential(t,i){return na._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return ns.credential(i,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";class lo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await li._fromIdTokenResponse(t,s,l),d=y0(s);return new lo({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=y0(s);return new lo({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function y0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Wc extends pr{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new Wc(t,i,s,l)}}function hE(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(r,c,t,s):c})}async function Nw(r,t,i=!1){const s=await zl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return lo._forOperation(r,"link",s)}async function xw(r,t,i=!1){const{auth:s}=r;if(oi(s.app))return Promise.reject(os(s));const l="reauthenticate";try{const c=await zl(r,hE(s,l,t,r),i);vt(c.idToken,s,"internal-error");const d=Mm(c.idToken);vt(d,s,"internal-error");const{sub:p}=d;return vt(r.uid===p,s,"user-mismatch"),lo._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ui(s,"user-mismatch"),c}}async function fE(r,t,i=!1){if(oi(r.app))return Promise.reject(os(r));const s="signIn",l=await hE(r,s,t),c=await lo._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function Dw(r,t){return fE(_o(r),t)}async function Ow(r){const t=_o(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Mw(r,t,i){return oi(r.app)?Promise.reject(os(r)):Dw(Oe(r),vo.credential(t,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Ow(r),s})}function Vw(r,t,i,s){return Oe(r).onIdTokenChanged(t,i,s)}function kw(r,t,i){return Oe(r).beforeAuthStateChanged(t,i)}function Lw(r,t,i,s){return Oe(r).onAuthStateChanged(t,i,s)}function Pw(r){return Oe(r).signOut()}const th="__sak";class dE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Uw=1e3,zw=10;class mE extends dE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);iw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,zw):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},Uw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}mE.type="LOCAL";const jw=mE;class gE extends dE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}gE.type="SESSION";const pE=gE;function Bw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new yh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),g=await Bw(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];function Pm(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}class qw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const _=Pm("",20);l.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(A){const D=A;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(D.data.response);break;default:clearTimeout(b),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Li(){return window}function Hw(r){Li().location.href=r}function yE(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function Fw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Gw(){return navigator?.serviceWorker?.controller||null}function Qw(){return yE()?self:null}const _E="firebaseLocalStorageDb",Kw=1,eh="firebaseLocalStorage",vE="fbase_key";class Zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function _h(r,t){return r.transaction([eh],t?"readwrite":"readonly").objectStore(eh)}function Yw(){const r=indexedDB.deleteDatabase(_E);return new Zl(r).toPromise()}function am(){const r=indexedDB.open(_E,Kw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(eh,{keyPath:vE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(eh)?t(s):(s.close(),await Yw(),t(await am()))})})}async function _0(r,t,i){const s=_h(r,!0).put({[vE]:t,value:i});return new Zl(s).toPromise()}async function $w(r,t){const i=_h(r,!1).get(t),s=await new Zl(i).toPromise();return s===void 0?null:s.value}function v0(r,t){const i=_h(r,!0).delete(t);return new Zl(i).toPromise()}const Xw=800,Zw=3;class EE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>Zw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(Qw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Fw(),!this.activeServiceWorker)return;this.sender=new qw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Gw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await am();return await _0(t,th,"1"),await v0(t,th),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>_0(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>$w(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>v0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=_h(l,!1).getAll();return new Zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EE.type="LOCAL";const Jw=EE;new $l(3e4,6e4);function Ww(r,t){return t?hr(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Um extends km{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return so(t,this._buildIdpRequest())}_linkToIdToken(t,i){return so(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return so(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function t2(r){return fE(r.auth,new Um(r),r.bypassAuthState)}function e2(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),xw(i,new Um(r),r.bypassAuthState)}async function n2(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),Nw(i,new Um(r),r.bypassAuthState)}class TE{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return t2;case"linkViaPopup":case"linkViaRedirect":return n2;case"reauthViaPopup":case"reauthViaRedirect":return e2;default:ui(this.auth,"internal-error")}}resolve(t){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const i2=new $l(2e3,1e4);class no extends TE{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const t=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,i2.get())};t()}}no.currentPopupAction=null;const r2="pendingRedirect",jc=new Map;class s2 extends TE{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=jc.get(this.auth._key());if(!t){try{const s=await a2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}jc.set(this.auth._key(),t)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a2(r,t){const i=u2(t),s=l2(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function o2(r,t){jc.set(r._key(),t)}function l2(r){return hr(r._redirectPersistence)}function u2(r){return zc(r2,r.config.apiKey,r.name)}async function c2(r,t,i=!1){if(oi(r.app))return Promise.reject(os(r));const s=_o(r),l=Ww(s,t),d=await new s2(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const h2=600*1e3;class f2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!d2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!bE(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ki(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=h2&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(t))}saveEventToCache(t){this.cachedEventUids.add(E0(t)),this.lastProcessedEventTime=Date.now()}}function E0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function bE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function d2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bE(r);default:return!1}}async function m2(r,t={}){return ys(r,"GET","/v1/projects",t)}const g2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p2=/^https?/;async function y2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await m2(r);for(const i of t)try{if(_2(i))return}catch{}ui(r,"unauthorized-domain")}function _2(r){const t=rm(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!p2.test(i))return!1;if(g2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const v2=new $l(3e4,6e4);function T0(){const r=Li().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function E2(r){return new Promise((t,i)=>{function s(){T0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{T0(),i(ki(r,"network-request-failed"))},timeout:v2.get()})}if(Li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Li().gapi?.load)s();else{const l=fw("iframefcb");return Li()[l]=()=>{gapi.load?s():i(ki(r,"network-request-failed"))},oE(`${hw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Bc=null,t})}let Bc=null;function T2(r){return Bc=Bc||E2(r),Bc}const b2=new $l(5e3,15e3),A2="__/auth/iframe",S2="emulator/auth/iframe",w2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I2(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Om(t,S2):`https://${r.config.authDomain}/${A2}`,s={apiKey:t.apiKey,appName:r.name,v:yo},l=R2.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Yl(s).slice(1)}`}async function C2(r){const t=await T2(r),i=Li().gapi;return vt(i,r,"internal-error"),t.open({where:document.body,url:I2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w2,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=ki(r,"network-request-failed"),p=Li().setTimeout(()=>{c(d)},b2.get());function g(){Li().clearTimeout(p),l(s)}s.ping(g).then(g,()=>{c(d)})}))}const N2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x2=500,D2=600,O2="_blank",M2="http://localhost";class b0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V2(r,t,i,s=x2,l=D2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...N2,width:s.toString(),height:l.toString(),top:c,left:d},_=fn().toLowerCase();i&&(p=tE(_)?O2:i),Jv(_)&&(t=t||M2,g.scrollbars="yes");const b=Object.entries(g).reduce((D,[Q,Z])=>`${D}${Q}=${Z},`,"");if(nw(_)&&p!=="_self")return k2(t||"",p),new b0(null);const A=window.open(t||"",p,b);vt(A,r,"popup-blocked");try{A.focus()}catch{}return new b0(A)}function k2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const L2="__/auth/handler",P2="emulator/auth/handler",U2=encodeURIComponent("fac");async function A0(r,t,i,s,l,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:yo,eventId:l};if(t instanceof cE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",bA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Xl){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const g=await r._getAppCheckToken(),_=g?`#${U2}=${encodeURIComponent(g)}`:"";return`${z2(r)}?${Yl(p).slice(1)}${_}`}function z2({config:r}){return r.emulator?Om(r,P2):`https://${r.authDomain}/${L2}`}const Gd="webStorageSupport";class j2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pE,this._completeRedirectFn=c2,this._overrideRedirectResult=o2}async _openPopup(t,i,s,l){dr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await A0(t,i,s,rm(),l);return V2(t,c,Pm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await A0(t,i,s,rm(),l);return Hw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(dr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await C2(t),s=new f2(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Gd,{type:Gd},l=>{const c=l?.[0]?.[Gd];c!==void 0&&i(!!c),ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=y2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return sE()||Wv()||Vm()}}const B2=j2;var S0="@firebase/auth",w0="1.11.1";class q2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function H2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F2(r){oo(new ea("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aE(r)},_=new lw(s,l,c,g);return _w(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),oo(new ea("auth-internal",t=>{const i=_o(t.getProvider("auth").getImmediate());return(s=>new q2(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(S0,w0,H2(r)),as(S0,w0,"esm2020")}const G2=300,Q2=kv("authIdTokenMaxAge")||G2;let R0=null;const K2=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>Q2)return;const l=i?.token;R0!==l&&(R0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Y2(r=Bv()){const t=xm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=yw(r,{popupRedirectResolver:B2,persistence:[Jw,jw,pE]}),s=kv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=K2(c.toString());kw(i,d,()=>d(i.currentUser)),Vw(i,p=>d(p))}}const l=Mv("auth");return l&&vw(i,`http://${l}`),i}function $2(){return document.getElementsByTagName("head")?.[0]??document}uw({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=ki("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",$2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F2("Browser");var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ls,AE;(function(){var r;function t(N,S){function C(){}C.prototype=S.prototype,N.F=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,x,L){for(var w=Array(arguments.length-2),he=2;he<arguments.length;he++)w[he-2]=arguments[he];return S.prototype[x].apply(V,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)V[x]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(x=0;x<16;++x)V[x]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],x=N.g[2];let L=N.g[3],w;w=S+(L^C&(x^L))+V[0]+3614090360&4294967295,S=C+(w<<7&4294967295|w>>>25),w=L+(x^S&(C^x))+V[1]+3905402710&4294967295,L=S+(w<<12&4294967295|w>>>20),w=x+(C^L&(S^C))+V[2]+606105819&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(S^x&(L^S))+V[3]+3250441966&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(L^C&(x^L))+V[4]+4118548399&4294967295,S=C+(w<<7&4294967295|w>>>25),w=L+(x^S&(C^x))+V[5]+1200080426&4294967295,L=S+(w<<12&4294967295|w>>>20),w=x+(C^L&(S^C))+V[6]+2821735955&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(S^x&(L^S))+V[7]+4249261313&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(L^C&(x^L))+V[8]+1770035416&4294967295,S=C+(w<<7&4294967295|w>>>25),w=L+(x^S&(C^x))+V[9]+2336552879&4294967295,L=S+(w<<12&4294967295|w>>>20),w=x+(C^L&(S^C))+V[10]+4294925233&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(S^x&(L^S))+V[11]+2304563134&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(L^C&(x^L))+V[12]+1804603682&4294967295,S=C+(w<<7&4294967295|w>>>25),w=L+(x^S&(C^x))+V[13]+4254626195&4294967295,L=S+(w<<12&4294967295|w>>>20),w=x+(C^L&(S^C))+V[14]+2792965006&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(S^x&(L^S))+V[15]+1236535329&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(x^L&(C^x))+V[1]+4129170786&4294967295,S=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(S^C))+V[6]+3225465664&4294967295,L=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(L^S))+V[11]+643717713&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^S&(x^L))+V[0]+3921069994&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(x^L&(C^x))+V[5]+3593408605&4294967295,S=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(S^C))+V[10]+38016083&4294967295,L=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(L^S))+V[15]+3634488961&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^S&(x^L))+V[4]+3889429448&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(x^L&(C^x))+V[9]+568446438&4294967295,S=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(S^C))+V[14]+3275163606&4294967295,L=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(L^S))+V[3]+4107603335&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^S&(x^L))+V[8]+1163531501&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(x^L&(C^x))+V[13]+2850285829&4294967295,S=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(S^C))+V[2]+4243563512&4294967295,L=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(L^S))+V[7]+1735328473&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^S&(x^L))+V[12]+2368359562&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(C^x^L)+V[5]+4294588738&4294967295,S=C+(w<<4&4294967295|w>>>28),w=L+(S^C^x)+V[8]+2272392833&4294967295,L=S+(w<<11&4294967295|w>>>21),w=x+(L^S^C)+V[11]+1839030562&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^S)+V[14]+4259657740&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(C^x^L)+V[1]+2763975236&4294967295,S=C+(w<<4&4294967295|w>>>28),w=L+(S^C^x)+V[4]+1272893353&4294967295,L=S+(w<<11&4294967295|w>>>21),w=x+(L^S^C)+V[7]+4139469664&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^S)+V[10]+3200236656&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(C^x^L)+V[13]+681279174&4294967295,S=C+(w<<4&4294967295|w>>>28),w=L+(S^C^x)+V[0]+3936430074&4294967295,L=S+(w<<11&4294967295|w>>>21),w=x+(L^S^C)+V[3]+3572445317&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^S)+V[6]+76029189&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(C^x^L)+V[9]+3654602809&4294967295,S=C+(w<<4&4294967295|w>>>28),w=L+(S^C^x)+V[12]+3873151461&4294967295,L=S+(w<<11&4294967295|w>>>21),w=x+(L^S^C)+V[15]+530742520&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^S)+V[2]+3299628645&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(x^(C|~L))+V[0]+4096336452&4294967295,S=C+(w<<6&4294967295|w>>>26),w=L+(C^(S|~x))+V[7]+1126891415&4294967295,L=S+(w<<10&4294967295|w>>>22),w=x+(S^(L|~C))+V[14]+2878612391&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~S))+V[5]+4237533241&4294967295,C=x+(w<<21&4294967295|w>>>11),w=S+(x^(C|~L))+V[12]+1700485571&4294967295,S=C+(w<<6&4294967295|w>>>26),w=L+(C^(S|~x))+V[3]+2399980690&4294967295,L=S+(w<<10&4294967295|w>>>22),w=x+(S^(L|~C))+V[10]+4293915773&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~S))+V[1]+2240044497&4294967295,C=x+(w<<21&4294967295|w>>>11),w=S+(x^(C|~L))+V[8]+1873313359&4294967295,S=C+(w<<6&4294967295|w>>>26),w=L+(C^(S|~x))+V[15]+4264355552&4294967295,L=S+(w<<10&4294967295|w>>>22),w=x+(S^(L|~C))+V[6]+2734768916&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~S))+V[13]+1309151649&4294967295,C=x+(w<<21&4294967295|w>>>11),w=S+(x^(C|~L))+V[4]+4149444226&4294967295,S=C+(w<<6&4294967295|w>>>26),w=L+(C^(S|~x))+V[11]+3174756917&4294967295,L=S+(w<<10&4294967295|w>>>22),w=x+(S^(L|~C))+V[2]+718787259&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.v=function(N,S){S===void 0&&(S=N.length);const C=S-this.blockSize,V=this.C;let x=this.h,L=0;for(;L<S;){if(x==0)for(;L<=C;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<S;)if(V[x++]=N.charCodeAt(L++),x==this.blockSize){l(this,V),x=0;break}}else for(;L<S;)if(V[x++]=N[L++],x==this.blockSize){l(this,V),x=0;break}}this.h=x,this.o+=S},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[S++]=this.g[C]>>>V&255;return N};function c(N,S){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function d(N,S){this.h=S;const C=[];let V=!0;for(let x=N.length-1;x>=0;x--){const L=N[x]|0;V&&L==S||(C[x]=L,V=!1)}this.g=C}var p={};function g(N){return-128<=N&&N<128?c(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return J(_(-N));const S=[];let C=1;for(let V=0;N>=C;V++)S[V]=N/C|0,C*=4294967296;return new d(S,0)}function b(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return J(b(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(S,8));let V=A;for(let L=0;L<N.length;L+=8){var x=Math.min(8,N.length-L);const w=parseInt(N.substring(L,L+x),S);x<8?(x=_(Math.pow(S,x)),V=V.j(x).add(_(w))):(V=V.j(C),V=V.add(_(w)))}return V}var A=g(0),D=g(1),Q=g(16777216);r=d.prototype,r.m=function(){if(nt(this))return-J(this).m();let N=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(nt(this))return"-"+J(this).toString(N);const S=_(Math.pow(N,6));var C=this;let V="";for(;;){const x=Jt(C,S).g;C=gt(C,x.j(S));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=x,Z(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function nt(N){return N.h==-1}r.l=function(N){return N=gt(this,N),nt(N)?-1:Z(N)?0:1};function J(N){const S=N.g.length,C=[];for(let V=0;V<S;V++)C[V]=~N.g[V];return new d(C,~N.h).add(D)}r.abs=function(){return nt(this)?J(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let x=0;x<=S;x++){let L=V+(this.i(x)&65535)+(N.i(x)&65535),w=(L>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);V=w>>>16,L&=65535,w&=65535,C[x]=w<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function gt(N,S){return N.add(J(S))}r.j=function(N){if(Z(this)||Z(N))return A;if(nt(this))return nt(N)?J(this).j(J(N)):J(J(this).j(N));if(nt(N))return J(this.j(J(N)));if(this.l(Q)<0&&N.l(Q)<0)return _(this.m()*N.m());const S=this.g.length+N.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<N.g.length;x++){const L=this.i(V)>>>16,w=this.i(V)&65535,he=N.i(x)>>>16,Te=N.i(x)&65535;C[2*V+2*x]+=w*Te,bt(C,2*V+2*x),C[2*V+2*x+1]+=L*Te,bt(C,2*V+2*x+1),C[2*V+2*x+1]+=w*he,bt(C,2*V+2*x+1),C[2*V+2*x+2]+=L*he,bt(C,2*V+2*x+2)}for(N=0;N<S;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=S;N<2*S;N++)C[N]=0;return new d(C,0)};function bt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function yt(N,S){this.g=N,this.h=S}function Jt(N,S){if(Z(S))throw Error("division by zero");if(Z(N))return new yt(A,A);if(nt(N))return S=Jt(J(N),S),new yt(J(S.g),J(S.h));if(nt(S))return S=Jt(N,J(S)),new yt(J(S.g),S.h);if(N.g.length>30){if(nt(N)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var C=D,V=S;V.l(N)<=0;)C=Qt(C),V=Qt(V);var x=Ot(C,1),L=Ot(V,1);for(V=Ot(V,2),C=Ot(C,2);!Z(V);){var w=L.add(V);w.l(N)<=0&&(x=x.add(C),L=w),V=Ot(V,1),C=Ot(C,1)}return S=gt(N,x.j(S)),new yt(x,S)}for(x=A;N.l(S)>=0;){for(C=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(C),w=L.j(S);nt(w)||w.l(N)>0;)C-=V,L=_(C),w=L.j(S);Z(L)&&(L=D),x=x.add(L),N=gt(N,w)}return new yt(x,N)}r.B=function(N){return Jt(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&N.i(V);return new d(C,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|N.i(V);return new d(C,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^N.i(V);return new d(C,this.h^N.h)};function Qt(N){const S=N.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(C,N.h)}function Ot(N,S){const C=S>>5;S%=32;const V=N.g.length-C,x=[];for(let L=0;L<V;L++)x[L]=S>0?N.i(L+C)>>>S|N.i(L+C+1)<<32-S:N.i(L+C);return new d(x,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,AE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,ls=d}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var SE,Cl,wE,qc,om,RE,IE,CE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,B){for(var W=Array(arguments.length-2),It=2;It<arguments.length;It++)W[It-2]=arguments[It];return m.prototype[P].apply(T,W)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const B=P.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=P[W]}else u.push(P)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class bt{constructor(){this.h=this.g=null}add(m,v){const T=yt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var yt=new nt(()=>new Jt,u=>u.reset());class Jt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Qt,Ot=!1,N=new bt,S=()=>{const u=Promise.resolve(void 0);Qt=()=>{u.then(C)}};function C(){for(var u;u=gt();){try{u.h.call(u.g)}catch(v){J(v)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ot=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function he(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(he,x),he.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++F,this.da=this.fa=!1}function lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function $t(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let B=0;B<H.length;B++)v=H[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,P){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=ht(u,m,T,P);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,P),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(T,P,1),B&&(lt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ht(u,m,v,T){for(let P=0;P<u.length;++P){const B=u[P];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return P}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),Se={};function fe(u,m,v,T,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)fe(u,m[B],v,T,P);return null}return v=Ts(v),u&&u[Te]?u.J(m,v,p(T)?!!T.capture:!1,P):Hi(u,m,v,!1,T,P)}function Hi(u,m,v,T,P,B){if(!m)throw Error("Invalid event type");const W=p(P)?!!P.capture:!!P;let It=$n(u);if(It||(u[Dt]=It=new rt(u)),v=It.add(m,v,T,W,B),v.proxy)return v;if(T=yr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(P=W),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(kn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function yr(){function u(v){return m.call(u.src,u.listener,v)}const m=Es;return u}function hi(u,m,v,T,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)hi(u,m[B],v,T,P);else T=p(T)?!!T.capture:!!T,v=Ts(v),u&&u[Te]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=ht(m,v,T,P),v>-1&&(lt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=$n(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ht(m,v,T,P)),(v=u>-1?m[u]:null)&&_r(v))}function _r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Te])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(kn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=$n(m))?(_t(v,u),v.h==0&&(v.src=null,m[Dt]=null)):lt(u)}}}function kn(u){return u in Se?Se[u]:Se[u]="on"+u}function Es(u,m){if(u.da)u=!0;else{m=new he(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&_r(u),u=v.call(T,m)}return u}function $n(u){return u=u[Dt],u instanceof rt?u:null}var Fi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ts(u){return typeof u=="function"?u:(u[Fi]||(u[Fi]=function(m){return u.handleEvent(m)}),u[Fi])}function be(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}A(be,V),be.prototype[Te]=!0,be.prototype.removeEventListener=function(u,m,v,T){hi(this,u,m,v,T)};function Ie(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var P=m;m=new x(T,u),tt(m,P)}P=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],P=fi(B,T,!0,m)&&P;if(B=m.g=u,P=fi(B,T,!0,m)&&P,P=fi(B,T,!1,m)&&P,v)for(W=0;W<v.length;W++)B=m.g=v[W],P=fi(B,T,!1,m)&&P}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)lt(v[T]);delete u.g[m],u.h--}}this.G=null},be.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},be.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function fi(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const It=W.listener,Ce=W.ha||W.src;W.fa&&_t(u.i,W),P=It.call(Ce,T)!==!1&&P}}return P&&!T.defaultPrevented}function So(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function at(u){u.g=So(()=>{u.g=null,u.i&&(u.i=!1,at(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ut extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rt(u){V.call(this),this.h=u,this.g={}}A(Rt,V);var Ht=[];function mt(u){Bt(u.g,function(m,v){this.g.hasOwnProperty(v)&&_r(m)},u),u.g={}}Rt.prototype.N=function(){Rt.Z.N.call(this),mt(this)},Rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ft=d.JSON.stringify,Nt=d.JSON.parse,Wt=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function wt(){}function ye(){}var ee={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kt(){x.call(this,"d")}A(kt,x);function Je(){x.call(this,"c")}A(Je,x);var _e={},ca=null;function ha(){return ca=ca||new be}_e.Ia="serverreachability";function au(u){x.call(this,_e.Ia,u)}A(au,x);function di(u){const m=ha();Ie(m,new au(m))}_e.STAT_EVENT="statevent";function bs(u,m){x.call(this,_e.STAT_EVENT,u),this.stat=m}A(bs,x);function Me(u){const m=ha();Ie(m,new bs(m,u))}_e.Ja="timingevent";function mi(u,m){x.call(this,_e.Ja,u),this.size=m}A(mi,x);function gi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Lh(u,m,v,T,P,B){u.info(function(){if(u.g)if(B){var W="",It=B.split("&");for(let Xt=0;Xt<It.length;Xt++){var Ce=It[Xt].split("=");if(Ce.length>1){const ve=Ce[0];Ce=Ce[1];const zn=ve.split("_");W=zn.length>=2&&zn[1]=="type"?W+(ve+"="+Ce+"&"):W+(ve+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+W})}function ou(u,m,v,T,P,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+B+" "+W})}function pi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(u,v)+(T?" "+T:"")})}function As(u,m){u.info(function(){return"TIMEOUT: "+m})}Xn.prototype.info=function(){};function Ph(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return Ft(B)}catch{return m}}var Ss={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function ws(){}A(ws,wt),ws.prototype.g=function(){return new XMLHttpRequest},Ro=new ws;function Gi(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Zn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Rt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Ve={},Ye={};function yi(u,m,v){u.M=1,u.A=Rs(Le(m)),u.u=v,u.R=!0,fa(u,null)}function fa(u,m){u.F=Date.now(),_i(u),u.B=Le(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),pa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Jn,u.g=Au(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ut(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Ht[0]=P.toString()),P=Ht);for(let B=0;B<P.length;B++){const W=fe(v,P[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),di(),Lh(u.i,u.v,u.B,u.l,u.S,u.u)}Zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ei(u)==3?m.j():this.Y(u)},Zn.prototype.Y=function(u){try{if(u==this.g)t:{const It=ei(this.g),Ce=this.g.ya(),Xt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||We(this.g)))){this.K||It!=4||Ce==7||(Ce==8||Xt<=0?di(3):di(2)),vi(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,ou(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)pi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,u);else{this.o=!1,this.m=3,Me(12),Sn(this),Ln(this);break t}}if(this.R){u=!0;let ve;for(;!this.K&&this.C<v.length;)if(ve=cu(this,v),ve==Ye){It==4&&(this.m=4,Me(14),u=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(ve==Ve){this.m=4,Me(15),pi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else pi(this.i,this.l,ve,null),Ei(this,ve);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,Me(16),u=!1),this.o=this.o&&u,!u)pi(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),Ln(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Bo(W),W.P=!0,Me(11))}}else pi(this.i,this.l,v,null),Ei(this,v);It==4&&Sn(this),this.o&&!this.K&&(It==4?vu(this.j,this):(this.o=!1,_i(this)))}else Ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Me(12)):(this.m=0,Me(13)),Sn(this),Ln(this)}}}catch{}finally{}};function Uh(u){if(!uu(u))return u.g.la();const m=We(u.g);if(m==="")return"";let v="";const T=m.length,P=ei(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Ln(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(P&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ye:(v=Number(m.substring(v,T)),isNaN(v)?Ve:(T+=1,T+v>m.length?Ye:(m=m.slice(T,T+v),u.C=T+v,m)))}Zn.prototype.cancel=function(){this.K=!0,Sn(this)};function _i(u){u.T=Date.now()+u.H,da(u,u.H)}function da(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gi(_(u.aa,u),m)}function vi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(As(this.i,this.B),this.M!=2&&(di(),Me(17)),Sn(this),this.m=2,Ln(this)):da(this,this.T-u)};function Ln(u){u.j.I==0||u.K||vu(u.j,u)}function Sn(u){vi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,mt(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ei(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||bi(v.h,u))){if(!u.L&&bi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ta(v),Rr(v);else break t;Ms(v),Me(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gi(_(v.Va,v),6e3));Ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ci(v,11)}else if((u.L||v.g==u)&&Ta(v),!w(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Xt=P[m];const ve=Xt[0];if(!(ve<=v.K))if(v.K=ve,Xt=Xt[1],v.I==2)if(Xt[0]=="c"){v.M=Xt[1],v.ba=Xt[2];const zn=Xt[3];zn!=null&&(v.ka=zn,v.j.info("VER="+v.ka));const Ni=Xt[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const ni=Xt[5];ni!=null&&typeof ni=="number"&&ni>0&&(T=1.5*ni,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ii=u.g;if(ii){const Vs=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var B=T.h;B.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(No(B,B.h),B.h=null))}if(T.G){const ba=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(T.wa=ba,ne(T.J,T.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=bu(T,T.L?T.ba:null,T.W),W.L){xo(T.h,W);var It=W,Ce=T.O;Ce&&(It.H=Ce),It.D&&(vi(It),_i(It)),T.g=W}else yu(T);v.i.length>0&&Ii(v)}else Xt[0]!="stop"&&Xt[0]!="close"||Ci(v,7);else v.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Ci(v,7):zo(v):Xt[0]!="noop"&&v.l&&v.l.qa(Xt),v.A=0)}}di(4)}catch{}}var ke=class{constructor(u,m){this.g=u,this.map=m}};function Io(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ti(u){return u.h?1:u.g?u.g.size:0}function bi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function No(u,m){u.g?u.g.add(m):u.h=m}function xo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Io.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Do(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,B=null;T>=0?(P=u[v].substring(0,T),B=u[v].substring(T+1)):P=u[v],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function wn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof wn?(this.l=u.l,$e(this,u.j),this.o=u.o,this.g=u.g,vr(this,u.u),this.h=u.h,Oo(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,$e(this,m[1]||"",!0),this.o=Ai(m[2]||""),this.g=Ai(m[3]||"",!0),vr(this,m[4]),this.h=Ai(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=Ai(m[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}wn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Is(m,ga,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Is(m,ga,!0),"@"),u.push(Gi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Is(v,v.charAt(0)=="/"?Mo:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Is(v,du)),u.join("")},wn.prototype.resolve=function(u){const m=Le(this);let v=!!u.j;v?$e(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)vr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let W=0;W<P.length;){const It=P[W++];It=="."?T&&W==P.length&&B.push(""):It==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==P.length&&B.push("")):(B.push(It),T=!0)}T=B.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?Oo(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Le(u){return new wn(u)}function $e(u,m,v){u.j=v?Ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Oo(u,m,v){m instanceof Tr?(u.i=m,ya(u.i,u.l)):(v||(m=Is(m,Er)),u.i=new Tr(m,u.l))}function ne(u,m,v){u.i.set(m,v)}function Rs(u){return ne(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Is(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,gn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ga=/[#\/\?@]/g,fu=/[#\?:]/g,Mo=/[#\?]/g,Er=/[#\?@]/g,du=/#/g;function Tr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&ma(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Tr.prototype,r.add=function(u,m){pn(this),this.i=null,u=br(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mu(u,m){pn(u),m=br(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vo(u,m){return pn(u),m=br(u,m),u.g.has(m)}r.forEach=function(u,m){pn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function ko(u,m){pn(u);let v=[];if(typeof m=="string")Vo(u,m)&&(v=v.concat(u.g.get(br(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return pn(this),this.i=null,u=br(this,u),Vo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=ko(this,u),u.length>0?String(u[0]):m):m};function pa(u,m,v){mu(u,m),v.length>0&&(u.i=null,u.g.set(br(u,m),Q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Gi(v);v=ko(this,v);for(let B=0;B<v.length;B++){let W=P;v[B]!==""&&(W+="="+Gi(v[B])),u.push(W)}}return this.i=u.join("&")};function gu(u){const m=new Tr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function br(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ya(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(mu(this,T),pa(this,P,v))},u)),u.j=m}function Wn(u,m){const v=new Xn;if(d.Image){const T=new Image;T.onload=b(Pn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Pn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Pn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Pn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Lo(u,m){const v=new Xn,T=new AbortController,P=setTimeout(()=>{T.abort(),Pn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(P),B.ok?Pn(v,"TestPingServer: ok",!0,m):Pn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Pn(v,"TestPingServer: error",!1,m)})}function Pn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function Ar(){this.g=new Wt}function Si(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Si,wt),Si.prototype.g=function(){return new Cs(this.i,this.h)};function Cs(u,m){be.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Cs,be),r=Cs.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ti(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Sr(this):ti(this),this.readyState==3&&_a(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Sr(this))},r.Na=function(u){this.g&&(this.response=u,Sr(this))},r.ga=function(){this.g&&Sr(this)};function Sr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ti(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return Bt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ns(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Un(v),typeof u=="string"?v!=null&&Gi(v):ne(u,m,v))}function ae(u){be.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ae,be);var wi=/^https?$/i,Po=["POST","PUT"];r=ae.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){xs(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Po,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){xs(this,B)}};function xs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Uo(u),Qi(u)}function Uo(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Qi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),ae.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ds(this):this.Xa())},r.Xa=function(){Ds(this)};function Ds(u){if(u.h&&typeof c<"u"){if(u.v&&ei(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),ei(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(hu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!wi.test(W?W.toLowerCase():"")}v=T}if(v)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var P=ei(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Uo(u)}}finally{Qi(u)}}}}function Qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ie(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ei(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nt(m)}};function We(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(u){const m={};u=(u.g&&ei(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=lu(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[P]||[];m[P]=B,B.push(v)}$t(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function wr(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,u),this.Za=Ri("retryDelaySeedMs",1e4,u),this.Ta=Ri("forwardChannelMaxRetries",2,u),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(u&&u.concurrentRequestLimit),this.Ba=new Ar,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=wr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Me(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=bu(this,null,this.W),Ii(this)};function zo(u){if(va(u),u.I==3){var m=u.V++,v=Le(u.J);if(ne(v,"SID",u.M),ne(v,"RID",m),ne(v,"TYPE","terminate"),Os(u,v),m=new Zn(u,u.j,m),m.M=2,m.A=Rs(Le(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),_i(m)}Tu(u)}function Rr(u){u.g&&(Bo(u),u.g.cancel(),u.g=null)}function va(u){Rr(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ii(u){if(!Co(u.h)&&!u.m){u.m=!0;var m=u.Ea;Qt||S(),Ot||(Qt(),Ot=!0),N.add(m,u),u.D=0}}function Ea(u,m){return Ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gi(_(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=pu(this,P,m),v=Le(this.J),ne(v,"RID",u),ne(v,"CVER",22),this.G&&ne(v,"X-HTTP-Session-Id",this.G),Os(this,v),B&&(this.R?m="headers="+Gi(Un(B))+"&"+m:this.u&&Ns(v,this.u,B)),No(this.h,P),this.Ra&&ne(v,"TYPE","init"),this.S?(ne(v,"$req",m),ne(v,"SID","null"),P.U=!0,yi(P,v,null)):yi(P,v,m),this.I=2}}else this.I==3&&(u?jo(this,u):this.i.length==0||Co(this.h)||jo(this))};function jo(u,m){var v;m?v=m.l:v=u.V++;const T=Le(u.J);ne(T,"SID",u.M),ne(T,"RID",v),ne(T,"AID",u.K),Os(u,T),u.u&&u.o&&Ns(T,u.u,u.o),v=new Zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),No(u.h,v),yi(v,T,m)}function Os(u,m){u.H&&Bt(u.H,function(v,T){ne(m,T,v)}),u.l&&Bt({},function(v,T){ne(m,T,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let It=-1;for(;;){const Ce=["count="+v];It==-1?v>0?(It=P[0].g,Ce.push("ofs="+It)):It=0:Ce.push("ofs="+It);let Xt=!0;for(let ve=0;ve<v;ve++){var B=P[ve].g;const zn=P[ve].map;if(B-=It,B<0)It=Math.max(0,P[ve].g-100),Xt=!1;else try{B="req"+B+"_"||"";try{var W=zn instanceof Map?zn:Object.entries(zn);for(const[Ni,ni]of W){let ii=ni;p(ni)&&(ii=Ft(ni)),Ce.push(B+Ni+"="+encodeURIComponent(ii))}}catch(Ni){throw Ce.push(B+"type="+encodeURIComponent("_badmap")),Ni}}catch{T&&T(zn)}}if(Xt){W=Ce.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Qt||S(),Ot||(Qt(),Ot=!0),N.add(m,u),u.A=0}}function Ms(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gi(_(u.Da,u),Eu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Me(10),Rr(this),_u(this))};function Bo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new Zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Le(u.na);ne(m,"RID","rpc"),ne(m,"SID",u.M),ne(m,"AID",u.K),ne(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ne(m,"TO",u.ia),ne(m,"TYPE","xmlhttp"),Os(u,m),u.u&&u.o&&Ns(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Rs(Le(m)),v.u=null,v.R=!0,fa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Rr(this),Ms(this),Me(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){Ta(u),Bo(u),u.g=null;var T=2}else if(bi(u.h,m))v=m.G,xo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=ha(),Ie(T,new mi(T,v)),Ii(u)}else yu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&Ea(u,m)||T==2&&Ms(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ci(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const P=!T;T=new wn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||$e(T,"https"),Rs(T),P?Wn(T.toString(),v):Lo(T.toString(),v)}else Me(2);u.I=0,u.l&&u.l.pa(m),Tu(u),va(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Do(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var T=v instanceof wn?Le(v):new wn(v);if(T.g!="")m&&(T.g=m+"."+T.g),vr(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new wn(null);T&&$e(B,T),m&&(B.g=m),P&&vr(B,P),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&ne(T,v,m),ne(T,"VER",u.ka),Os(u,T),T}function Au(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ae(new Si({ab:v})):new ae(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ir(){}Ir.prototype.g=function(u,m){return new dn(u,m)};function dn(u,m){be.call(this),this.g=new wr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yi(this)}A(dn,be),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){zo(this.g)},dn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ft(u),u=v);m.i.push(new ke(m.Ya++,u)),m.I==3&&Ii(m)},dn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,dn.Z.N.call(this)};function wu(u){kt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(wu,kt);function Ru(){Je.call(this),this.status=1}A(Ru,Je);function Yi(u){this.g=u}A(Yi,Su),Yi.prototype.ra=function(){Ie(this.g,"a")},Yi.prototype.qa=function(u){Ie(this.g,new wu(u))},Yi.prototype.pa=function(u){Ie(this.g,new Ru)},Yi.prototype.oa=function(){Ie(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,CE=function(){return new Ir},IE=function(){return ha()},RE=_e,om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,qc=Ss,wo.COMPLETE="complete",wE=wo,ye.EventType=ee,ee.OPEN="a",ee.CLOSE="b",ee.ERROR="c",ee.MESSAGE="d",be.prototype.listen=be.prototype.J,Cl=ye,ae.prototype.listenOnce=ae.prototype.K,ae.prototype.getLastError=ae.prototype.Ha,ae.prototype.getLastErrorCode=ae.prototype.ya,ae.prototype.getStatus=ae.prototype.ca,ae.prototype.getResponseJson=ae.prototype.La,ae.prototype.getResponseText=ae.prototype.la,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Fa,SE=ae}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const C0="@firebase/firestore",N0="4.9.2";class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Eo="12.3.0";const ia=new Cm("@firebase/firestore");function Ja(){return ia.logLevel}function st(r,...t){if(ia.logLevel<=Ut.DEBUG){const i=t.map(zm);ia.debug(`Firestore (${Eo}): ${r}`,...i)}}function mr(r,...t){if(ia.logLevel<=Ut.ERROR){const i=t.map(zm);ia.error(`Firestore (${Eo}): ${r}`,...i)}}function uo(r,...t){if(ia.logLevel<=Ut.WARN){const i=t.map(zm);ia.warn(`Firestore (${Eo}): ${r}`,...i)}}function zm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Et(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,NE(r,s,i)}function NE(r,t,i){let s=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw mr(s),new Error(s)}function te(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||NE(t,l,s)}function St(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends pr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class us{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class xE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class X2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(cn.UNAUTHENTICATED)))}shutdown(){}}class Z2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class J2{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){te(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let c=new us;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new us,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new us)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(te(typeof s.accessToken=="string",31837,{l:s}),new xE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string",2055,{h:t}),new cn(t)}}class W2{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tR{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new W2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){te(this.o===void 0,3512);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(te(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new x0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function nR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class jm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=nR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function zt(r,t){return r<t?-1:r>t?1:0}function lm(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Qd(l)===Qd(c)?zt(l,c):Qd(l)?1:-1}return zt(r.length,t.length)}const iR=55296,rR=57343;function Qd(r){const t=r.charCodeAt(0);return t>=iR&&t<=rR}function co(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}const D0="__name__";class Vi{constructor(t,i,s){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&Et(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Vi?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=Vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return zt(t.length,i.length)}static compareSegments(t,i){const s=Vi.isNumericId(t),l=Vi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Vi.extractNumericId(t).compare(Vi.extractNumericId(i)):lm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ls.fromString(t.substring(4,t.length-2))}}class de extends Vi{construct(t,i,s){return new de(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new it($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new de(i)}static emptyPath(){return new de([])}}const sR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Vi{construct(t,i,s){return new an(t,i,s)}static isValidIdentifier(t){return sR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D0}static keyField(){return new an([D0])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new it($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new it($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new it($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new an(i)}static emptyPath(){return new an([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(de.fromString(t))}static fromName(t){return new dt(de.fromString(t).popFirst(5))}static empty(){return new dt(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return de.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new de(t.slice()))}}function DE(r,t,i){if(!i)throw new it($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function aR(r,t,i,s){if(t===!0&&s===!0)throw new it($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function O0(r){if(!dt.isDocumentKey(r))throw new it($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function M0(r){if(dt.isDocumentKey(r))throw new it($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function OE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function vh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Pi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new it($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=vh(r);throw new it($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function He(r,t){const i={typeString:r};return t&&(i.value=t),i}function Jl(r,t){if(!OE(r))throw new it($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new it($.INVALID_ARGUMENT,i);return!0}const V0=-62135596800,k0=1e6;class pe{static now(){return pe.fromMillis(Date.now())}static fromDate(t){return pe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*k0);return new pe(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<V0)throw new it($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k0}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Jl(t,pe._jsonSchema))return new pe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-V0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pe._jsonSchemaVersion="firestore/timestamp/1.0",pe._jsonSchema={type:He("string",pe._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new pe(0,0))}static max(){return new Tt(new pe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function oR(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(s===1e9?new pe(i+1,0):new pe(i,s));return new hs(l,dt.empty(),t)}function lR(r){return new hs(r.readTime,r.key,Bl)}class hs{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new hs(Tt.min(),dt.empty(),Bl)}static max(){return new hs(Tt.max(),dt.empty(),Bl)}}function uR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:zt(r.largestBatchId,t.largestBatchId))}const cR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function To(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==cR)throw r;st("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,s)=>{i(t)}))}static reject(t){return new X(((i,s)=>{s(t)}))}static waitFor(t){return new X(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(g=>s(g)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const s of t)i=i.next((l=>l?X.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new X(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const _=g;i(t[_]).next((b=>{d[_]=b,++p,p===c&&s(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new X(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function fR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bo(r){return r.name==="IndexedDbTransactionError"}class Eh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Eh.ce=-1;const Bm=-1;function Th(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function dR(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const ME="";function mR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=L0(t)),t=gR(r.get(i),t);return L0(t)}function gR(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case ME:i+="";break;default:i+=c}}return i}function L0(r){return r+ME+""}function P0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function _s(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function VE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class Ae{constructor(t,i){this.comparator=t,this.root=i||sn.EMPTY}insert(t,i){return new Ae(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new Ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oc(this.root,t,this.comparator,!0)}}class Oc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??sn.RED,this.left=l??sn.EMPTY,this.right=c??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new sn(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return sn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new sn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qe{constructor(t){this.comparator=t,this.data=new Ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new U0(this.data.getIterator())}getIteratorFrom(t){return new U0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Qe(this.comparator);return i.data=t,i}}class U0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(t){this.fields=t,t.sort(an.comparator)}static empty(){return new Mn([])}unionWith(t){let i=new Qe(an.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Mn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return co(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class kE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new kE("Invalid base64 string: "+c):c}})(t);return new on(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new on(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}on.EMPTY_BYTE_STRING=new on("");const pR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(r){if(te(!!r,39018),typeof r=="string"){let t=0;const i=pR.exec(r);if(te(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:De(r.seconds),nanos:De(r.nanos)}}function De(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ds(r){return typeof r=="string"?on.fromBase64String(r):on.fromUint8Array(r)}const LE="server_timestamp",PE="__type__",UE="__previous_value__",zE="__local_write_time__";function qm(r){return(r?.mapValue?.fields||{})[PE]?.stringValue===LE}function bh(r){const t=r.mapValue.fields[UE];return qm(t)?bh(t):t}function ql(r){const t=fs(r.mapValue.fields[zE].timestampValue);return new pe(t.seconds,t.nanos)}class yR{constructor(t,i,s,l,c,d,p,g,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=b}}const ih="(default)";class Hl{constructor(t,i){this.projectId=t,this.database=i||ih}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===ih}isEqual(t){return t instanceof Hl&&t.projectId===this.projectId&&t.database===this.database}}const jE="__type__",_R="__max__",Mc={mapValue:{}},BE="__vector__",rh="value";function ms(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qm(r)?4:ER(r)?9007199254740991:vR(r)?10:11:Et(28295,{value:r})}function qi(r,t){if(r===t)return!0;const i=ms(r);if(i!==ms(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return ql(r).isEqual(ql(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=fs(l.timestampValue),p=fs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return ds(l.bytesValue).isEqual(ds(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return De(l.geoPointValue.latitude)===De(c.geoPointValue.latitude)&&De(l.geoPointValue.longitude)===De(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return De(l.integerValue)===De(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=De(l.doubleValue),p=De(c.doubleValue);return d===p?nh(d)===nh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return co(r.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(P0(d)!==P0(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!qi(d[g],p[g])))return!1;return!0})(r,t);default:return Et(52216,{left:r})}}function Fl(r,t){return(r.values||[]).find((i=>qi(i,t)))!==void 0}function ho(r,t){if(r===t)return 0;const i=ms(r),s=ms(t);if(i!==s)return zt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=De(c.integerValue||c.doubleValue),g=De(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,t);case 3:return z0(r.timestampValue,t.timestampValue);case 4:return z0(ql(r),ql(t));case 5:return lm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=ds(c),g=ds(d);return p.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let _=0;_<p.length&&_<g.length;_++){const b=zt(p[_],g[_]);if(b!==0)return b}return zt(p.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=zt(De(c.latitude),De(d.latitude));return p!==0?p:zt(De(c.longitude),De(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return j0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},_=p[rh]?.arrayValue,b=g[rh]?.arrayValue,A=zt(_?.values?.length||0,b?.values?.length||0);return A!==0?A:j0(_,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),_=d.fields||{},b=Object.keys(_);g.sort(),b.sort();for(let A=0;A<g.length&&A<b.length;++A){const D=lm(g[A],b[A]);if(D!==0)return D;const Q=ho(p[g[A]],_[b[A]]);if(Q!==0)return Q}return zt(g.length,b.length)})(r.mapValue,t.mapValue);default:throw Et(23264,{he:i})}}function z0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return zt(r,t);const i=fs(r),s=fs(t),l=zt(i.seconds,s.seconds);return l!==0?l:zt(i.nanos,s.nanos)}function j0(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=ho(i[l],s[l]);if(c)return c}return zt(i.length,s.length)}function fo(r){return um(r)}function um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=fs(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ds(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=um(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${um(i.fields[d])}`;return l+"}"})(r.mapValue):Et(61005,{value:r})}function Hc(r){switch(ms(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bh(r);return t?16+Hc(t):16;case 5:return 2*r.stringValue.length;case 6:return ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Hc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return _s(s.fields,((c,d)=>{l+=c.length+Hc(d)})),l})(r.mapValue);default:throw Et(13486,{value:r})}}function B0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function cm(r){return!!r&&"integerValue"in r}function Hm(r){return!!r&&"arrayValue"in r}function q0(r){return!!r&&"nullValue"in r}function H0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fc(r){return!!r&&"mapValue"in r}function vR(r){return(r?.mapValue?.fields||{})[jE]?.stringValue===BE}function Vl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return _s(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Vl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Vl(r.arrayValue.values[i]);return t}return{...r}}function ER(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===_R}class An{constructor(t){this.value=t}static empty(){return new An({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Fc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vl(i)}setAll(t){let i=an.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=Vl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Fc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Fc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){_s(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new An(Vl(this.value))}}function qE(r){const t=[];return _s(r.fields,((i,s)=>{const l=new an([i]);if(Fc(s)){const c=qE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Mn(t)}class hn{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new hn(t,0,Tt.min(),Tt.min(),Tt.min(),An.empty(),0)}static newFoundDocument(t,i,s,l){return new hn(t,1,i,Tt.min(),s,l,0)}static newNoDocument(t,i){return new hn(t,2,i,Tt.min(),Tt.min(),An.empty(),0)}static newUnknownDocument(t,i){return new hn(t,3,i,Tt.min(),Tt.min(),An.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(t,i){this.position=t,this.inclusive=i}}function F0(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=ho(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function G0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!qi(r.position[i],t.position[i]))return!1;return!0}class ah{constructor(t,i="asc"){this.field=t,this.dir=i}}function TR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class HE{}class qe extends HE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new AR(t,i,s):i==="array-contains"?new RR(t,s):i==="in"?new IR(t,s):i==="not-in"?new CR(t,s):i==="array-contains-any"?new NR(t,s):new qe(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new SR(t,s):new wR(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ho(i,this.value)):i!==null&&ms(this.value)===ms(i)&&this.matchesComparison(ho(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends HE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ci(t,i)}matches(t){return FE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FE(r){return r.op==="and"}function GE(r){return bR(r)&&FE(r)}function bR(r){for(const t of r.filters)if(t instanceof ci)return!1;return!0}function hm(r){if(r instanceof qe)return r.field.canonicalString()+r.op.toString()+fo(r.value);if(GE(r))return r.filters.map((t=>hm(t))).join(",");{const t=r.filters.map((i=>hm(i))).join(",");return`${r.op}(${t})`}}function QE(r,t){return r instanceof qe?(function(s,l){return l instanceof qe&&s.op===l.op&&s.field.isEqual(l.field)&&qi(s.value,l.value)})(r,t):r instanceof ci?(function(s,l){return l instanceof ci&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&QE(d,l.filters[p])),!0):!1})(r,t):void Et(19439)}function KE(r){return r instanceof qe?(function(i){return`${i.field.canonicalString()} ${i.op} ${fo(i.value)}`})(r):r instanceof ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(KE).join(" ,")+"}"})(r):"Filter"}class AR extends qe{constructor(t,i,s){super(t,i,s),this.key=dt.fromName(s.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class SR extends qe{constructor(t,i){super(t,"in",i),this.keys=YE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class wR extends qe{constructor(t,i){super(t,"not-in",i),this.keys=YE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function YE(r,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class RR extends qe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Hm(i)&&Fl(i.arrayValue,this.value)}}class IR extends qe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Fl(this.value.arrayValue,i)}}class CR extends qe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Fl(this.value.arrayValue,i)}}class NR extends qe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Fl(this.value.arrayValue,s)))}}class xR{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Q0(r,t=null,i=[],s=[],l=null,c=null,d=null){return new xR(r,t,i,s,l,c,d)}function Fm(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>hm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Th(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>fo(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>fo(s))).join(",")),t.Te=i}return t.Te}function Gm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!TR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!QE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!G0(r.startAt,t.startAt)&&G0(r.endAt,t.endAt)}function fm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Wl{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DR(r,t,i,s,l,c,d,p){return new Wl(r,t,i,s,l,c,d,p)}function Qm(r){return new Wl(r)}function K0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $E(r){return r.collectionGroup!==null}function kl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Qe(an.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ah(c,s))})),i.has(an.keyField().canonicalString())||t.Ie.push(new ah(an.keyField(),s))}return t.Ie}function Ui(r){const t=St(r);return t.Ee||(t.Ee=OR(t,kl(r))),t.Ee}function OR(r,t){if(r.limitType==="F")return Q0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ah(l.field,c)}));const i=r.endAt?new sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new sh(r.startAt.position,r.startAt.inclusive):null;return Q0(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function dm(r,t){const i=r.filters.concat([t]);return new Wl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function mm(r,t,i){return new Wl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Ah(r,t){return Gm(Ui(r),Ui(t))&&r.limitType===t.limitType}function XE(r){return`${Fm(Ui(r))}|lt:${r.limitType}`}function Wa(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>KE(l))).join(", ")}]`),Th(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>fo(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>fo(l))).join(",")),`Target(${s})`})(Ui(r))}; limitType=${r.limitType})`}function Sh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of kl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,g){const _=F0(d,p,g);return d.inclusive?_<=0:_<0})(s.startAt,kl(s),l)||s.endAt&&!(function(d,p,g){const _=F0(d,p,g);return d.inclusive?_>=0:_>0})(s.endAt,kl(s),l))})(r,t)}function MR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ZE(r){return(t,i)=>{let s=!1;for(const l of kl(r)){const c=VR(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function VR(r,t,i){const s=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const g=d.data.field(c),_=p.data.field(c);return g!==null&&_!==null?ho(g,_):Et(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}class oa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){_s(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return VE(this.inner)}size(){return this.innerSize}}const kR=new Ae(dt.comparator);function gr(){return kR}const JE=new Ae(dt.comparator);function Nl(...r){let t=JE;for(const i of r)t=t.insert(i.key,i);return t}function WE(r){let t=JE;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Zs(){return Ll()}function tT(){return Ll()}function Ll(){return new oa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const LR=new Ae(dt.comparator),PR=new Qe(dt.comparator);function jt(...r){let t=PR;for(const i of r)t=t.add(i);return t}const UR=new Qe(zt);function zR(){return UR}function Km(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function eT(r){return{integerValue:""+r}}function jR(r,t){return dR(t)?eT(t):Km(r,t)}class wh{constructor(){this._=void 0}}function BR(r,t,i){return r instanceof oh?(function(l,c){const d={fields:{[PE]:{stringValue:LE},[zE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&qm(c)&&(c=bh(c)),c&&(d.fields[UE]=c),{mapValue:d}})(i,t):r instanceof Gl?iT(r,t):r instanceof Ql?rT(r,t):(function(l,c){const d=nT(l,c),p=Y0(d)+Y0(l.Ae);return cm(d)&&cm(l.Ae)?eT(p):Km(l.serializer,p)})(r,t)}function qR(r,t,i){return r instanceof Gl?iT(r,t):r instanceof Ql?rT(r,t):i}function nT(r,t){return r instanceof lh?(function(s){return cm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class oh extends wh{}class Gl extends wh{constructor(t){super(),this.elements=t}}function iT(r,t){const i=sT(t);for(const s of r.elements)i.some((l=>qi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Ql extends wh{constructor(t){super(),this.elements=t}}function rT(r,t){let i=sT(t);for(const s of r.elements)i=i.filter((l=>!qi(l,s)));return{arrayValue:{values:i}}}class lh extends wh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Y0(r){return De(r.integerValue||r.doubleValue)}function sT(r){return Hm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function HR(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Gl&&l instanceof Gl||s instanceof Ql&&l instanceof Ql?co(s.elements,l.elements,qi):s instanceof lh&&l instanceof lh?qi(s.Ae,l.Ae):s instanceof oh&&l instanceof oh})(r.transform,t.transform)}class FR{constructor(t,i){this.version=t,this.transformResults=i}}class Vn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Vn}static exists(t){return new Vn(void 0,t)}static updateTime(t){return new Vn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Rh{}function aT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Ih(r.key,Vn.none()):new tu(r.key,r.data,Vn.none());{const i=r.data,s=An.empty();let l=new Qe(an.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new vs(r.key,s,new Mn(l.toArray()),Vn.none())}}function GR(r,t,i){r instanceof tu?(function(l,c,d){const p=l.value.clone(),g=X0(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof vs?(function(l,c,d){if(!Gc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=X0(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(oT(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Pl(r,t,i,s){return r instanceof tu?(function(c,d,p,g){if(!Gc(c.precondition,d))return p;const _=c.value.clone(),b=Z0(c.fieldTransforms,g,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,s):r instanceof vs?(function(c,d,p,g){if(!Gc(c.precondition,d))return p;const _=Z0(c.fieldTransforms,g,d),b=d.data;return b.setAll(oT(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,s):(function(c,d,p){return Gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function QR(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=nT(s.transform,l||null);c!=null&&(i===null&&(i=An.empty()),i.set(s.field,c))}return i||null}function $0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&co(s,l,((c,d)=>HR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class tu extends Rh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class vs extends Rh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function oT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function X0(r,t,i){const s=new Map;te(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,qR(d,p,i[l]))}return s}function Z0(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,BR(c,d,t))}return s}class Ih extends Rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KR extends Rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YR{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&GR(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Pl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Pl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=tT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const g=aT(d,p);g!==null&&s.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),jt())}isEqual(t){return this.batchId===t.batchId&&co(this.mutations,t.mutations,((i,s)=>$0(i,s)))&&co(this.baseMutations,t.baseMutations,((i,s)=>$0(i,s)))}}class Ym{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){te(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return LR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Ym(t,i,s,l)}}class $R{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class XR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Be,Gt;function ZR(r){switch(r){case $.OK:return Et(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function lT(r){if(r===void 0)return mr("GRPC error has no .code"),$.UNKNOWN;switch(r){case Be.OK:return $.OK;case Be.CANCELLED:return $.CANCELLED;case Be.UNKNOWN:return $.UNKNOWN;case Be.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Be.INTERNAL:return $.INTERNAL;case Be.UNAVAILABLE:return $.UNAVAILABLE;case Be.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Be.NOT_FOUND:return $.NOT_FOUND;case Be.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Be.ABORTED:return $.ABORTED;case Be.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Be.DATA_LOSS:return $.DATA_LOSS;default:return Et(39323,{code:r})}}(Gt=Be||(Be={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function JR(){return new TextEncoder}const WR=new ls([4294967295,4294967295],0);function J0(r){const t=JR().encode(r),i=new AE;return i.update(t),new Uint8Array(i.digest())}function W0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ls([i,s],0),new ls([l,c],0)]}class $m{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(s<0)throw new xl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ls.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(ls.fromNumber(s)));return l.compare(WR)===1&&(l=new ls([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=J0(t),[s,l]=W0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new $m(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=J0(t),[s,l]=W0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ch{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,eu.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Ch(Tt.min(),l,new Ae(zt),gr(),jt())}}class eu{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new eu(s,i,jt(),jt(),jt())}}class Qc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class uT{constructor(t,i){this.targetId=t,this.Ce=i}}class cT{constructor(t,i,s=on.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class tv{constructor(){this.ve=0,this.Fe=ev(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),i=jt(),s=jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:Et(38017,{changeType:c})}})),new eu(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=ev()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tI{constructor(t){this.Ge=t,this.ze=new Map,this.je=gr(),this.Je=Vc(),this.He=Vc(),this.Ye=new Ae(zt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(fm(c))if(s===0){const d=new dt(c.path);this.et(i,d,hn.newNoDocument(d,Tt.min()))}else te(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),g=p?this.ct(p,t,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ds(s).toUint8Array()}catch(g){if(g instanceof kE)return uo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new $m(d,l,c)}catch(g){return uo(g instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&fm(p.target)){const g=new dt(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,hn.newNoDocument(g,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=jt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ch(t,i,this.Ye,this.je,s);return this.je=gr(),this.Je=Vc(),this.He=Vc(),this.Ye=new Ae(zt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new tv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Qe(zt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Qe(zt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new tv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Vc(){return new Ae(dt.comparator)}function ev(){return new Ae(dt.comparator)}const eI={asc:"ASCENDING",desc:"DESCENDING"},nI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iI={and:"AND",or:"OR"};class rI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function gm(r,t){return r.useProto3Json||Th(t)?t:{value:t}}function uh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function sI(r,t){return uh(r,t.toTimestamp())}function zi(r){return te(!!r,49232),Tt.fromTimestamp((function(i){const s=fs(i);return new pe(s.seconds,s.nanos)})(r))}function Xm(r,t){return pm(r,t).canonicalString()}function pm(r,t){const i=(function(l){return new de(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function fT(r){const t=de.fromString(r);return te(yT(t),10190,{key:t.toString()}),t}function ym(r,t){return Xm(r.databaseId,t.path)}function Kd(r,t){const i=fT(t);if(i.get(1)!==r.databaseId.projectId)throw new it($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new it($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(mT(i))}function dT(r,t){return Xm(r.databaseId,t)}function aI(r){const t=fT(r);return t.length===4?de.emptyPath():mT(t)}function _m(r){return new de(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mT(r){return te(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function nv(r,t,i){return{name:ym(r,t),fields:i.value.mapValue.fields}}function oI(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(te(b===void 0||typeof b=="string",58123),on.fromBase64String(b||"")):(te(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),on.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?$.UNKNOWN:lT(_.code);return new it(b,_.message||"")})(d);i=new cT(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Kd(r,s.document.name),c=zi(s.document.updateTime),d=s.document.createTime?zi(s.document.createTime):Tt.min(),p=new An({mapValue:{fields:s.document.fields}}),g=hn.newFoundDocument(l,c,d,p),_=s.targetIds||[],b=s.removedTargetIds||[];i=new Qc(_,b,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Kd(r,s.document),c=s.readTime?zi(s.readTime):Tt.min(),d=hn.newNoDocument(l,c),p=s.removedTargetIds||[];i=new Qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Kd(r,s.document),c=s.removedTargetIds||[];i=new Qc([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new XR(l,c),p=s.targetId;i=new uT(p,d)}}return i}function lI(r,t){let i;if(t instanceof tu)i={update:nv(r,t.key,t.value)};else if(t instanceof Ih)i={delete:ym(r,t.key)};else if(t instanceof vs)i={update:nv(r,t.key,t.data),updateMask:yI(t.fieldMask)};else{if(!(t instanceof KR))return Et(16599,{Vt:t.type});i={verify:ym(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof oh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Gl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof lh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:sI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(r,t.precondition)),i}function uI(r,t){return r&&r.length>0?(te(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?zi(l.updateTime):zi(c);return d.isEqual(Tt.min())&&(d=zi(c)),new FR(d,l.transformResults||[])})(i,t)))):[]}function cI(r,t){return{documents:[dT(r,t.path)]}}function hI(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=dT(r,l);const c=(function(_){if(_.length!==0)return pT(ci.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(D){return{field:to(D.field),direction:mI(D.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=gm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function fI(r){let t=aI(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){te(s===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const D=gT(A);return D instanceof ci&&GE(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((D=>(function(Z){return new ah(eo(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let D;return D=typeof A=="object"?A.value:A,Th(D)?null:D})(i.limit));let g=null;i.startAt&&(g=(function(A){const D=!!A.before,Q=A.values||[];return new sh(Q,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const D=!A.before,Q=A.values||[];return new sh(Q,D)})(i.endAt)),DR(t,l,d,c,p,"F",g,_)}function dI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function gT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=eo(i.unaryFilter.field);return qe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=eo(i.unaryFilter.field);return qe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=eo(i.unaryFilter.field);return qe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=eo(i.unaryFilter.field);return qe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(i){return qe.create(eo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ci.create(i.compositeFilter.filters.map((s=>gT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(r):Et(30097,{filter:r})}function mI(r){return eI[r]}function gI(r){return nI[r]}function pI(r){return iI[r]}function to(r){return{fieldPath:r.canonicalString()}}function eo(r){return an.fromServerFormat(r.fieldPath)}function pT(r){return r instanceof qe?(function(i){if(i.op==="=="){if(H0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NAN"}};if(q0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(H0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NOT_NAN"}};if(q0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(i.field),op:gI(i.op),value:i.value}}})(r):r instanceof ci?(function(i){const s=i.getFilters().map((l=>pT(l)));return s.length===1?s[0]:{compositeFilter:{op:pI(i.op),filters:s}}})(r):Et(54877,{filter:r})}function yI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function yT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class is{constructor(t,i,s,l,c=Tt.min(),d=Tt.min(),p=on.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new is(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class _I{constructor(t){this.yt=t}}function vI(r){const t=fI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mm(t,t.limit,"L"):t}class EI{constructor(){this.Cn=new TI}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(hs.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(hs.min())}updateCollectionGroup(t,i,s){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class TI{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Qe(de.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Qe(de.comparator)).toArray()}}const iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_T=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(_T,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class mo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new mo(0)}static cr(){return new mo(-1)}}const rv="LruGarbageCollector",bI=1048576;function sv([r,t],[i,s]){const l=zt(r,i);return l===0?zt(t,s):l}class AI{constructor(t){this.Ir=t,this.buffer=new Qe(sv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();sv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class SI{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(rv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bo(i)?st(rv,"Ignoring IndexedDB error during garbage collection: ",i):await To(i)}await this.Vr(3e5)}))}}class wI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(Eh.ce);const s=new AI(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(iv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,d,p,g,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(s=A,p=Date.now(),this.removeTargets(t,s,i)))).next((A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(_=Date.now(),Ja()<=Ut.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${A} documents in `+(_-g)+`ms
Total Duration: ${_-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function RI(r,t){return new wI(r,t)}class II{constructor(){this.changes=new oa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,hn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class CI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class NI{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Pl(s.mutation,l,Mn.empty(),pe.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,jt()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=jt()){const l=Zs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=Nl();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Zs();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,jt())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=gr();const d=Ll(),p=(function(){return Ll()})();return i.forEach(((g,_)=>{const b=s.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof vs)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Pl(b.mutation,_,b.mutation.getFieldMask(),pe.now())):d.set(_.key,Mn.empty())})),this.recalculateAndSaveOverlays(t,c).next((g=>(g.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new CI(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=Ll();let l=new Ae(((d,p)=>d-p)),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let b=s.get(g)||Mn.empty();b=p.applyToLocalView(_,b),s.set(g,b);const A=(l.get(p.batchId)||jt()).add(g);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,b=g.value,A=tT();b.forEach((D=>{if(!c.has(D)){const Q=aT(i.get(D),s.get(D));Q!==null&&A.set(D,Q),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):$E(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):X.resolve(Zs());let p=Bl,g=c;return d.next((_=>X.forEach(_,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((D=>{g=g.insert(b,D)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,g,_,jt()))).next((b=>({batchId:p,changes:WE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((s=>{let l=Nl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=Nl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(g=>{const _=(function(A,D){return new Wl(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((b=>{b.forEach(((A,D)=>{d=d.insert(A,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((g,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,hn.newInvalidDocument(b)))}));let p=Nl();return d.forEach(((g,_)=>{const b=c.get(g);b!==void 0&&Pl(b.mutation,_,Mn.empty(),pe.now()),Sh(i,_)&&(p=p.insert(g,_))})),p}))}}class xI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:zi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:vI(l.bundledQuery),readTime:zi(l.readTime)}})(i)),X.resolve()}}class DI{constructor(){this.overlays=new Ae(dt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Zs();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(t,i,s){const l=Zs(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>s&&l.set(g.getKey(),g)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new Ae(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let b=c.get(_.largestBatchId);b===null&&(b=Zs(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=Zs(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=l)););return X.resolve(p)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new $R(i,s));let c=this.qr.get(i);c===void 0&&(c=jt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class OI{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Zm{constructor(){this.Qr=new Qe(Ze.$r),this.Ur=new Qe(Ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Ze(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Ze(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new dt(new de([])),s=new Ze(i,t),l=new Ze(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new de([])),s=new Ze(i,t),l=new Ze(i,t+1);let c=jt();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ze(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Ze{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||zt(t.Yr,i.Yr)}static Kr(t,i){return zt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class MI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Qe(Ze.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new YR(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ze(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ze(i,0),l=new Ze(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Qe(zt);return i.forEach((l=>{const c=new Ze(l,0),d=new Ze(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;dt.isDocumentKey(c)||(c=c.child(""));const d=new Ze(new dt(c),0);let p=new Qe(zt);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(p=p.add(g.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){te(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Ze(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Ze(i,0),l=this.Zr.firstAfterOrEqual(s);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class VI{constructor(t){this.ri=t,this.docs=(function(){return new Ae(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():hn.newInvalidDocument(i))}getEntries(t,i){let s=gr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():hn.newInvalidDocument(l))})),X.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=gr();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:b}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||uR(lR(b),s)<=0||(l.has(b.key)||Sh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,s,l){Et(9500)}ii(t,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new kI(this)}getSize(t){return X.resolve(this.size)}}class kI extends II{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class LI{constructor(t){this.persistence=t,this.si=new oa((i=>Fm(i)),Gm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=mo.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new mo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return X.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),X.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return X.resolve(s)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class vT{constructor(t,i){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new OI,this.referenceDelegate=t(this),this.Pi=new LI(this),this.indexManager=new EI,this.remoteDocumentCache=(function(l){return new VI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new _I(i),this.Ii=new xI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new DI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new MI(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){st("MemoryPersistence","Starting transaction:",t);const l=new PI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class PI extends hR{constructor(t){super(),this.currentSequenceNumber=t}}class Jm{constructor(t){this.persistence=t,this.Ri=new Zm,this.Vi=null}static mi(t){return new Jm(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),X.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const l=dt.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ch{constructor(t,i){this.persistence=t,this.pi=new oa((s=>mR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=RI(this,i)}static mi(t,i){return new ch(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(s++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Hc(t.data.value)),i}br(t,i,s){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Wm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=jt(),l=jt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Wm(t,i.fromCache,s,l)}}class UI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class zI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pA()?8:fR(fn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new UI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(Ja()<=Ut.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Wa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ja()<=Ut.DEBUG&&st("QueryEngine","Query:",Wa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ja()<=Ut.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Wa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(i))):X.resolve())}ys(t,i){if(K0(i))return X.resolve(null);let s=Ui(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=mm(i,null,"F"),s=Ui(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=jt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((g=>{const _=this.Ds(i,p);return this.Cs(i,_,d,g.readTime)?this.ys(t,mm(i,null,"F")):this.vs(t,_,i,g)}))))})))))}ws(t,i,s,l){return K0(i)||l.isEqual(Tt.min())?X.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?X.resolve(null):(Ja()<=Ut.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Wa(i)),this.vs(t,d,i,oR(l,Bl)).next((p=>p)))}))}Ds(t,i){let s=new Qe(ZE(t));return i.forEach(((l,c)=>{Sh(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return Ja()<=Ut.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Wa(i)),this.ps.getDocumentsMatchingQuery(t,i,hs.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tg="LocalStore",jI=3e8;class BI{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Ae(zt),this.xs=new oa((c=>Fm(c)),Gm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new NI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function qI(r,t,i,s){return new BI(r,t,i,s)}async function ET(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let g=jt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)g=g.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)g=g.add(b.key)}return i.localDocuments.getDocuments(s,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function HI(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,b){const A=_.batch,D=A.keys();let Q=X.resolve();return D.forEach((Z=>{Q=Q.next((()=>b.getEntry(g,Z))).next((nt=>{const J=_.docVersions.get(Z);te(J!==null,48541),nt.version.compareTo(J)<0&&(A.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),b.addEntry(nt)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(g,A)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=jt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function TT(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function FI(r,t){const i=St(r),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((b,A)=>{const D=l.get(A);if(!D)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let Q=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?Q=Q.withResumeToken(on.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,s)),l=l.insert(A,Q),(function(nt,J,gt){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=jI?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(D,Q,b)&&p.push(i.Pi.updateTargetData(c,Q))}));let g=gr(),_=jt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(GI(c,d,t.documentUpdates).next((b=>{g=b.ks,_=b.qs}))),!s.isEqual(Tt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(b)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.Ms=l,c)))}function GI(r,t,i){let s=jt(),l=jt();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=gr();return i.forEach(((p,g)=>{const _=c.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Tt.min())?(t.removeEntry(p,g.readTime),d=d.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(g),d=d.insert(p,g)):st(tg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function QI(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function KI(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new is(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function vm(r,t,i){const s=St(r),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!bo(d))throw d;st(tg,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function av(r,t,i){const s=St(r);let l=Tt.min(),c=jt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,b){const A=St(g),D=A.xs.get(b);return D!==void 0?X.resolve(A.Ms.get(D)):A.Pi.getTargetData(_,b)})(s,d,Ui(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:jt()))).next((p=>(YI(s,MR(t),p),{documents:p,Qs:c})))))}function YI(r,t,i){let s=r.Os.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(t,s)}class ov{constructor(){this.activeTargetIds=zR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $I{constructor(){this.Mo=new ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ov,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class XI{Oo(t){}shutdown(){}}const lv="ConnectivityMonitor";class uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(lv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(lv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function Em(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Yd="RestConnection",ZI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===ih?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const d=Em(),p=this.zo(t,i.toUriEncodedString());st(Yd,`Sending RPC '${t}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:_}=new URL(p),b=po(_);return this.Jo(t,p,g,s,b).then((A=>(st(Yd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw uo(Yd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",s),A}))}Ho(t,i,s,l,c,d){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=ZI[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class WI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const un="WebChannelConnection";class tC extends JI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const d=Em();return new Promise(((p,g)=>{const _=new SE;_.setWithCredentials(!0),_.listenOnce(wE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case qc.NO_ERROR:const A=_.getResponseJson();st(un,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case qc.TIMEOUT:st(un,`RPC '${t}' ${d} timed out`),g(new it($.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const D=_.getStatus();if(st(un,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const Z=Q?.error;if(Z&&Z.status&&Z.message){const nt=(function(gt){const bt=gt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(bt)>=0?bt:$.UNKNOWN})(Z.status);g(new it(nt,Z.message))}else g(new it($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new it($.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(un,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);st(un,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,s,15)}))}T_(t,i,s){const l=Em(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=CE(),p=IE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const b=c.join("");st(un,`Creating RPC '${t}' stream ${l}: ${b}`,g);const A=d.createWebChannel(b,g);this.I_(A);let D=!1,Q=!1;const Z=new WI({Yo:J=>{Q?st(un,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(D||(st(un,`Opening RPC '${t}' stream ${l} transport.`),A.open(),D=!0),st(un,`RPC '${t}' stream ${l} sending:`,J),A.send(J))},Zo:()=>A.close()}),nt=(J,gt,bt)=>{J.listen(gt,(yt=>{try{bt(yt)}catch(Jt){setTimeout((()=>{throw Jt}),0)}}))};return nt(A,Cl.EventType.OPEN,(()=>{Q||(st(un,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),nt(A,Cl.EventType.CLOSE,(()=>{Q||(Q=!0,st(un,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(A))})),nt(A,Cl.EventType.ERROR,(J=>{Q||(Q=!0,uo(un,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new it($.UNAVAILABLE,"The operation could not be completed")))})),nt(A,Cl.EventType.MESSAGE,(J=>{if(!Q){const gt=J.data[0];te(!!gt,16349);const bt=gt,yt=bt?.error||bt[0]?.error;if(yt){st(un,`RPC '${t}' stream ${l} received error:`,yt);const Jt=yt.status;let Qt=(function(S){const C=Be[S];if(C!==void 0)return lT(C)})(Jt),Ot=yt.message;Qt===void 0&&(Qt=$.INTERNAL,Ot="Unknown error status: "+Jt+" with message "+yt.message),Q=!0,Z.a_(new it(Qt,Ot)),A.close()}else st(un,`RPC '${t}' stream ${l} received:`,gt),Z.u_(gt)}})),nt(p,RE.STAT_EVENT,(J=>{J.stat===om.PROXY?st(un,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===om.NOPROXY&&st(un,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function $d(){return typeof document<"u"?document:null}function Nh(r){return new rI(r,!0)}class bT{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cv="PersistentStream";class AT{constructor(t,i,s,l,c,d,p,g){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(mr(i.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new it($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(cv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eC extends AT{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=oI(this.serializer,t),s=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?zi(d.readTime):Tt.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=_m(this.serializer),i.addTarget=(function(c,d){let p;const g=d.target;if(p=fm(g)?{documents:cI(c,g)}:{query:hI(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=hT(c,d.resumeToken);const _=gm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=uh(c,d.snapshotVersion.toTimestamp());const _=gm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const s=dI(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=_m(this.serializer),i.removeTarget=t,this.q_(i)}}class nC extends AT{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return te(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,te(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){te(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=uI(t.writeResults,t.commitTime),s=zi(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=_m(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>lI(this.serializer,s)))};this.q_(i)}}class iC{}class rC extends iC{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,pm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it($.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,pm(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mr(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class aC{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{la(this)&&(st(ra,"Restarting streams for network reachability change."),await(async function(g){const _=St(g);_.Ea.add(4),await nu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await xh(_)})(this))}))})),this.Ra=new sC(s,l)}}async function xh(r){if(la(r))for(const t of r.da)await t(!0)}async function nu(r){for(const t of r.da)await t(!1)}function ST(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),rg(i)?ig(i):Ao(i).O_()&&ng(i,t))}function eg(r,t){const i=St(r),s=Ao(i);i.Ia.delete(t),s.O_()&&wT(i,t),i.Ia.size===0&&(s.O_()?s.L_():la(i)&&i.Ra.set("Unknown"))}function ng(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ao(r).Y_(t)}function wT(r,t){r.Va.Ue(t),Ao(r).Z_(t)}function ig(r){r.Va=new tI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Ao(r).start(),r.Ra.ua()}function rg(r){return la(r)&&!Ao(r).x_()&&r.Ia.size>0}function la(r){return St(r).Ea.size===0}function RT(r){r.Va=void 0}async function oC(r){r.Ra.set("Online")}async function lC(r){r.Ia.forEach(((t,i)=>{ng(r,t)}))}async function uC(r,t){RT(r),rg(r)?(r.Ra.ha(t),ig(r)):r.Ra.set("Unknown")}async function cC(r,t,i){if(r.Ra.set("Online"),t instanceof cT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(s){st(ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await hh(r,s)}else if(t instanceof Qc?r.Va.Ze(t):t instanceof uT?r.Va.st(t):r.Va.tt(t),!i.isEqual(Tt.min()))try{const s=await TT(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,_)=>{const b=c.Ia.get(g);if(!b)return;c.Ia.set(g,b.withResumeToken(on.EMPTY_BYTE_STRING,b.snapshotVersion)),wT(c,g);const A=new is(b.target,g,_,b.sequenceNumber);ng(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){st(ra,"Failed to raise snapshot:",s),await hh(r,s)}}async function hh(r,t,i){if(!bo(t))throw t;r.Ea.add(1),await nu(r),r.Ra.set("Offline"),i||(i=()=>TT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(ra,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await xh(r)}))}function IT(r,t){return t().catch((i=>hh(r,i,t)))}async function Dh(r){const t=St(r),i=gs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Bm;for(;hC(t);)try{const l=await QI(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,fC(t,l)}catch(l){await hh(t,l)}CT(t)&&NT(t)}function hC(r){return la(r)&&r.Ta.length<10}function fC(r,t){r.Ta.push(t);const i=gs(r);i.O_()&&i.X_&&i.ea(t.mutations)}function CT(r){return la(r)&&!gs(r).x_()&&r.Ta.length>0}function NT(r){gs(r).start()}async function dC(r){gs(r).ra()}async function mC(r){const t=gs(r);for(const i of r.Ta)t.ea(i.mutations)}async function gC(r,t,i){const s=r.Ta.shift(),l=Ym.from(s,t,i);await IT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Dh(r)}async function pC(r,t){t&&gs(r).X_&&await(async function(s,l){if((function(d){return ZR(d)&&d!==$.ABORTED})(l.code)){const c=s.Ta.shift();gs(s).B_(),await IT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Dh(s)}})(r,t),CT(r)&&NT(r)}async function hv(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),st(ra,"RemoteStore received new credentials");const s=la(i);i.Ea.add(3),await nu(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await xh(i)}async function yC(r,t){const i=St(r);t?(i.Ea.delete(2),await xh(i)):t||(i.Ea.add(2),await nu(i),i.Ra.set("Unknown"))}function Ao(r){return r.ma||(r.ma=(function(i,s,l){const c=St(i);return c.sa(),new eC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:oC.bind(null,r),t_:lC.bind(null,r),r_:uC.bind(null,r),H_:cC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),rg(r)?ig(r):r.Ra.set("Unknown")):(await r.ma.stop(),RT(r))}))),r.ma}function gs(r){return r.fa||(r.fa=(function(i,s,l){const c=St(i);return c.sa(),new nC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:dC.bind(null,r),r_:pC.bind(null,r),ta:mC.bind(null,r),na:gC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Dh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(ra,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class sg{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new sg(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(r,t){if(mr("AsyncQueue",`${t}: ${r}`),bo(r))return new it($.UNAVAILABLE,`${t}: ${r}`);throw r}class ao{static emptySet(t){return new ao(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=Nl(),this.sortedSet=new Ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new ao;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class fv{constructor(){this.ga=new Ae(dt.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class go{constructor(t,i,s,l,c,d,p,g,_){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new go(t,i,ao.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class _C{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class vC{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=St(i),c=l.queries;l.queries=dv(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new it($.ABORTED,"Firestore shutting down"))}}function dv(){return new oa((r=>XE(r)),Ah)}async function xT(r,t){const i=St(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new _C,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=ag(d,`Initialization of query '${Wa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&og(i)}async function DT(r,t){const i=St(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function EC(r,t){const i=St(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(s=!0);d.wa=l}}s&&og(i)}function TC(r,t,i){const s=St(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function og(r){r.Ca.forEach((t=>{t.next()}))}var Tm,mv;(mv=Tm||(Tm={})).Ma="default",mv.Cache="cache";class OT{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new go(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=go.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Tm.Cache}}class MT{constructor(t){this.key=t}}class VT{constructor(t){this.key=t}}class bC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=ZE(t),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new fv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const D=l.get(b),Q=Sh(this.query,A)?A:null,Z=!!D&&this.mutatedKeys.has(D.key),nt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let J=!1;D&&Q?D.data.isEqual(Q.data)?Z!==nt&&(s.track({type:3,doc:Q}),J=!0):this.su(D,Q)||(s.track({type:2,doc:Q}),J=!0,(g&&this.eu(Q,g)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!D&&Q?(s.track({type:0,doc:Q}),J=!0):D&&!Q&&(s.track({type:1,doc:D}),J=!0,(g||_)&&(p=!0)),J&&(Q?(d=d.add(Q),c=nt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(Q,Z){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:J})}};return nt(Q)-nt(Z)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new go(this.query,t.tu,c,d,t.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new VT(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new MT(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=jt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lg="SyncEngine";class AC{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class SC{constructor(t){this.key=t,this.hu=!1}}class wC{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new oa((p=>XE(p)),Ah),this.Iu=new Map,this.Eu=new Set,this.du=new Ae(dt.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RC(r,t,i=!0){const s=jT(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await kT(s,t,i,!0),l}async function IC(r,t){const i=jT(r);await kT(i,t,!0,!1)}async function kT(r,t,i,s){const l=await KI(r.localStore,Ui(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await CC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&ST(r.remoteStore,l),p}async function CC(r,t,i,s,l){r.pu=(A,D,Q)=>(async function(nt,J,gt,bt){let yt=J.view.ru(gt);yt.Cs&&(yt=await av(nt.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,yt))));const Jt=bt&&bt.targetChanges.get(J.targetId),Qt=bt&&bt.targetMismatches.get(J.targetId)!=null,Ot=J.view.applyChanges(yt,nt.isPrimaryClient,Jt,Qt);return pv(nt,J.targetId,Ot.au),Ot.snapshot})(r,A,D,Q);const c=await av(r.localStore,t,!0),d=new bC(t,c.Qs),p=d.ru(c.documents),g=eu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,g);pv(r,i,_.au);const b=new AC(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function NC(r,t,i){const s=St(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!Ah(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await vm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&eg(s.remoteStore,l.targetId),bm(s,l.targetId)})).catch(To)):(bm(s,l.targetId),await vm(s.localStore,l.targetId,!0))}async function xC(r,t){const i=St(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),eg(i.remoteStore,s.targetId))}async function DC(r,t,i){const s=UC(r);try{const l=await(function(d,p){const g=St(d),_=pe.now(),b=p.reduce(((Q,Z)=>Q.add(Z.key)),jt());let A,D;return g.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let Z=gr(),nt=jt();return g.Ns.getEntries(Q,b).next((J=>{Z=J,Z.forEach(((gt,bt)=>{bt.isValidDocument()||(nt=nt.add(gt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(Q,Z))).next((J=>{A=J;const gt=[];for(const bt of p){const yt=QR(bt,A.get(bt.key).overlayedDocument);yt!=null&&gt.push(new vs(bt.key,yt,qE(yt.value.mapValue),Vn.exists(!0)))}return g.mutationQueue.addMutationBatch(Q,_,gt,p)})).next((J=>{D=J;const gt=J.applyToLocalDocumentSet(A,nt);return g.documentOverlayCache.saveOverlays(Q,J.batchId,gt)}))})).then((()=>({batchId:D.batchId,changes:WE(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new Ae(zt)),_=_.insert(p,g),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,i),await iu(s,l.changes),await Dh(s.remoteStore)}catch(l){const c=ag(l,"Failed to persist write");i.reject(c)}}async function LT(r,t){const i=St(r);try{const s=await FI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(te(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?te(d.hu,14607):l.removedDocuments.size>0&&(te(d.hu,42227),d.hu=!1))})),await iu(i,s,t)}catch(s){await To(s)}}function gv(r,t,i){const s=St(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=St(d);g.onlineState=p;let _=!1;g.queries.forEach(((b,A)=>{for(const D of A.Sa)D.va(p)&&(_=!0)})),_&&og(g)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function OC(r,t,i){const s=St(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new Ae(dt.comparator);d=d.insert(c,hn.newNoDocument(c,Tt.min()));const p=jt().add(c),g=new Ch(Tt.min(),new Map,new Ae(zt),d,p);await LT(s,g),s.du=s.du.remove(c),s.Au.delete(t),ug(s)}else await vm(s.localStore,t,!1).then((()=>bm(s,t,i))).catch(To)}async function MC(r,t){const i=St(r),s=t.batch.batchId;try{const l=await HI(i.localStore,t);UT(i,s,null),PT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await iu(i,l)}catch(l){await To(l)}}async function VC(r,t,i){const s=St(r);try{const l=await(function(d,p){const g=St(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return g.mutationQueue.lookupMutationBatch(_,p).next((A=>(te(A!==null,37113),b=A.keys(),g.mutationQueue.removeMutationBatch(_,A)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>g.localDocuments.getDocuments(_,b)))}))})(s.localStore,t);UT(s,t,i),PT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await iu(s,l)}catch(l){await To(l)}}function PT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function UT(r,t,i){const s=St(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function bm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||zT(r,s)}))}function zT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(eg(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ug(r))}function pv(r,t,i){for(const s of i)s instanceof MT?(r.Ru.addReference(s.key,t),kC(r,s)):s instanceof VT?(st(lg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||zT(r,s.key)):Et(19791,{wu:s})}function kC(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(st(lg,"New document in limbo: "+i),r.Eu.add(s),ug(r))}function ug(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new dt(de.fromString(t)),s=r.fu.next();r.Au.set(s,new SC(i)),r.du=r.du.insert(i,s),ST(r.remoteStore,new is(Ui(Qm(i.path)),s,"TargetPurposeLimboResolution",Eh.ce))}}async function iu(r,t,i){const s=St(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{d.push(s.pu(g,t,i).then((_=>{if((_||i)&&s.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Wm.As(g.targetId,_);c.push(b)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(g,_){const b=St(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(D=>X.forEach(D.Es,(Q=>b.persistence.referenceDelegate.addReference(A,D.targetId,Q))).next((()=>X.forEach(D.ds,(Q=>b.persistence.referenceDelegate.removeReference(A,D.targetId,Q)))))))))}catch(A){if(!bo(A))throw A;st(tg,"Failed to update sequence numbers: "+A)}for(const A of _){const D=A.targetId;if(!A.fromCache){const Q=b.Ms.get(D),Z=Q.snapshotVersion,nt=Q.withLastLimboFreeSnapshotVersion(Z);b.Ms=b.Ms.insert(D,nt)}}})(s.localStore,c))}async function LC(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){st(lg,"User change. New user:",t.toKey());const s=await ET(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new it($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await iu(i,s.Ls)}}function PC(r,t){const i=St(r),s=i.Au.get(t);if(s&&s.hu)return jt().add(s.key);{let l=jt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function jT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=LT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=OC.bind(null,t),t.Pu.H_=EC.bind(null,t.eventManager),t.Pu.yu=TC.bind(null,t.eventManager),t}function UC(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VC.bind(null,t),t}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return qI(this.persistence,new zI,t.initialUser,this.serializer)}Cu(t){return new vT(Jm.mi,this.serializer)}Du(t){return new $I}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class zC extends fh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){te(this.persistence.referenceDelegate instanceof ch,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new SI(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new vT((s=>ch.mi(s,i)),this.serializer)}}class Am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LC.bind(null,this.syncEngine),await yC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new vC})()}createDatastore(t){const i=Nh(t.databaseInfo.databaseId),s=(function(c){return new tC(c)})(t.databaseInfo);return(function(c,d,p,g){return new rC(c,d,p,g)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new aC(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>gv(this.syncEngine,i,0)),(function(){return uv.v()?new uv:new XI})())}createSyncEngine(t,i){return(function(l,c,d,p,g,_,b){const A=new wC(l,c,d,p,g,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=St(i);st(ra,"RemoteStore shutting down."),s.Ea.add(5),await nu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};class BT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):mr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ps="FirestoreClient";class jC{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=cn.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{st(ps,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(st(ps,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=ag(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Xd(r,t){r.asyncQueue.verifyOperationInProgress(),st(ps,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await ET(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function yv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await BC(r);st(ps,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>hv(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>hv(t.remoteStore,l))),r._onlineComponents=t}async function BC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(ps,"Using user provided OfflineComponentProvider");try{await Xd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;uo("Error using user provided cache. Falling back to memory cache: "+i),await Xd(r,new fh)}}else st(ps,"Using default OfflineComponentProvider"),await Xd(r,new zC(void 0));return r._offlineComponents}async function qT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(ps,"Using user provided OnlineComponentProvider"),await yv(r,r._uninitializedComponentsProvider._online)):(st(ps,"Using default OnlineComponentProvider"),await yv(r,new Am))),r._onlineComponents}function qC(r){return qT(r).then((t=>t.syncEngine))}async function Sm(r){const t=await qT(r),i=t.eventManager;return i.onListen=RC.bind(null,t.syncEngine),i.onUnlisten=NC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=IC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=xC.bind(null,t.syncEngine),i}function HC(r,t,i={}){const s=new us;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,_){const b=new BT({next:D=>{b.Nu(),d.enqueueAndForget((()=>DT(c,A))),D.fromCache&&g.source==="server"?_.reject(new it($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),A=new OT(p,b,{includeMetadataChanges:!0,qa:!0});return xT(c,A)})(await Sm(r),r.asyncQueue,t,i,s))),s.promise}function HT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const _v=new Map;const FT="firestore.googleapis.com",vv=!0;class Ev{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FT,this.ssl=vv}else this.host=t.host,this.ssl=t.ssl??vv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_T;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<bI)throw new it($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Oh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new X2;switch(s.type){case"firstParty":return new tR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=_v.get(i);s&&(st("ComponentProvider","Removing Datastore"),_v.delete(i),s.terminate())})(this),Promise.resolve()}}function FC(r,t,i,s={}){r=Pi(r,Oh);const l=po(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(Lv(`https://${p}`),Pv("Firestore",!0)),c.host!==FT&&c.host!==p&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:s};if(!ta(g,d)&&(r._setSettings(g),s.mockUserToken)){let _,b;if(typeof s.mockUserToken=="string")_=s.mockUserToken,b=cn.MOCK_USER;else{_=oA(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new it($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new cn(A)}r._authCredentials=new Z2(new xE(_,b))}}class ua{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ua(this.firestore,t,this._query)}}class Fe{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fe(this.firestore,t,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Jl(i,Fe._jsonSchema))return new Fe(t,s||null,new dt(de.fromString(i.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:He("string",Fe._jsonSchemaVersion),referencePath:He("string")};class cs extends ua{constructor(t,i,s){super(t,i,Qm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fe(this.firestore,null,new dt(t))}withConverter(t){return new cs(this.firestore,t,this._path)}}function Lc(r,t,...i){if(r=Oe(r),DE("collection","path",t),r instanceof Oh){const s=de.fromString(t,...i);return M0(s),new cs(r,null,s)}{if(!(r instanceof Fe||r instanceof cs))throw new it($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(de.fromString(t,...i));return M0(s),new cs(r.firestore,null,s)}}function Pc(r,t,...i){if(r=Oe(r),arguments.length===1&&(t=jm.newId()),DE("doc","path",t),r instanceof Oh){const s=de.fromString(t,...i);return O0(s),new Fe(r,null,new dt(s))}{if(!(r instanceof Fe||r instanceof cs))throw new it($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(de.fromString(t,...i));return O0(s),new Fe(r.firestore,r instanceof cs?r.converter:null,new dt(s))}}const Tv="AsyncQueue";class bv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bT(this,"async_queue_retry"),this._c=()=>{const s=$d();s&&st(Tv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!bo(t))throw t;st(Tv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,mr("INTERNAL UNHANDLED ERROR: ",Av(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=sg.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:Av(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Av(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Sv(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class sa extends Oh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new bv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bv(t),this._firestoreClient=void 0,await t}}}function GC(r,t){const i=typeof r=="object"?r:Bv(),s=typeof r=="string"?r:ih,l=xm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=sA("firestore");c&&FC(l,...c)}return l}function Mh(r){if(r._terminated)throw new it($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||QC(r),r._firestoreClient}function QC(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new yR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,HT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new jC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Yn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yn(on.fromBase64String(t))}catch(i){throw new it($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Yn(on.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Jl(t,Yn._jsonSchema))return Yn.fromBase64String(t.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:He("string",Yn._jsonSchemaVersion),bytes:He("string")};class ru{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class cg{constructor(t){this._methodName=t}}class ji{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(t){if(Jl(t,ji._jsonSchema))return new ji(t.latitude,t.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:He("string",ji._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};class Bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Jl(t,Bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Bi(t.vectorValues);throw new it($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:He("string",Bi._jsonSchemaVersion),vectorValues:He("object")};const KC=/^__.*__$/;class YC{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new vs(t,this.data,this.fieldMask,i,this.fieldTransforms):new tu(t,this.data,i,this.fieldTransforms)}}class GT{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new vs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function QT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class hg{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new hg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return dh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(QT(this.Ac)&&KC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class $C{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Nh(t)}Cc(t,i,s,l=!1){return new hg({Ac:t,methodName:i,Dc:s,path:an.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fg(r){const t=r._freezeSettings(),i=Nh(r._databaseId);return new $C(r._databaseId,!!t.ignoreUndefinedProperties,i)}function XC(r,t,i,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);dg("Data must be an object, but it was:",d,s);const p=$T(s,d);let g,_;if(c.merge)g=new Mn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const D=wm(t,A,i);if(!d.contains(D))throw new it($.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);ZT(b,D)||b.push(D)}g=new Mn(b),_=d.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,_=d.fieldTransforms;return new YC(new An(p),g,_)}class Vh extends cg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Vh}}function KT(r,t,i,s){const l=r.Cc(1,t,i);dg("Data must be an object, but it was:",l,s);const c=[],d=An.empty();_s(s,((g,_)=>{const b=mg(t,g,i);_=Oe(_);const A=l.yc(b);if(_ instanceof Vh)c.push(b);else{const D=su(_,A);D!=null&&(c.push(b),d.set(b,D))}}));const p=new Mn(c);return new GT(d,p,l.fieldTransforms)}function YT(r,t,i,s,l,c){const d=r.Cc(1,t,i),p=[wm(t,s,i)],g=[l];if(c.length%2!=0)throw new it($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)p.push(wm(t,c[D])),g.push(c[D+1]);const _=[],b=An.empty();for(let D=p.length-1;D>=0;--D)if(!ZT(_,p[D])){const Q=p[D];let Z=g[D];Z=Oe(Z);const nt=d.yc(Q);if(Z instanceof Vh)_.push(Q);else{const J=su(Z,nt);J!=null&&(_.push(Q),b.set(Q,J))}}const A=new Mn(_);return new GT(b,A,d.fieldTransforms)}function ZC(r,t,i,s=!1){return su(i,r.Cc(s?4:3,t))}function su(r,t){if(XT(r=Oe(r)))return dg("Unsupported field value:",t,r),$T(r,t);if(r instanceof cg)return(function(s,l){if(!QT(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let g=su(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=Oe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=pe.fromDate(s);return{timestampValue:uh(l.serializer,c)}}if(s instanceof pe){const c=new pe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uh(l.serializer,c)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yn)return{bytesValue:hT(l.serializer,s._byteString)};if(s instanceof Fe){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Bi)return(function(d,p){return{mapValue:{fields:{[jE]:{stringValue:BE},[rh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Km(p.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${vh(s)}`)})(r,t)}function $T(r,t){const i={};return VE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_s(r,((s,l)=>{const c=su(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function XT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pe||r instanceof ji||r instanceof Yn||r instanceof Fe||r instanceof cg||r instanceof Bi)}function dg(r,t,i){if(!XT(i)||!OE(i)){const s=vh(i);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function wm(r,t,i){if((t=Oe(t))instanceof ru)return t._internalPath;if(typeof t=="string")return mg(r,t);throw dh("Field path arguments must be of type string or ",r,!1,void 0,i)}const JC=new RegExp("[~\\*/\\[\\]]");function mg(r,t,i){if(t.search(JC)>=0)throw dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new ru(...t.split("."))._internalPath}catch{throw dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function dh(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${s}`),d&&(g+=` in document ${l}`),g+=")"),new it($.INVALID_ARGUMENT,p+r+g)}function ZT(r,t){return r.some((i=>i.isEqual(t)))}class JT{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new WC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(gg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class WC extends JT{data(){return super.data()}}function gg(r,t){return typeof t=="string"?mg(r,t):t instanceof ru?t._internalPath:t._delegate._internalPath}function WT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pg{}class tN extends pg{}function eN(r,t,...i){let s=[];t instanceof pg&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((g=>g instanceof yg)).length,p=c.filter((g=>g instanceof kh)).length;if(d>1||d>0&&p>0)throw new it($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class kh extends tN{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new kh(t,i,s)}_apply(t){const i=this._parse(t);return tb(t._query,i),new ua(t.firestore,t.converter,dm(t._query,i))}_parse(t){const i=fg(t.firestore);return(function(c,d,p,g,_,b,A){let D;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new it($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Rv(A,b);const Z=[];for(const nt of A)Z.push(wv(g,c,nt));D={arrayValue:{values:Z}}}else D=wv(g,c,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Rv(A,b),D=ZC(p,d,A,b==="in"||b==="not-in");return qe.create(_,b,D)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function nN(r,t,i){const s=t,l=gg("where",r);return kh._create(l,s,i)}class yg extends pg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new yg(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ci.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)tb(d,g),d=dm(d,g)})(t._query,i),new ua(t.firestore,t.converter,dm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function wv(r,t,i){if(typeof(i=Oe(i))=="string"){if(i==="")throw new it($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$E(t)&&i.indexOf("/")!==-1)throw new it($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(de.fromString(i));if(!dt.isDocumentKey(s))throw new it($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return B0(r,new dt(s))}if(i instanceof Fe)return B0(r,i._key);throw new it($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(i)}.`)}function Rv(r,t){if(!Array.isArray(r)||r.length===0)throw new it($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function tb(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class iN{convertValue(t,i="none"){switch(ms(t)){case 0:return null;case 1:return t.booleanValue;case 2:return De(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ds(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return _s(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[rh].arrayValue?.values?.map((s=>De(s.doubleValue)));return new Bi(i)}convertGeoPoint(t){return new ji(De(t.latitude),De(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=bh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ql(t));default:return null}}convertTimestamp(t){const i=fs(t);return new pe(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=de.fromString(t);te(yT(s),9688,{name:t});const l=new Hl(s.get(1),s.get(3)),c=new dt(s.popFirst(5));return l.isEqual(i)||mr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function rN(r,t,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,s}class Dl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Js extends JT{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(gg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Js._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Js._jsonSchemaVersion="firestore/documentSnapshot/1.0",Js._jsonSchema={type:He("string",Js._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class Kc extends Js{data(t={}){return super.data(t)}}class Ws{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Dl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Kc(this._firestore,this._userDataWriter,s.key,s,new Dl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Dl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Dl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:sN(p.type),doc:g,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ws._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function sN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}Ws._jsonSchemaVersion="firestore/querySnapshot/1.0",Ws._jsonSchema={type:He("string",Ws._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};class _g extends iN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Fe(this.firestore,null,i)}}function aN(r){r=Pi(r,ua);const t=Pi(r.firestore,sa),i=Mh(t),s=new _g(t);return WT(r._query),HC(i,r._query).then((l=>new Ws(t,s,r,l)))}function oN(r,t,i,...s){r=Pi(r,Fe);const l=Pi(r.firestore,sa),c=fg(l);let d;return d=typeof(t=Oe(t))=="string"||t instanceof ru?YT(c,"updateDoc",r._key,t,i,s):KT(c,"updateDoc",r._key,t),vg(l,[d.toMutation(r._key,Vn.exists(!0))])}function lN(r){return vg(Pi(r.firestore,sa),[new Ih(r._key,Vn.none())])}function uN(r,...t){r=Oe(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Sv(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Sv(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let c,d,p;if(r instanceof Fe)d=Pi(r.firestore,sa),p=Qm(r._key.path),c={next:g=>{t[s]&&t[s](cN(d,r,g))},error:t[s+1],complete:t[s+2]};else{const g=Pi(r,ua);d=Pi(g.firestore,sa),p=g._query;const _=new _g(d);c={next:b=>{t[s]&&t[s](new Ws(d,_,g,b))},error:t[s+1],complete:t[s+2]},WT(r._query)}return(function(_,b,A,D){const Q=new BT(D),Z=new OT(b,Q,A);return _.asyncQueue.enqueueAndForget((async()=>xT(await Sm(_),Z))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>DT(await Sm(_),Z)))}})(Mh(d),p,l,c)}function vg(r,t){return(function(s,l){const c=new us;return s.asyncQueue.enqueueAndForget((async()=>DC(await qC(s),l,c))),c.promise})(Mh(r),t)}function cN(r,t,i){const s=i.docs.get(t._key),l=new _g(r);return new Js(r,l,t._key,s,new Dl(i.hasPendingWrites,i.fromCache),t.converter)}class hN{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=fg(t)}set(t,i,s){this._verifyNotCommitted();const l=Zd(t,this._firestore),c=rN(l.converter,i,s),d=XC(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,s);return this._mutations.push(d.toMutation(l._key,Vn.none())),this}update(t,i,s,...l){this._verifyNotCommitted();const c=Zd(t,this._firestore);let d;return d=typeof(i=Oe(i))=="string"||i instanceof ru?YT(this._dataReader,"WriteBatch.update",c._key,i,s,l):KT(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,Vn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=Zd(t,this._firestore);return this._mutations=this._mutations.concat(new Ih(i._key,Vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zd(r,t){if((r=Oe(r)).firestore!==t)throw new it($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Iv(r){return Mh(r=Pi(r,sa)),new hN(r,(t=>vg(r,t)))}(function(t,i=!0){(function(l){Eo=l})(yo),oo(new ea("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new sa(new J2(s.getProvider("auth-internal")),new eR(d,s.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),as(C0,N0,t),as(C0,N0,"esm2020")})();const fN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),Cv=r=>{const t=dN(r);return t.charAt(0).toUpperCase()+t.slice(1)},eb=(...r)=>r.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),mN=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var gN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pN=se.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...p},g)=>se.createElement("svg",{ref:g,...gN,width:t,height:t,stroke:r,strokeWidth:s?Number(i)*24/Number(t):i,className:eb("lucide",l),...!c&&!mN(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>se.createElement(_,b)),...Array.isArray(c)?c:[c]]));const Ke=(r,t)=>{const i=se.forwardRef(({className:s,...l},c)=>se.createElement(pN,{ref:c,iconNode:t,className:eb(`lucide-${fN(Cv(r))}`,`lucide-${r}`,s),...l}));return i.displayName=Cv(r),i};const yN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_N=Ke("chevron-left",yN);const vN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],EN=Ke("chevron-right",vN);const TN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nb=Ke("circle-alert",TN);const bN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ib=Ke("circle-check-big",bN);const AN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],SN=Ke("clock",AN);const wN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],RN=Ke("funnel",wN);const IN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],CN=Ke("info",IN);const NN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],xN=Ke("layers",NN);const DN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rb=Ke("log-out",DN);const ON=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],sb=Ke("map-pin",ON);const MN=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],VN=Ke("moon",MN);const kN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],ab=Ke("panels-top-left",kN);const LN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Nv=Ke("pen",LN);const PN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],UN=Ke("plus",PN);const zN=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],jN=Ke("repeat",zN);const BN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],qN=Ke("sun",BN);const HN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ob=Ke("trash-2",HN);const FN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],lb=Ke("triangle-alert",FN);const GN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rm=Ke("x",GN),QN={apiKey:"AIzaSyAVhacM_THZAr5oAN37mVkzX9qBzt2DIes",authDomain:"agenda-1a3f1.firebaseapp.com",projectId:"agenda-1a3f1",storageBucket:"agenda-1a3f1.firebasestorage.app",messagingSenderId:"54495045388",appId:"1:54495045388:web:034103823e4b41f56f0b29"},ub=jv(QN),Jd=Y2(ub),Zr=GC(ub),KN=["Psiclogo(a)","Estagirio(a) de Psicologia","Psiquiatra","Assistente Social","Psicopedagoga(a)","Pedagogo(a)","Educador(a) Fsico","Enfermeiro(a)","Tc. de Enfermagem"],cb={"Psiclogo(a)":"bg-blue-100 text-blue-800 border-blue-200","Estagirio(a) de Psicologia":"bg-sky-100 text-sky-800 border-sky-200",Psiquiatra:"bg-purple-100 text-purple-800 border-purple-200","Assistente Social":"bg-pink-100 text-pink-800 border-pink-200","Psicopedagoga(a)":"bg-teal-100 text-teal-800 border-teal-200","Pedagogo(a)":"bg-green-100 text-green-800 border-green-200","Educador(a) Fsico":"bg-orange-100 text-orange-800 border-orange-200","Enfermeiro(a)":"bg-red-100 text-red-800 border-red-200","Tc. de Enfermagem":"bg-rose-100 text-rose-800 border-rose-200"},YN={"Psiclogo(a)":"bg-blue-900/40 text-blue-200 border-blue-800","Estagirio(a) de Psicologia":"bg-sky-900/40 text-sky-200 border-sky-800",Psiquiatra:"bg-purple-900/40 text-purple-200 border-purple-800","Assistente Social":"bg-pink-900/40 text-pink-200 border-pink-800","Psicopedagoga(a)":"bg-teal-900/40 text-teal-200 border-teal-800","Pedagogo(a)":"bg-green-900/40 text-green-200 border-green-800","Educador(a) Fsico":"bg-orange-900/40 text-orange-200 border-orange-800","Enfermeiro(a)":"bg-red-900/40 text-red-200 border-red-800","Tc. de Enfermagem":"bg-rose-900/40 text-rose-200 border-rose-800"},$N=["Sala coletiva 1","Sala coletiva 2","Espao de convvio","Ptio externo","Refeitrio"],XN=Object.keys(cb),Jr=r=>{if(!r)return 0;const[t,i]=r.split(":").map(Number);return t*60+i},ZN=({toast:r,onClose:t})=>{if(se.useEffect(()=>{if(r){const s=setTimeout(t,4e3);return()=>clearTimeout(s)}},[r,t]),!r)return null;const i={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"};return I.jsxs("div",{className:`fixed bottom-4 right-4 z-[100] flex items-center gap-3 px-6 py-3 rounded-lg shadow-xl text-white transition-all animate-in slide-in-from-right-5 duration-300 ${i[r.type]||i.info}`,children:[r.type==="success"&&I.jsx(ib,{size:20}),r.type==="error"&&I.jsx(nb,{size:20}),r.type==="info"&&I.jsx(CN,{size:20}),I.jsx("span",{className:"font-medium text-sm md:text-base",children:r.message}),I.jsx("button",{onClick:t,className:"ml-2 opacity-80 hover:opacity-100",children:I.jsx(Rm,{size:18})})]})},JN=({onLogin:r,error:t,loading:i})=>{const[s,l]=se.useState(""),[c,d]=se.useState(""),p=g=>{g.preventDefault(),r(s,c)};return I.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:I.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-md border border-gray-700",children:[I.jsx("div",{className:"flex justify-center mb-6",children:I.jsx("div",{className:"bg-blue-600 p-4 rounded-full",children:I.jsx(ab,{size:40,className:"text-white"})})}),I.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:"CAPS AD III"}),I.jsx("p",{className:"text-gray-400 text-center mb-6",children:"Acesso restrito  equipe"}),I.jsxs("form",{onSubmit:p,className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-gray-300 text-sm font-bold mb-2",children:"E-mail"}),I.jsx("input",{type:"email",required:!0,className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 outline-none",placeholder:"seu@email.com",value:s,onChange:g=>l(g.target.value)})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-gray-300 text-sm font-bold mb-2",children:"Senha"}),I.jsx("input",{type:"password",required:!0,className:"w-full p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 outline-none",placeholder:"",value:c,onChange:g=>d(g.target.value)})]}),t&&I.jsxs("div",{className:"bg-red-500/20 text-red-200 p-3 rounded text-sm border border-red-500/30 flex items-center gap-2",children:[I.jsx(lb,{size:16})," ",t]}),I.jsx("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Entrando...":"Acessar Sistema"})]})]})})},WN=({isOpen:r,onClose:t,onConfirm:i,isDarkMode:s,themeClasses:l})=>r?I.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60] p-4 backdrop-blur-sm",onClick:t,children:I.jsxs("div",{className:`rounded-xl shadow-2xl w-full max-w-sm overflow-hidden ${l.modalBg} animate-in zoom-in-95 duration-200`,onClick:c=>c.stopPropagation(),children:[I.jsx("div",{className:`px-6 py-4 border-b ${s?"border-blue-900/50 bg-blue-900/20":"border-blue-100 bg-blue-50"}`,children:I.jsxs("h3",{className:"text-blue-500 font-bold text-lg flex items-center gap-2",children:[I.jsx(rb,{size:24})," Sair do Sistema"]})}),I.jsxs("div",{className:"p-6",children:[I.jsx("p",{className:`mb-6 ${s?"text-gray-300":"text-gray-600"}`,children:"Tem certeza que deseja sair?"}),I.jsxs("div",{className:"flex gap-3",children:[I.jsx("button",{onClick:t,className:`flex-1 py-2 rounded-lg font-medium transition-colors ${s?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"Cancelar"}),I.jsx("button",{onClick:i,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-bold transition-colors shadow-lg",children:"Sair"})]})]})]})}):null,tx=({isOpen:r,onClose:t,onConfirm:i,isRecurring:s,isDarkMode:l,themeClasses:c})=>r?I.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60] p-4 backdrop-blur-sm",onClick:t,children:I.jsxs("div",{className:`rounded-xl shadow-2xl w-full max-w-md overflow-hidden ${c.modalBg} animate-in zoom-in-95 duration-200`,onClick:d=>d.stopPropagation(),children:[I.jsx("div",{className:`px-6 py-4 border-b ${l?"border-red-900/50 bg-red-900/20":"border-red-100 bg-red-50"}`,children:I.jsxs("h3",{className:"text-red-500 font-bold text-lg flex items-center gap-2",children:[I.jsx(lb,{size:24})," Excluir Atividade"]})}),I.jsxs("div",{className:"p-6",children:[I.jsx("p",{className:`mb-6 ${l?"text-gray-300":"text-gray-600"}`,children:s?"Esta  uma atividade recorrente. Como voc deseja prosseguir?":"Tem certeza que deseja excluir esta atividade? Esta ao no pode ser desfeita."}),I.jsxs("div",{className:"flex flex-col gap-3",children:[s?I.jsxs(I.Fragment,{children:[I.jsxs("button",{onClick:()=>i("single"),className:`w-full py-3 rounded-lg font-medium border transition-all flex items-center justify-center gap-2 ${l?"border-gray-600 hover:bg-gray-700 text-white":"border-gray-300 hover:bg-gray-50 text-gray-700"}`,children:[I.jsx(ob,{size:18,className:"opacity-70"})," Excluir apenas esta (desta data)"]}),I.jsxs("button",{onClick:()=>i("series"),className:"w-full py-3 rounded-lg font-bold bg-red-600 hover:bg-red-700 text-white transition-colors flex items-center justify-center gap-2 shadow-lg",children:[I.jsx(xN,{size:18})," Excluir TODAS as repeties"]})]}):I.jsx("button",{onClick:()=>i("single"),className:"w-full py-3 rounded-lg font-bold bg-red-600 hover:bg-red-700 text-white transition-colors shadow-lg",children:"Sim, Excluir"}),I.jsx("button",{onClick:t,className:"mt-2 text-sm text-gray-500 hover:underline text-center",children:"Cancelar"})]})]})]})}):null,ex=({isOpen:r,mode:t,onClose:i,onSave:s,onRequestDelete:l,formData:c,setFormData:d,selectedActivity:p,isDarkMode:g,themeClasses:_,getAreaColor:b})=>r?t==="view"&&p?I.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:i,children:I.jsxs("div",{className:`rounded-xl shadow-2xl w-full max-w-md overflow-hidden ${_.modalBg} transition-all`,onClick:A=>A.stopPropagation(),children:[I.jsxs("div",{className:`px-6 py-4 flex justify-between items-center ${g?"bg-gray-800 border-b border-gray-700":"bg-white border-b border-gray-200"}`,children:[I.jsxs("h2",{className:`${g?"text-white":"text-gray-900"} font-bold text-lg flex items-center gap-2`,children:[I.jsx(ab,{size:20})," Detalhes da Atividade"]}),I.jsx("button",{onClick:i,className:"text-gray-500 hover:text-gray-700 text-2xl",children:I.jsx(Rm,{size:24})})]}),I.jsxs("div",{className:"p-6 space-y-6",children:[I.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${b(p.area)}`,children:[I.jsx("h3",{className:`text-xl font-bold ${g?"text-white":"text-gray-900"}`,children:p.title}),I.jsx("span",{className:`text-xs px-2 py-1 rounded mt-2 inline-block border ${b(p.area)}`,children:p.area})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-6 text-sm",children:[I.jsxs("div",{children:[I.jsx("p",{className:_.subText,children:"Horrio"}),I.jsxs("p",{className:`font-semibold text-lg ${g?"text-gray-200":"text-gray-800"}`,children:[p.startTime," - ",p.endTime]})]}),I.jsxs("div",{children:[I.jsx("p",{className:_.subText,children:"Local"}),I.jsxs("p",{className:`font-semibold flex items-center gap-1 ${g?"text-gray-200":"text-gray-800"}`,children:[I.jsx(sb,{size:16})," ",p.local]})]}),I.jsxs("div",{className:"col-span-2",children:[I.jsx("p",{className:_.subText,children:"Descrio"}),I.jsx("p",{className:`mt-1 p-3 rounded-md border ${g?"bg-gray-700/50 border-gray-600 text-gray-300":"bg-gray-50 border-gray-200 text-gray-700"}`,children:p.description||"Sem descrio definida."})]}),p.recurrence!=="none"&&I.jsxs("div",{className:"col-span-2 flex items-center gap-2 text-orange-500 text-xs font-bold bg-orange-500/10 p-2 rounded border border-orange-500/20",children:[I.jsx(jN,{size:14})," ",I.jsxs("span",{children:["Srie Recorrente (",p.recurrence,")"]})]})]}),I.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[I.jsxs("button",{onClick:()=>l(p),className:"flex-1 bg-red-600/10 hover:bg-red-600 text-red-500 hover:text-white py-2 rounded-md font-medium transition-colors flex items-center justify-center gap-2 border border-red-600/20",children:[I.jsx(ob,{size:18})," Excluir"]}),I.jsxs("button",{onClick:s,className:"flex-1 bg-blue-600 text-white hover:bg-blue-700 py-2 rounded-md font-medium transition-colors flex items-center justify-center gap-2 shadow-lg",children:[I.jsx(Nv,{size:18})," Editar"]})]})]})]})}):I.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:i,children:I.jsxs("div",{className:`rounded-xl shadow-2xl w-full max-w-md overflow-hidden ${_.modalBg} transition-all`,onClick:A=>A.stopPropagation(),children:[I.jsxs("div",{className:"bg-blue-600 px-6 py-4 flex justify-between items-center",children:[I.jsx("h2",{className:"text-white font-bold text-lg flex items-center gap-2",children:t==="create"?I.jsxs(I.Fragment,{children:[I.jsx(SN,{size:20})," Agendar Atividade"]}):I.jsxs(I.Fragment,{children:[I.jsx(Nv,{size:20})," Editar Atividade"]})}),I.jsx("button",{onClick:i,className:"text-blue-200 hover:text-white text-2xl",children:I.jsx(Rm,{size:24})})]}),I.jsxs("div",{className:"p-6 space-y-4 max-h-[80vh] overflow-y-auto custom-scrollbar",children:[I.jsxs("div",{children:[I.jsxs("label",{className:`block text-sm font-bold mb-1 ${g?"text-gray-300":"text-gray-700"}`,children:["Ttulo ",I.jsx("span",{className:"text-red-500",children:"*"})]}),I.jsx("input",{type:"text",className:`w-full border rounded-lg p-2 outline-none focus:ring-2 focus:ring-blue-500 ${_.input}`,placeholder:"Ex: Assembleia Comunitria",value:c.title,onChange:A=>d({...c,title:A.target.value})})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsxs("label",{className:`block text-sm font-bold mb-1 ${g?"text-gray-300":"text-gray-700"}`,children:["Profissional ",I.jsx("span",{className:"text-red-500",children:"*"})]}),I.jsxs("select",{className:`w-full border rounded-lg p-2 text-sm ${_.input}`,value:c.area,onChange:A=>d({...c,area:A.target.value}),children:[I.jsx("option",{value:"",children:"Selecione..."}),KN.map(A=>I.jsx("option",{value:A,children:A},A))]})]}),I.jsxs("div",{children:[I.jsxs("label",{className:`block text-sm font-bold mb-1 ${g?"text-gray-300":"text-gray-700"}`,children:["Local ",I.jsx("span",{className:"text-red-500",children:"*"})]}),I.jsxs("select",{className:`w-full border rounded-lg p-2 text-sm ${_.input}`,value:c.local,onChange:A=>d({...c,local:A.target.value}),children:[I.jsx("option",{value:"",children:"Selecione..."}),$N.map(A=>I.jsx("option",{value:A,children:A},A))]})]})]}),I.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[I.jsxs("div",{className:"col-span-1",children:[I.jsxs("label",{className:`block text-sm font-bold mb-1 ${g?"text-gray-300":"text-gray-700"}`,children:["Data ",I.jsx("span",{className:"text-red-500",children:"*"})]}),I.jsx("input",{type:"date",className:`w-full border rounded-lg p-2 text-sm ${_.input}`,value:c.date,onChange:A=>d({...c,date:A.target.value})})]}),I.jsxs("div",{className:"col-span-1",children:[I.jsxs("label",{className:`block text-sm font-bold mb-1 ${g?"text-gray-300":"text-gray-700"}`,children:["Incio ",I.jsx("span",{className:"text-red-500",children:"*"})]}),I.jsx("input",{type:"time",className:`w-full border rounded-lg p-2 text-sm ${_.input}`,value:c.startTime,min:"07:00",max:"19:00",onChange:A=>d({...c,startTime:A.target.value})})]}),I.jsxs("div",{className:"col-span-1",children:[I.jsxs("label",{className:`block text-sm font-bold mb-1 ${g?"text-gray-300":"text-gray-700"}`,children:["Fim ",I.jsx("span",{className:"text-xs font-normal opacity-60",children:"(Opcional)"})]}),I.jsx("input",{type:"time",className:`w-full border rounded-lg p-2 text-sm ${_.input}`,value:c.endTime,min:"07:00",max:"19:00",placeholder:"+1h",onChange:A=>d({...c,endTime:A.target.value})})]})]}),t==="create"&&I.jsxs("div",{className:`p-3 rounded-lg border ${g?"bg-gray-800 border-gray-600":"bg-gray-50 border-gray-200"}`,children:[I.jsx("label",{className:`block text-sm font-bold mb-2 text-center ${g?"text-gray-300":"text-gray-700"}`,children:"Recorrncia"}),I.jsx("div",{className:"flex gap-2 mb-3 flex-wrap justify-center",children:["none","weekly","biweekly","monthly"].map(A=>I.jsx("button",{onClick:()=>d({...c,recurrence:A}),className:`px-3 py-1.5 text-xs rounded-md transition-colors border ${c.recurrence===A?"bg-blue-600 border-blue-600 text-white font-bold":`${g?"bg-gray-700 text-gray-300 border-gray-600":"bg-white text-gray-600"}`}`,children:A==="none"?"nica":A==="weekly"?"Semanal":A==="biweekly"?"Quinzenal":"Mensal"},A))}),c.recurrence!=="none"&&I.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-300",children:[I.jsx("label",{className:`block text-xs font-bold mb-1 ${g?"text-gray-400":"text-gray-600"}`,children:"Por quanto tempo?"}),I.jsxs("select",{className:`w-full border rounded p-1.5 text-sm ${_.input}`,value:c.recurrenceDuration,onChange:A=>d({...c,recurrenceDuration:A.target.value}),children:[I.jsx("option",{value:"1_month",children:"1 Ms"}),I.jsx("option",{value:"6_months",children:"6 Meses"}),I.jsx("option",{value:"1_year",children:"1 Ano"})]}),I.jsxs("p",{className:"text-[10px] text-gray-500 mt-1 italic flex items-center gap-1",children:[I.jsx(nb,{size:10})," Sero criadas cpias automticas desta atividade."]})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:`block text-sm font-bold mb-1 ${g?"text-gray-300":"text-gray-700"}`,children:"Descrio"}),I.jsx("textarea",{className:`w-full border rounded-lg p-2 text-sm h-20 resize-none focus:ring-2 focus:ring-blue-500 outline-none ${_.input}`,placeholder:"Detalhes...",value:c.description,onChange:A=>d({...c,description:A.target.value})})]}),I.jsxs("button",{onClick:s,className:`w-full py-3 rounded-lg font-bold transition-colors shadow-md flex justify-center items-center gap-2 mt-4 ${!c.area||!c.local||!c.startTime||!c.title?"bg-gray-400 cursor-not-allowed text-gray-100":"bg-blue-600 hover:bg-blue-700 text-white"}`,disabled:!c.area||!c.local||!c.startTime||!c.title,children:[I.jsx(ib,{size:20})," ",t==="edit"?"Salvar Alteraes":"Confirmar Agendamento"]})]})]})}):null,nx=()=>{const[r,t]=se.useState(null),[i,s]=se.useState(!0),[l,c]=se.useState(""),[d,p]=se.useState(!1),[g,_]=se.useState(!0),[b,A]=se.useState("day"),[D,Q]=se.useState(new Date),[Z,nt]=se.useState([]),[J,gt]=se.useState("Todas"),[bt,yt]=se.useState(null),[Jt,Qt]=se.useState(!1),[Ot,N]=se.useState("create"),[S,C]=se.useState(null),[V,x]=se.useState(!1),[L,w]=se.useState(null),[he,Te]=se.useState(!1),[F,et]=se.useState(new Date);se.useEffect(()=>{const at=setInterval(()=>et(new Date),6e4),ut=Lw(Jd,Rt=>{t(Rt),s(!1)});return()=>{clearInterval(at),ut()}},[]),se.useEffect(()=>{if(!r)return;const at=Lc(Zr,"activities"),ut=uN(at,Rt=>{const Ht=Rt.docs.map(mt=>({id:mt.id,...mt.data()}));nt(Ht)});return()=>ut()},[r]);const lt=(at,ut="success")=>yt({message:at,type:ut}),Bt=async(at,ut)=>{p(!0),c("");try{await Mw(Jd,at,ut)}catch{c("Erro ao entrar. Verifique e-mail e senha.")}finally{p(!1)}},$t=()=>{Te(!0)},M=async()=>{await Pw(Jd),Te(!1)},H={bg:g?"bg-gray-900":"bg-gray-100",text:g?"text-gray-100":"text-slate-900",card:g?"bg-gray-800 border-gray-700":"bg-white border-gray-200",headerNav:g?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-200",input:g?"bg-gray-700 border-gray-600 text-white focus:ring-blue-500":"bg-white border-gray-300 text-gray-900 focus:ring-blue-500",subText:g?"text-gray-400":"text-gray-500",gridLines:g?"divide-gray-700 border-gray-700":"divide-gray-200 border-gray-200",slotBg:g?"bg-gray-800/50":"bg-gray-50",modalBg:g?"bg-gray-800 text-white":"bg-white text-gray-900",activeTab:g?"bg-blue-600 text-white":"bg-white text-blue-800 shadow",inactiveTab:g?"text-gray-400 hover:text-white hover:bg-gray-700":"text-gray-500 hover:bg-gray-200"},tt=at=>g?YN[at]||"bg-gray-700 border-gray-600":cb[at]||"bg-gray-100 border-gray-200",rt=at=>{const ut=new Date(at),Rt=ut.getDay(),Ht=ut.getDate()-Rt+(Rt===0?-6:1);return new Date(ut.setDate(Ht))},_t=at=>{if(!at||at.length===0)return[];const ut=at.map(Nt=>({...Nt,startMin:Jr(Nt.startTime),endMin:Jr(Nt.endTime)})).sort((Nt,Wt)=>Nt.startMin-Wt.startMin||Wt.endMin-Nt.endMin),Rt=[];let Ht=[],mt=-1;for(const Nt of ut)Ht.length===0?(Ht.push(Nt),mt=Nt.endMin):Nt.startMin<mt?(Ht.push(Nt),mt=Math.max(mt,Nt.endMin)):(Rt.push(Ht),Ht=[Nt],mt=Nt.endMin);Ht.length>0&&Rt.push(Ht);const Ft=[];for(const Nt of Rt){const Wt=[];for(const ye of Nt){let ee=!1;for(let kt=0;kt<Wt.length;kt++)if(Wt[kt]<=ye.startMin){Wt[kt]=ye.endMin,ye.laneIndex=kt,ee=!0;break}ee||(Wt.push(ye.endMin),ye.laneIndex=Wt.length-1)}const wt=100/Wt.length;for(const ye of Nt)Ft.push({...ye,style:{width:`${wt}%`,left:`${ye.laneIndex*wt}%`}})}return Ft},[ht,Dt]=se.useState({title:"",area:"",local:"",date:"",startTime:"",endTime:"",recurrence:"none",recurrenceDuration:"1_month",description:""}),Se=at=>{const ut=new Date(D);b==="day"?ut.setDate(D.getDate()+at):b==="week"?ut.setDate(D.getDate()+at*7):ut.setMonth(D.getMonth()+at),Q(ut)},fe=()=>{Dt({title:"",area:"",local:"",date:D.toISOString().split("T")[0],startTime:"",endTime:"",recurrence:"none",recurrenceDuration:"1_month",description:""}),N("create"),C(null),Qt(!0)},Hi=at=>{C(at),N("view"),Qt(!0)},yr=()=>{S&&(Dt({...S,recurrence:"none",recurrenceDuration:"1_month",description:S.description||""}),N("edit"))},hi=(at,ut,Rt,Ht,mt=null)=>{const Ft=Z.filter(wt=>wt.date===Rt&&wt.id!==mt),Nt=Ft.find(wt=>wt.local===Ht&&at<Jr(wt.endTime)&&ut>Jr(wt.startTime));if(Nt)return{type:"local",activity:Nt};const Wt=Ft.filter(wt=>at<Jr(wt.endTime)&&ut>Jr(wt.startTime));return Wt.length>=2?{type:"capacity",count:Wt.length}:null},_r=async()=>{let at=ht.endTime;if(!at&&ht.startTime){const[mt,Ft]=ht.startTime.split(":").map(Number);let Nt=mt+1;Nt>23&&(Nt=0),at=`${String(Nt).padStart(2,"0")}:${String(Ft).padStart(2,"0")}`}const ut=Jr(ht.startTime),Rt=Jr(at);if(ut>=Rt){lt("Horrio invlido.","error");return}const Ht={...ht,endTime:at};if(delete Ht.recurrenceDuration,Ot==="edit"){const mt=hi(ut,Rt,ht.date,ht.local,S.id);if(mt){lt(mt.type==="local"?"Local ocupado!":"Capacidade excedida!","error");return}try{await oN(Pc(Zr,"activities",S.id),Ht),Qt(!1),lt("Atividade atualizada!","success")}catch{lt("Erro ao salvar.","error")}}else{const mt=`series-${Date.now()}`,Ft={...Ht,seriesId:mt};let Nt=hi(ut,Rt,ht.date,ht.local);if(Nt){lt(Nt.type==="local"?"Local ocupado!":"Capacidade excedida!","error");return}const Wt=Iv(Zr),wt=Pc(Lc(Zr,"activities"));if(Wt.set(wt,{...Ft,date:ht.date}),ht.recurrence!=="none"){const ye=new Date(ht.date+"T12:00:00");let ee=new Date(ye);ht.recurrenceDuration==="1_month"?ee.setMonth(ee.getMonth()+1):ht.recurrenceDuration==="6_months"?ee.setMonth(ee.getMonth()+6):ee.setFullYear(ee.getFullYear()+1);let kt=new Date(ye);for(;ht.recurrence==="weekly"?kt.setDate(kt.getDate()+7):ht.recurrence==="biweekly"?kt.setDate(kt.getDate()+14):kt.setMonth(kt.getMonth()+1),!(kt>ee);){const Je=kt.toISOString().split("T")[0];if(!hi(ut,Rt,Je,ht.local)){const ca=Pc(Lc(Zr,"activities"));Wt.set(ca,{...Ft,date:Je})}}}try{await Wt.commit(),Qt(!1),lt("Atividade(s) agendada(s)!","success")}catch{lt("Erro ao criar.","error")}}},kn=at=>{w(at),x(!0),Qt(!1)},Es=async at=>{if(L)try{if(at==="series"&&L.seriesId){const ut=eN(Lc(Zr,"activities"),nN("seriesId","==",L.seriesId)),Rt=await aN(ut),Ht=Iv(Zr);Rt.forEach(mt=>Ht.delete(mt.ref)),await Ht.commit()}else await lN(Pc(Zr,"activities",L.id));x(!1),w(null),lt("Excludo com sucesso.","success")}catch{lt("Erro ao excluir.","error")}},$n=()=>{const at=[];for(let ut=7;ut<=19;ut++)at.push(ut);return at},Fi=Z.filter(at=>J==="Todas"?!0:at.area===J),Ts=()=>{const at=F.getHours(),ut=F.getMinutes();return at<7||at>19?-10:(at-7)*6+ut/60*6},be=({offset:at=0})=>{const ut=Ts();return ut<0?null:I.jsx("div",{className:"absolute w-full z-20 pointer-events-none flex items-center left-0 right-0",style:{top:`${ut+at}rem`},children:I.jsx("div",{className:"w-full border-t-2 border-red-500 shadow-sm relative",children:I.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full absolute -top-[5px] -left-1.5 shadow-sm"})})})};if(i)return I.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white",children:I.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})});if(!r)return I.jsx(JN,{onLogin:Bt,error:l,loading:d});const Ie=()=>{const at=rt(D),ut=Array.from({length:7},(Rt,Ht)=>{const mt=new Date(at);return mt.setDate(at.getDate()+Ht),mt});return I.jsxs("div",{className:`overflow-x-auto border rounded-lg shadow-lg ${H.card} custom-scrollbar relative w-full`,children:[I.jsx("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none z-20 min-w-[1000px]",children:I.jsx(be,{offset:3})}),I.jsxs("div",{className:`grid grid-cols-8 w-full divide-x ${H.gridLines} min-w-[1000px]`,children:[I.jsxs("div",{className:`col-span-1 ${H.slotBg}`,children:[I.jsx("div",{className:`h-12 border-b p-2 font-bold text-sm flex items-center justify-center ${H.subText} ${g?"border-gray-700":"border-gray-200"}`,children:"Horrio"}),$n().map(Rt=>I.jsxs("div",{className:`h-24 border-b p-2 flex items-center justify-center text-sm font-semibold ${H.subText} ${g?"border-gray-700":"border-gray-200"}`,children:[Rt,":00"]},Rt))]}),I.jsx("div",{className:"col-span-7 grid grid-cols-7 relative",children:ut.map((Rt,Ht)=>{const mt=Rt.toISOString().split("T")[0],Ft=mt===new Date().toISOString().split("T")[0],Nt=Fi.filter(wt=>wt.date===mt),Wt=_t(Nt);return I.jsxs("div",{className:`col-span-1 relative group border-r last:border-r-0 cursor-pointer transition-colors ${g?"bg-gray-800 border-gray-700 hover:bg-gray-700":"bg-white border-gray-100 hover:bg-gray-50"}`,onClick:()=>{Q(Rt),A("day")},children:[I.jsxs("div",{className:`h-12 border-b p-2 text-center ${g?"border-gray-700":"border-gray-200"} ${Ft?g?"bg-blue-900/30":"bg-blue-50":""}`,children:[I.jsx("div",{className:`font-bold ${g?"text-gray-200":"text-gray-800"}`,children:Rt.toLocaleDateString("pt-BR",{weekday:"short"})}),I.jsxs("div",{className:`text-xs ${Ft?"text-blue-500 font-bold":H.subText}`,children:[Rt.getDate(),"/",Rt.getMonth()+1]})]}),I.jsxs("div",{className:"relative h-[calc(13*6rem)]",children:[$n().map(wt=>I.jsx("div",{className:`h-24 border-b w-full absolute ${g?"border-gray-700":"border-gray-100"}`,style:{top:`${(wt-7)*6}rem`}},wt)),Wt.map(wt=>{const ye=parseInt(wt.startTime.split(":")[0]),ee=parseInt(wt.startTime.split(":")[1]),kt=(ye-7)*6+ee/60*6,Je=(parseInt(wt.endTime.split(":")[0])-ye+(parseInt(wt.endTime.split(":")[1])-ee)/60)*6,_e=new Date(`${mt}T${wt.endTime}:00`)<F;return I.jsxs("div",{className:`absolute rounded p-1 text-xs border shadow-sm overflow-hidden transition-all ${tt(wt.area)} ${_e?"opacity-60 grayscale-[0.5]":""}`,style:{top:`${kt}rem`,height:`${Je}rem`,width:`calc(${wt.style.width} - 4px)`,left:`calc(${wt.style.left} + 2px)`},title:wt.title,children:[I.jsx("div",{className:"font-bold truncate",children:wt.title}),I.jsx("div",{className:"truncate opacity-75 text-[10px]",children:wt.local})]},wt.id)})]})]},Ht)})})]})]})},fi=()=>{const at=D.toISOString().split("T")[0],ut=at===new Date().toISOString().split("T")[0],Rt=Fi.filter(mt=>mt.date===at),Ht=_t(Rt);return I.jsx("div",{className:`border rounded-lg shadow-lg overflow-hidden flex flex-col ${H.card}`,children:I.jsxs("div",{className:"flex-1 relative min-h-[600px]",children:[ut&&I.jsx(be,{}),$n().map(mt=>I.jsx("div",{className:`h-24 border-b flex items-start group ${g?"border-gray-700":"border-gray-100"}`,style:{height:"6rem"},children:I.jsxs("div",{className:`w-20 flex-shrink-0 text-right pr-4 pt-2 text-sm font-semibold ${g?"text-blue-400":"text-blue-700"}`,children:[mt,":00"]})},mt)),I.jsx("div",{className:"absolute top-0 left-20 right-0 bottom-0",children:Ht.map(mt=>{const Ft=parseInt(mt.startTime.split(":")[0]),Nt=parseInt(mt.startTime.split(":")[1]),Wt=(Ft-7)*6+Nt/60*6,wt=(parseInt(mt.endTime.split(":")[0])-Ft+(parseInt(mt.endTime.split(":")[1])-Nt)/60)*6,ye=new Date(`${at}T${mt.endTime}:00`)<F;return I.jsxs("div",{className:`absolute rounded-md p-3 border-l-4 shadow-md cursor-pointer hover:shadow-lg transition-all flex flex-col justify-center ${tt(mt.area)} ${ye?"opacity-50":""}`,style:{top:`${Wt}rem`,height:`${wt}rem`,minHeight:"3rem",width:`calc(${mt.style.width} - 8px)`,left:`calc(${mt.style.left} + 4px)`},onClick:ee=>{ee.stopPropagation(),Hi(mt)},children:[I.jsxs("div",{className:"flex justify-between items-start",children:[I.jsx("span",{className:"font-bold text-sm truncate",children:mt.title}),I.jsx("span",{className:"text-xs opacity-75 whitespace-nowrap ml-1",children:mt.startTime})]}),I.jsxs("div",{className:"flex items-center gap-2 text-xs mt-1 opacity-90 truncate",children:[I.jsx(sb,{size:12})," ",mt.local]})]},mt.id)})})]})})},So=()=>{const at=D.getFullYear(),ut=D.getMonth(),Rt=new Date(at,ut+1,0).getDate(),Ht=new Date(at,ut,1).getDay(),mt=Array(Ht).fill(null).concat(Array.from({length:Rt},(Ft,Nt)=>Nt+1));return I.jsxs("div",{className:`rounded-lg shadow border ${H.card} ${g?"border-gray-700":""}`,children:[I.jsx("div",{className:`grid grid-cols-7 border-b ${g?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-200"}`,children:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"].map(Ft=>I.jsx("div",{className:`p-2 text-center text-sm font-bold ${H.subText}`,children:Ft},Ft))}),I.jsx("div",{className:"grid grid-cols-7 auto-rows-fr",children:mt.map((Ft,Nt)=>{if(!Ft)return I.jsx("div",{className:`border-b border-r min-h-[120px] ${g?"bg-gray-800/50 border-gray-700":"bg-gray-50/50 border-gray-200"}`},Nt);const Wt=`${at}-${String(ut+1).padStart(2,"0")}-${String(Ft).padStart(2,"0")}`,wt=Fi.filter(kt=>kt.date===Wt),ye=new Date(Wt)<new Date(F.toDateString()),ee=Wt===F.toISOString().split("T")[0];return I.jsxs("div",{className:`border-b border-r min-h-[120px] relative transition-colors group cursor-pointer ${g?"border-gray-700 hover:bg-gray-700":"border-gray-200 hover:bg-gray-50"} ${ye?"opacity-60":""}`,onClick:()=>{Q(new Date(Wt)),A("day")},children:[I.jsxs("div",{className:"absolute top-2 left-2 right-2 flex justify-between items-start pointer-events-none",children:[I.jsx("span",{className:`text-[10px] uppercase font-bold tracking-wider mt-1 ${g?"text-gray-500":"text-gray-400"}`,children:wt.length>0?"Atividades":""}),I.jsx("span",{className:`text-sm font-bold ${g?"text-gray-400":"text-gray-700"} ${ee?"bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center":""}`,children:Ft})]}),I.jsx("div",{className:"w-full h-full flex items-center justify-center",children:wt.length>0&&I.jsx("span",{className:`text-4xl font-bold ${g?"text-blue-400":"text-blue-600"}`,children:wt.length})})]},Nt)})})]})};return I.jsxs("div",{className:`min-h-screen font-sans transition-colors duration-300 ${H.bg} ${H.text} pb-10`,children:[I.jsx("style",{children:`
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: ${g?"#475569":"#cbd5e1"}; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: ${g?"#64748b":"#94a3b8"}; }
        * { scrollbar-width: thin; scrollbar-color: ${g?"#475569 transparent":"#cbd5e1 transparent"}; }
      `}),I.jsxs("div",{className:"max-w-7xl mx-auto px-4 pt-6 pb-4",children:[I.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[I.jsxs("div",{children:[I.jsx("h1",{className:`text-2xl md:text-3xl font-bold flex items-center gap-2 ${g?"text-blue-400":"text-blue-600"}`,children:"Agenda de Atividades"}),I.jsx("p",{className:`text-sm ${g?"text-gray-400":"text-gray-500"}`,children:"CAPS AD III - Organizao da Equipe"})]}),I.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[I.jsx("button",{onClick:()=>_(!g),className:`p-2 rounded-full transition-all ${g?"text-yellow-400 hover:bg-gray-800":"text-gray-600 hover:bg-gray-200"}`,children:g?I.jsx(qN,{size:20}):I.jsx(VN,{size:20})}),I.jsxs("div",{className:"relative flex-grow md:flex-grow-0",children:[I.jsxs("select",{value:J,onChange:at=>gt(at.target.value),className:`w-full md:w-auto appearance-none pl-3 pr-8 py-2 rounded-md border text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer ${g?"bg-gray-800 border-gray-600 text-gray-200":"bg-white border-gray-300 text-gray-700"}`,children:[I.jsx("option",{value:"Todas",children:"Filtrar Profissional (Todos)"})," ",XN.map(at=>I.jsx("option",{value:at,children:at},at))]}),I.jsx(RN,{size:14,className:"absolute right-3 top-1/2 transform -translate-y-1/2 opacity-50 pointer-events-none"})]}),I.jsxs("button",{onClick:fe,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md font-bold shadow-md flex items-center gap-2 transition-transform active:scale-95 flex-grow md:flex-grow-0 justify-center",children:[I.jsx(UN,{size:18,strokeWidth:3})," Nova"]}),I.jsx("button",{onClick:$t,className:"bg-red-600/20 hover:bg-red-600 text-red-200 hover:text-white px-3 py-2 rounded-md font-bold shadow-md transition-transform active:scale-95",children:I.jsx(rb,{size:18})})]})]}),I.jsxs("div",{className:`rounded-lg p-2 flex flex-col md:flex-row items-center justify-between gap-4 ${H.headerNav}`,children:[I.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto justify-between md:justify-start",children:[I.jsx("button",{onClick:()=>Se(-1),className:`p-1.5 rounded-md transition-colors ${g?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-200 text-gray-600"}`,children:I.jsx(_N,{size:24})}),I.jsx("button",{onClick:()=>Se(1),className:`p-1.5 rounded-md transition-colors ${g?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-200 text-gray-600"}`,children:I.jsx(EN,{size:24})})]}),I.jsx("div",{className:`text-xl font-bold capitalize text-center ${g?"text-gray-100":"text-gray-800"}`,children:b==="month"?D.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}):D.toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),I.jsxs("div",{className:`flex p-1 rounded-md w-full md:w-auto ${g?"bg-gray-900/50":"bg-gray-200/50"}`,children:[I.jsx("button",{onClick:()=>A("day"),className:`flex-1 md:flex-none px-4 py-1.5 text-sm font-medium rounded-md transition-all ${b==="day"?H.activeTab:H.inactiveTab}`,children:"Dia"}),I.jsx("button",{onClick:()=>A("week"),className:`flex-1 md:flex-none px-4 py-1.5 text-sm font-medium rounded-md transition-all ${b==="week"?H.activeTab:H.inactiveTab}`,children:"Semana"}),I.jsx("button",{onClick:()=>A("month"),className:`flex-1 md:flex-none px-4 py-1.5 text-sm font-medium rounded-md transition-all ${b==="month"?H.activeTab:H.inactiveTab}`,children:"Ms"})]})]})]}),I.jsxs("main",{className:"max-w-7xl mx-auto px-4 mt-4",children:[b==="day"&&I.jsx(fi,{}),b==="week"&&I.jsx(Ie,{}),b==="month"&&I.jsx(So,{})]}),I.jsx(ZN,{toast:bt,onClose:()=>yt(null)}),I.jsx(ex,{isOpen:Jt,mode:Ot,onClose:()=>Qt(!1),onSave:Ot==="view"?yr:_r,onRequestDelete:kn,formData:ht,setFormData:Dt,selectedActivity:S,isDarkMode:g,themeClasses:H,getAreaColor:tt}),I.jsx(tx,{isOpen:V,onClose:()=>x(!1),onConfirm:Es,isRecurring:L?.recurrence!=="none",isDarkMode:g,themeClasses:H}),I.jsx(WN,{isOpen:he,onClose:()=>Te(!1),onConfirm:M,isDarkMode:g,themeClasses:H})]})};X1.createRoot(document.getElementById("root")).render(I.jsx(se.StrictMode,{children:I.jsx(nx,{})}));
